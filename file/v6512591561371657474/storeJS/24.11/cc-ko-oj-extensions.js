define("ojtranslations/nls/localeElements",{root:{supplemental:{weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},plurals:{ar:function(e){return 0===e?"zero":1===e?"one":2===e?"two":e%100===Math.floor(e%100)&&e%100>=3&&e%100<=10?"few":e%100===Math.floor(e%100)&&e%100>=11&&e%100<=99?"many":"other"},as:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},be:function(e){return e%10==1&&e%100!=11?"one":e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?"few":e%10==0||e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?"many":"other"},bg:function(e){return 1===e?"one":"other"},bn:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},bo:function(e){return"other"},brx:function(e){return 1===e?"one":"other"},ca:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},cs:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===i?"few":0!==i?"many":"other"},da:function(e){var t=Math.floor(Math.abs(e)),i=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===e||0!==i&&(0===t||1===t)?"one":"other"},de:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},el:function(e){return 1===e?"one":"other"},en:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},es:function(e){return 1===e?"one":"other"},et:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},fi:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},fr:function(e){var t=Math.floor(Math.abs(e));return 0===t||1===t?"one":"other"},ga:function(e){return 1===e?"one":2===e?"two":e===Math.floor(e)&&e>=3&&e<=6?"few":e===Math.floor(e)&&e>=7&&e<=10?"many":"other"},gu:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},he:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":2===t&&0===i?"two":0!==i||e>=0&&e<=10||e%10!=0?"other":"many"},hi:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},hr:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0===i&&t%10==1&&(t%100!=11||n%10==1&&n%100!=11)?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))?"few":"other"},hu:function(e){return 1===e?"one":"other"},id:function(e){return"other"},is:function(e){var t=Math.floor(Math.abs(e)),i=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 0!==i||t%10!=1||t%100==11&&0===i?"other":"one"},it:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},ja:function(e){return"other"},kn:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},ko:function(e){return"other"},kok:function(e){return"other"},ks:function(e){return 1===e?"one":"other"},lt:function(e){var t=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return e%10!=1||e%100>=11&&e%100<=19?e%10===Math.floor(e%10)&&e%10>=2&&e%10<=9&&!(e%100>=11&&e%100<=19)?"few":0!==t?"many":"other":"one"},lv:function(e){var t=e.toString().replace(/^[^.]*.?/,"").length,i=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return e%10==0||e%100===Math.floor(e%100)&&e%100>=11&&e%100<=19||2===t&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=19?"zero":e%10==1&&(e%100!=11||2===t&&i%10==1&&(i%100!=11||2!==t&&i%10==1))?"one":"other"},mk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0!==i||t%10!=1&&n%10!=1?"other":"one"},ml:function(e){return 1===e?"one":"other"},mr:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},ms:function(e){return"other"},mt:function(e){return 1===e?"one":0===e||e%100===Math.floor(e%100)&&e%100>=2&&e%100<=10?"few":e%100===Math.floor(e%100)&&e%100>=11&&e%100<=19?"many":"other"},nb:function(e){return 1===e?"one":"other"},ne:function(e){return 1===e?"one":"other"},nl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},nn:function(e){return 1===e?"one":"other"},no:function(e){return 1===e?"one":"other"},or:function(e){return 1===e?"one":"other"},pa:function(e){return e===Math.floor(e)&&e>=0&&e<=1?"one":"other"},pl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&1!==t&&(t%10===Math.floor(t%10)&&t%10>=0&&t%10<=1||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=12&&t%100<=14))?"many":"other"},pt:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===t&&(0===i||0===t&&1===n)?"one":"other"},"pt-PT":function(e){var t=e.toString().replace(/^[^.]*.?/,"").length;return 1===e&&0===t?"one":"other"},ro:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":0!==i||0===e||1!==e&&e%100===Math.floor(e%100)&&e%100>=1&&e%100<=19?"few":"other"},ru:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%10==1&&t%100!=11?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&(t%10==0||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},sk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===i?"few":0!==i?"many":"other"},sl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%100==1?"one":0===i&&t%100==2?"two":0===i&&(t%100===Math.floor(t%100)&&t%100>=3&&t%100<=4||0!==i)?"few":"other"},sq:function(e){return 1===e?"one":"other"},sr:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0===i&&t%10==1&&(t%100!=11||n%10==1&&n%100!=11)?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))?"few":"other"},sv:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},ta:function(e){return 1===e?"one":"other"},te:function(e){return 1===e?"one":"other"},th:function(e){return"other"},tr:function(e){return 1===e?"one":"other"},uk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%10==1&&t%100!=11?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&(t%10==0||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},ur:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},vi:function(e){return"other"},zh:function(e){return"other"}},currencyData:{fractions:{IDR:{_rounding:"0",_digits:"0"},JPY:{_rounding:"0",_digits:"0"},KRW:{_rounding:"0",_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"}),define("ojs/ojmessaging",["ojs/ojcore","jquery"],function(e,t){"use strict";return e.Message=function(e,t,i){this.Init(e,t,i)},e.Message.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},e.Message.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},e.Object.createSubclass(e.Message,e.Object,"oj.Message"),e.Message.prototype.Init=function(t,i,n){e.Message.superclass.Init.call(this),this.summary=t,this.detail=i,this.severity=n||e.Message.SEVERITY_TYPE.ERROR},e.Message.getSeverityLevel=function(t){var i=t;if(i)if("string"==typeof t){var n=e.Message._LEVEL_TO_TYPE.indexOf(i,1);i=-1===n?e.Message.SEVERITY_LEVEL.ERROR:n}else"number"==typeof i&&(i<e.Message.SEVERITY_LEVEL.CONFIRMATION||i>e.Message.SEVERITY_LEVEL.FATAL)&&(i=e.Message.SEVERITY_LEVEL.ERROR);return i||e.Message.SEVERITY_LEVEL.ERROR},e.Message.getSeverityType=function(t){var i=t;return i&&("string"==typeof i?-1===e.Message._LEVEL_TO_TYPE.indexOf(i,1)&&(i=e.Message.SEVERITY_TYPE.ERROR):"number"==typeof i&&(i=i<e.Message.SEVERITY_LEVEL.CONFIRMATION||i>e.Message.SEVERITY_LEVEL.FATAL?e.Message.SEVERITY_TYPE.ERROR:e.Message._LEVEL_TO_TYPE[t])),i||e.Message.SEVERITY_TYPE.ERROR},e.Message.getMaxSeverity=function(i){var n=-1;return i&&i.length>0&&t.each(i,function(t,i){var r=e.Message.getSeverityLevel(i.severity);n=n<r?r:n}),n},e.Message.isValid=function(t){return!(e.Message.getMaxSeverity(t)>=e.Message.SEVERITY_LEVEL.ERROR)},e.Message._LEVEL_TO_TYPE=["none",e.Message.SEVERITY_TYPE.CONFIRMATION,e.Message.SEVERITY_TYPE.INFO,e.Message.SEVERITY_TYPE.WARNING,e.Message.SEVERITY_TYPE.ERROR,e.Message.SEVERITY_TYPE.FATAL],e.Message,e.ComponentMessage=function(e,t,i,n){this.Init(e,t,i,n)},e.Object.createSubclass(e.ComponentMessage,e.Message,"oj.ComponentMessage"),e.ComponentMessage.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"},e.ComponentMessage._DEFAULT_OPTIONS={display:e.ComponentMessage.DISPLAY.SHOWN,context:""},e.ComponentMessage.prototype.Init=function(i,n,r,o){e.ComponentMessage.superclass.Init.call(this,i,n,r),this._options=t.extend({},e.ComponentMessage._DEFAULT_OPTIONS,o)},e.ComponentMessage.prototype.clone=function(){return new e.ComponentMessage(this.summary,this.detail,this.severity,this._options)},e.ComponentMessage.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===e.ComponentMessage.DISPLAY.HIDDEN)},e.ComponentMessage.prototype._forceDisplayToShown=function(){return!(!this._options||e.ComponentMessage.DISPLAY.HIDDEN!==this._options.display||(this._options.display=e.ComponentMessage.DISPLAY.SHOWN,0))},e.ComponentMessage.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},e.Message}),define("ojs/ojlocaledata",["ojs/ojcore","ojL10n!ojtranslations/nls/localeElements"],function(e,t){"use strict";var i={setBundle:function(e){i._bundle=e},getFirstDayOfWeek:function(){return i._getWeekData("firstDay")},getWeekendStart:function(){return i._getWeekData("weekendStart")},getWeekendEnd:function(){return i._getWeekData("weekendEnd")},getDayNames:function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=i._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},getMonthNames:function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=i._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},isMonthPriorToYear:function(){var e=i._getCalendarData().dateFormats.long.toUpperCase();return e.indexOf("M")<e.indexOf("Y")},_getWeekData:function(e){var t=i.__getBundle(),n=i._getRegion()||"001",r=t.supplemental.weekData[e],o=r[n];return void 0===o&&(o=r["001"]),o},_getCalendarData:function(){var e=i.__getBundle().main;return e[Object.keys(e)[0]].dates.calendars.gregorian},_getRegion:function(){var t=e.Config.getLocale();if(t){var i=t.toUpperCase().split(/-|_/);if(i.length>=2){var n=i[1];if(4!==n.length)return n;if(i.length>=3)return i[2]}}return null},__getBundle:function(){var n=i._bundle;return n||(e.__isAmdLoaderPresent()?(e.Assert.assert(void 0!==t,"LocaleElements module must be loaded"),t):{})},__updateBundle:function(e){t=e}};return i}),define("ojs/ojvalidation-base",["ojs/ojcore","jquery","ojs/ojtranslation","ojs/ojmessaging","ojs/ojlocaledata","ojs/ojlogger"],function(e,t,i,n,r,o){"use strict";e.OraI18nUtils={},e.OraI18nUtils.numeringSystems={latn:"0123456789",arab:"٠١٢٣٤٥٦٧٨٩",thai:"๐๑๒๓๔๕๖๗๘๙"},e.OraI18nUtils.regexTrim=/^\s+|\s+$|\u200f|\u200e/g,e.OraI18nUtils.regexTrimNumber=/\s+|\u200f|\u200e/g,e.OraI18nUtils.regexTrimRightZeros=/0+$/g,e.OraI18nUtils.zeros=["0","00","000"],e.OraI18nUtils._ISO_DATE_REGEXP=/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,e.OraI18nUtils.getLocalTimeZoneOffset=function(){var t=(new Date).getTimezoneOffset();return e.OraI18nUtils.getTimeStringFromOffset("Etc/GMT",t,!1,!1)},e.OraI18nUtils.dateToLocalIso=function(t){var i=t;"number"==typeof i&&(i=new Date(i));var n=e.OraI18nUtils.padZeros(i.getFullYear(),4)+"-"+e.OraI18nUtils.padZeros(i.getMonth()+1,2)+"-"+e.OraI18nUtils.padZeros(i.getDate(),2)+"T"+e.OraI18nUtils.padZeros(i.getHours(),2)+":"+e.OraI18nUtils.padZeros(i.getMinutes(),2)+":"+e.OraI18nUtils.padZeros(i.getSeconds(),2);return i.getMilliseconds()>0&&(n+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(i.getMilliseconds(),3))),n},e.OraI18nUtils.partsToIsoString=function(t){var i=e.OraI18nUtils.padZeros(t[0],4)+"-"+e.OraI18nUtils.padZeros(t[1],2)+"-"+e.OraI18nUtils.padZeros(t[2],2)+"T"+e.OraI18nUtils.padZeros(t[3],2)+":"+e.OraI18nUtils.padZeros(t[4],2)+":"+e.OraI18nUtils.padZeros(t[5],2);return t[6]>0&&(i+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(t[6],3))),i},e.OraI18nUtils.isoToLocalDate=function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},e.OraI18nUtils._isoToLocalDateIgnoreTimezone=function(t){var i=e.OraI18nUtils._IsoStrParts(t);return new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5],i[6])},e.OraI18nUtils._IsoStrParts=function(t){!1===e.OraI18nUtils._ISO_DATE_REGEXP.test(t)&&e.OraI18nUtils._throwInvalidISOStringSyntax(t);var i,n=t.split("T"),r=t.indexOf("T"),o=new Date,s=!1,a=[o.getFullYear(),o.getMonth()+1,o.getDate(),0,0,0,0];if(""!==n[0]){e.OraI18nUtils.startsWith(n[0],"-")&&(n[0]=n[0].substr(1),s=!0);var l=n[0].split("-");for(i=0;i<l.length;i++){var u=parseInt(l[i],10);if(1===i&&(u<1||u>12)&&e.OraI18nUtils._throwInvalidISOStringRange(t,"month",u,1,12),2===i){var c=e.OraI18nUtils._getDaysInMonth(a[0],a[1]-1);(u<1||u>c)&&e.OraI18nUtils._throwInvalidISOStringRange(t,"day",u,1,c)}a[i]=u}s&&(a[0]=-a[0])}if(-1!==r){var d=n[1].split("."),p=d[0].split(":");for(i=0;i<p.length;i++){var h=parseInt(p[i],10);0===i&&(h<0||h>24)&&e.OraI18nUtils._throwInvalidISOStringRange(t,"hour",h,0,24),1===i&&(h<0||h>59)&&e.OraI18nUtils._throwInvalidISOStringRange(t,"minute",h,0,59),2===i&&(h<0||h>59)&&e.OraI18nUtils._throwInvalidISOStringRange(t,"second",h,0,59),a[3+i]=h}2===d.length&&d[1]&&(a[6]=parseInt(e.OraI18nUtils.zeroPad(d[1],3,!1),10))}return a},e.OraI18nUtils.getISOStrFormatInfo=function(t){var i={format:null,dateTime:null,timeZone:"",isoStrParts:null},n=e.OraI18nUtils._ISO_DATE_REGEXP.exec(t);if(null===n&&e.OraI18nUtils._throwInvalidISOStringSyntax(t),void 0===n[1]&&void 0===n[2])return i.format="local",i.dateTime=t,i.isoStrParts=e.OraI18nUtils._IsoStrParts(i.dateTime),i;i.timeZone=void 0!==n[1]?n[1]:n[2],"Z"===i.timeZone?i.format="zulu":i.format="offset";var r=t.length,o=i.timeZone.length;return i.dateTime=t.substring(0,r-o),i.isoStrParts=e.OraI18nUtils._IsoStrParts(i.dateTime),i},e.OraI18nUtils._isLeapYear=function(e){return e%400==0||e%100!=0&&e%4==0},e.OraI18nUtils._getDaysInMonth=function(t,i){switch(i){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return e.OraI18nUtils._isLeapYear(t)?29:28;default:return 30}},e.OraI18nUtils._throwInvalidISOStringRange=function(e,t,i,n,r){var o=new RangeError("The string "+e+" is not a valid ISO 8601 string: "+i+" is out of range.  Enter a value between "+n+" and "+r+" for "+t),s={errorCode:"isoStringOutOfRange",parameterMap:{isoString:e,value:i,minValue:n,maxValue:r,propertyName:t}};throw o.errorInfo=s,o},e.OraI18nUtils._throwInvalidISOStringSyntax=function(e){var t=new Error("The string "+e+" is not a valid ISO 8601 string syntax."),i={errorCode:"invalidISOString",parameterMap:{isoStr:e}};throw t.errorInfo=i,t},e.OraI18nUtils.trim=function(t){return(t+"").replace(e.OraI18nUtils.regexTrim,"")},e.OraI18nUtils.trimRightZeros=function(t){return(t+"").replace(e.OraI18nUtils.regexTrimRightZeros,"")},e.OraI18nUtils.trimNumber=function(t){return(t+"").replace(e.OraI18nUtils.regexTrimNumber,"")},e.OraI18nUtils.startsWith=function(e,t){return 0===e.indexOf(t)},e.OraI18nUtils.toUpper=function(e){return e.split(" ").join(" ").toUpperCase()},e.OraI18nUtils.padZeros=function(t,i){var n=t+"",r=!1;return t<0&&(n=n.substr(1),r=!0),i>1&&n.length<i&&(n=(n=e.OraI18nUtils.zeros[i-2]+n).substr(n.length-i,i)),r&&(n="-"+n),n},e.OraI18nUtils.zeroPad=function(e,t,i){for(var n=""+e,r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n},e.OraI18nUtils.getTimeStringFromOffset=function(t,i,n,r){var o=n?i>=0:i<0,s=Math.abs(i),a=Math.floor(s/60),l=s%60,u=o?"-":"+";r&&(a=e.OraI18nUtils.zeroPad(a,2,!0));var c=t+u+a;return(l>0||r)&&(c+=":"+e.OraI18nUtils.zeroPad(l,2,!0)),c},e.OraI18nUtils.getNumberingSystemKey=function(t,i){if(void 0===i)return"latn";var n=e.OraI18nUtils.getNumberingExtension(i),r="symbols-numberSystem-"+n;return void 0===t.numbers[r]&&(n="latn"),n},e.OraI18nUtils.getBCP47Lang=function(e){return e.split("-")[0]},e.OraI18nUtils.getBCP47Region=function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},e.OraI18nUtils.getNumberingExtension=function(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n},e.OraI18nUtils.haveSamePropertiesLength=function(e){return Object.keys(e).length},e.OraI18nUtils.getLocaleElementsMainNode=function(e){var t=e.main;return t[Object.keys(t)[0]]},e.OraI18nUtils.getLocaleElementsMainNodeKey=function(e){var t=e.main;return Object.keys(t)[0]},e.OraI18nUtils._toBoolean=function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},e.OraI18nUtils.getGetOption=function(t,i){if(void 0===t)throw new Error("Internal "+i+" error. Default options missing.");return function(n,r,o,s){if(void 0!==t[n]){var a=t[n];switch(r){case"boolean":a=e.OraI18nUtils._toBoolean(a);break;case"string":a=String(a);break;case"number":a=Number(a);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(a)){for(var l=[],u=0;u<o.length;u++)l.push(o[u]);var c="The value '"+t[n]+"' is out of range for '"+i+"' options property '"+n+"'. Valid values: "+l,d=new RangeError(c),p={errorCode:"optionOutOfRange",parameterMap:{propertyName:n,propertyValue:t[n],propertyValueValid:l,caller:i}};throw d.errorInfo=p,d}return a}return s}},e.OraI18nUtils.matchString=function(t,i,n,r){void 0===r&&(r={sensitivity:"base",usage:"sort"});var o=e.OraI18nUtils.getGetOption(r,"oj.OraI18nUtils.matchString");r.usage=o("usage","string",["sort","search"],"sort"),r.sensitivity=o("sensitivity","string",["base","accent","case","variant"],"base");for(var s=t.length,a=i.length-1,l=0;l<s;l++)for(var u=0;u<3;u++){var c=s-l;if(c=Math.min(c,a+u),0===t.substr(l,c).localeCompare(i,n,r))return[l,l+(c-1)]}return null};var s={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};e.OraI18nUtils.isoToDate=function(e){return new Date(this._normalizeIsoString(e))},e.OraI18nUtils._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var i=this._normalizeIsoString(t),n=e.indexOf("T"),r=i.indexOf("T");return i.substring(0,r)+(-1!==n?e.substring(n):"T00:00:00.000")},e.OraI18nUtils._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},e.OraI18nUtils._dateTime=function(e,i,n){if(!e||!i)throw new Error("Invalid argument invocation");var r,o,a=null,l=s,u=this.padZeros,c=this._normalizeIsoString(e),d=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(c);if(!d)throw new Error("Unable to capture anything");if(d=d.slice(1),Array.isArray(i)){a={};for(var p=0,h=i.length;p<h;p++){var m=i[p];if(m in l){if(o=d[r=l[m].pos],n&&"timeZone"===m)throw new Error("Dude you tried to ask timezone to be parsed");if(n){var f=parseInt(o,10);a[m]=1===r?f-1:f}else a[m]=o}}}else if(t.isPlainObject(i)){for(var g=Object.keys(i),_=0;_<g.length;_++){var v=g[_],y=l[v];r=y.pos,o=i[v],1===r&&"number"==typeof o&&(o+=1),d[r]=y.pad?u(o,y.pad):o}a=d[0]+"-"+d[1]+"-"+d[2]+"T"+d[3]+":"+d[4]+":"+d[5]+(d.length>6&&d[6]?"."+d[6]+(8===d.length&&d[7]?d[7]:""):"")}return a},e.OraI18nUtils._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,i=(new Date).toISOString(),n=i.substring(0,i.indexOf("T")),r=e.indexOf("T"),o=-1===r?e:e.substring(0,r);return(o=o||n)+(-1!==r?(t=e.substring(r)).split(":").length>1?t:t+":00":"T00:00:00.000")},e.OraI18nUtils.formatString=function(e,t){for(var i=t.length,n=e,r=0;r<i;r++){var o="{"+r+"}";n=n.replace(o,t[r])}return n},e.OraI18nUtils.getInitials=function(e,t){var i,n=0,r=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t.length<2)return"";if((r=t.charCodeAt(1))<56320||r>57343)return"";if((i=1024*(n-55296)+(r-56320)+65536)>=110592&&i<=110847||i>=127488&&i<=127743||i>=131072&&i<=173791||i>=173824&&i<=177983||i>=177984&&i<=178207||i>=178208&&i<=183983||i>=194560&&i<=195103)return t}return n="",r="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(r=t.charAt(0).toUpperCase()),n+r},e.Validation={},e.Validation._converterFactories={},e.Validation._validatorFactories={},e.Validation._defaultConverterFactories={},e.Validation._defaultValidatorFactories={},e.Validation._CONTRACTS={converter:{name:"oj.ConverterFactory",type:e.ConverterFactory},validator:{name:"oj.ValidatorFactory",type:e.ValidatorFactory}},e.Validation.converterFactory=function(t,i){var n;return t&&!i?n=e.Validation._getFactory(t,e.Validation._converterFactories):t&&i&&(n=e.Validation._registerFactory(t,i,e.Validation._converterFactories,e.Validation._CONTRACTS.converter)),n},e.Validation.validatorFactory=function(t,i){var n;return t&&!i?n=e.Validation._getFactory(t,e.Validation._validatorFactories):t&&i&&(n=e.Validation._registerFactory(t,i,e.Validation._validatorFactories,e.Validation._CONTRACTS.validator)),n},e.Validation.getDefaultConverterFactory=function(t){return e.Validation._getFactory(t,e.Validation._defaultConverterFactories)},e.Validation.getDefaultValidatorFactory=function(t){return e.Validation._getFactory(t,e.Validation._defaultValidatorFactories)},e.Validation.__registerDefaultConverterFactory=function(t,i){var n=e.Validation._CONTRACTS.converter;e.Validation._registerFactory(t,i,e.Validation._defaultConverterFactories,n),e.Validation._registerFactory(t,i,e.Validation._converterFactories,n)},e.Validation.__registerDefaultValidatorFactory=function(t,i){var n=e.Validation._CONTRACTS.validator;e.Validation._registerFactory(t,i,e.Validation._defaultValidatorFactories,n),e.Validation._registerFactory(t,i,e.Validation._validatorFactories,n)},e.Validation._doImplementsCheck=function(t,i,n){if(i&&!e.Validation._quacksLike(t,i))throw new Error("Factory instance does not implement the methods expected by the factory of type "+n)},e.Validation._getFactory=function(t,i){return e.Assert.assertString(t),(i[t.toLowerCase()]||{}).instance||null},e.Validation._quacksLike=function(t,i){var n=!0;e.Assert.assertObject(t),e.Assert.assertObject(i);for(var r=Object.keys(i),o=0;o<r.length;o++){var s=r[o];if("function"==typeof i[s]&&(!t[s]||"function"!=typeof t[s])){n=!1;break}}return n},e.Validation._registerFactory=function(t,i,n,r){e.Assert.assertString(t),e.Assert.assertObject(i);var o={};o.instance=i,e.Validation._doImplementsCheck(i,r.type,r.name),n[t.toLowerCase()]=o},e.ConverterFactory={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",CONVERTER_TYPE_COLOR:"color",createConverter:function(e){}},e.ValidatorFactory={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYPE_DATERESTRICTION:"dateRestriction",createValidator:function(e){}},e.Converter=function(e){this.Init(e)},e.Object.createSubclass(e.Converter,e.Object,"oj.Converter"),e.Converter.prototype.Init=function(t){e.Converter.superclass.Init.call(this),this._options=t},e.Converter.prototype.getOptions=function(){return this._options||{}},e.Converter.prototype.resolvedOptions=function(){var e={};return t.extend(e,this._options),e},e.ConverterError=function(e,t){var i={summary:e,detail:t,severity:n.SEVERITY_LEVEL.ERROR};this.Init(i)},e.ConverterError.prototype=new Error,e.ConverterError.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Converter Error",this.message=t||i},e.ConverterError.prototype.getMessage=function(){return this._message},e.Validator=function(e){this.Init(e)},e.Object.createSubclass(e.Validator,e.Object,"oj.Validator"),e.Validator.prototype.Init=function(t){e.Validator.superclass.Init.call(this)},e.ValidatorError=function(e,t){var i={summary:e,detail:t,severity:n.SEVERITY_LEVEL.ERROR};this.Init(i)},e.ValidatorError.prototype=new Error,e.ValidatorError.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Validator Error",this.message=t||i},e.ValidatorError.prototype.getMessage=function(){return this._message},e.RegExpValidator=function(e){this.Init(e)},e.Object.createSubclass(e.RegExpValidator,e.Validator,"oj.RegExpValidator"),e.RegExpValidator._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",e.RegExpValidator._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",e.RegExpValidator.prototype.Init=function(t){e.RegExpValidator.superclass.Init.call(this),this._options=t},e.RegExpValidator.prototype.validate=function(t){var n,r,o,s=this._options&&this._options.pattern||"";if(null==t||""===t)return!0;var a=t.toString(),l="^("+s+")$",u=a.match(l);if(null===u||u[0]!==a){this._options&&(o=this._options.messageSummary||null,n=this._options.messageDetail||null,r=this._options&&this._options.label||"");var c={label:r,pattern:s,value:a},d=o?i.applyParameters(o,c):i.getTranslatedString(this._getSummaryKey(),c),p=n?i.applyParameters(n,c):i.getTranslatedString(this._getDetailKey(),c);throw new e.ValidatorError(d,p)}return!0},e.RegExpValidator.prototype.getHint=function(){var e=null,t={};return this._options&&this._options.hint&&(t={pattern:this._options.pattern},e=i.applyParameters(this._options.hint,t)),e},e.RegExpValidator.prototype._getSummaryKey=function(){return e.RegExpValidator._BUNDLE_KEY_SUMMARY},e.RegExpValidator.prototype._getDetailKey=function(){return e.RegExpValidator._BUNDLE_KEY_DETAIL},e.RequiredValidator=function(e){this.Init(e)},e.Object.createSubclass(e.RequiredValidator,e.Validator,"oj.RequiredValidator"),e.RequiredValidator._BUNDLE_KEY_DETAIL="oj-validator.required.detail",e.RequiredValidator._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",e.RequiredValidator.prototype.Init=function(t){e.RequiredValidator.superclass.Init.call(this),this._options=t},e.RequiredValidator.prototype.validate=function(t){var n,r,o,s,a,l="";if("number"==typeof t&&0===t||t&&0!==t.length)return!0;throw this._options&&(n=this._options.messageDetail||this._options.message||null,s=this._options.messageSummary||null,l=this._options.label||""),a={label:l},o=s?i.applyParameters(s,a):i.getTranslatedString(this._getSummaryKey(),a),r=n?i.applyParameters(n,a):i.getTranslatedString(this._getDetailKey(),a),new e.ValidatorError(o,r)},e.RequiredValidator.prototype.getHint=function(){var e="";return this._options&&this._options.hint&&(e=i.getTranslatedString(this._options.hint)),e},e.RequiredValidator.prototype._getSummaryKey=function(){return e.RequiredValidator._BUNDLE_KEY_SUMMARY},e.RequiredValidator.prototype._getDetailKey=function(){return e.RequiredValidator._BUNDLE_KEY_DETAIL},function(){function t(e,t){return"#"+function(e,t){return function(e,t,i,n){var o=[r(Math.round(e).toString(16)),r(Math.round(t).toString(16)),r(Math.round(i).toString(16))];return n&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}(e._r,e._g,e._b,t)}(e,t)}function n(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),
i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function r(e){return 1===e.length?"0"+e:""+e}e.ColorConverter=function(e){this.Init(e)},e.Object.createSubclass(e.ColorConverter,e.Converter,"oj.ColorConverter"),e.ColorConverter.prototype.Init=function(t){(t=t||{}).format=t.format||"rgb",e.ColorConverter.superclass.Init.call(this,t)},e.ColorConverter.prototype.format=function(r){var o=this._getFormat(),s=null;return"rgb"===o?s=r.toString():"hsl"===o?s=function(e){var t=function(e,t,i){e=n(e,255),t=n(t,255),i=n(i,255);var r,o,s=Math.max(e,t,i),a=Math.min(e,t,i),l=(s+a)/2;if(s===a)r=0,o=0;else{var u=s-a;switch(o=l>.5?u/(2-s-a):u/(s+a),s){case e:r=(t-i)/u+(t<i?6:0);break;case t:r=(i-e)/u+2;break;case i:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:l}}(e._r,e._g,e._b),i=Math.round(360*t.h),r=Math.round(100*t.s),o=Math.round(100*t.l);return 1===e._a?"hsl("+i+", "+r+"%, "+o+"%)":"hsla("+i+", "+r+"%, "+o+"%, "+e._a+")"}(r):"hex"===o?s=t(r):"hex3"===o?s=t(r,!0):"hsv"===o?s=function(e){var t=function(e,t,i){e=n(e,255),t=n(t,255),i=n(i,255);var r,o=Math.max(e,t,i),s=Math.min(e,t,i),a=o,l=o-s,u=0===o?0:l/o;if(o===s)r=0;else{switch(o){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:u,v:a}}(e._r,e._g,e._b),i=Math.round(360*t.h),r=Math.round(100*t.s),o=Math.round(100*t.v);return 1===e._a?"hsv("+i+", "+r+"%, "+o+"%)":"hsva("+i+", "+r+"%, "+o+"%, "+e._a+")"}(r):function(){var t=i.getTranslatedString("oj-converter.color.invalidFormat.summary"),n=i.getTranslatedString("oj-converter.color.invalidFormat.detail");throw new e.ConverterError(t,n)}(),s||e.ColorConverter.superclass.format.call(this,r)},e.ColorConverter.prototype.parse=function(t){try{return new e.Color(t)}catch(t){throw function(){var t=i.getTranslatedString("oj-converter.color.invalidSyntax.summary"),n=i.getTranslatedString("oj-converter.color.invalidSyntax.detail");throw new e.ConverterError(t,n)}()}},e.ColorConverter.prototype.getHint=function(){return this._getFormat()},e.ColorConverter.prototype.resolvedOptions=function(){return{format:this._getFormat()}},e.ColorConverter.prototype._getFormat=function(){return e.ColorConverter.superclass.getOptions.call(this).format}}(),e.IntlConverterUtils={},e.IntlConverterUtils.isoToDate=function(t){return e.OraI18nUtils.isoToDate(t)},e.IntlConverterUtils.isoToLocalDate=function(t){return e.OraI18nUtils.isoToLocalDate(t)},e.IntlConverterUtils.dateToLocalIso=function(t){return e.OraI18nUtils.dateToLocalIso(t)},e.IntlConverterUtils.getLocalTimeZoneOffset=function(){return e.OraI18nUtils.getLocalTimeZoneOffset()},e.IntlConverterUtils.getConverterInstance=function(t){var i="",n={},r=null;if(t&&("object"==typeof t&&(t instanceof e.Converter||t.parse&&"function"==typeof t.parse||t.format&&"function"==typeof t.format?r=t:(i=t.type,n=t.options||{})),!r&&(i=i||t)&&"string"==typeof i)){var s=e.Validation.converterFactory(i);return null===s&&o.error("Converter of type "+i+" cannot be found. Make sure the correct converter/validation module is included."),s.createConverter(n)}return r},e.IntlConverterUtils._minMaxIsoString=function(e,t){if(e){var i=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&i>0&&(e=t.substring(0,i)+e)}return e},e.IntlConverterUtils.__getConverterOptionError=function(t,n){e.Assert.assertObject(n);var r,o="",s="",a=n.propertyName;if("optionTypesMismatch"===t){var l=n.requiredPropertyName;r=n.requiredPropertyValueValid,o=i.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:a,propertyValue:n.propertyValue,requiredPropertyName:l}),s=e.IntlConverterUtils._getOptionValueDetailMessage(l,r)}else"optionTypeInvalid"===t?(a=n.propertyName,r=n.propertyValueValid,o=i.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:a}),s=e.IntlConverterUtils._getOptionValueDetailMessage(a,r)):"optionOutOfRange"===t?(o=i.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:a,propertyValue:n.propertyValue}),r=n.propertyValueValid,s=e.IntlConverterUtils._getOptionValueDetailMessage(a,r)):"optionValueInvalid"===t&&(o=i.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:a,propertyValue:n.propertyValue}),r=n.propertyValueHint,s=e.IntlConverterUtils._getOptionValueDetailMessage(a,r));return new e.ConverterError(o,s)},e.IntlConverterUtils._getOptionValueDetailMessage=function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(i.getTranslatedString("oj-converter.plural-separator"))),i.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},e.IntlConverterUtils.__getNullFormattedValue=function(){return""},e.IntlConverterUtils._copyTimeOver=function(t,i){return e.OraI18nUtils._copyTimeOver(t,i)},e.IntlConverterUtils._clearTime=function(t){return e.OraI18nUtils._clearTime(t)},e.IntlConverterUtils._dateTime=function(t,i,n){return e.OraI18nUtils._dateTime(t,i,n)},e.IntlConverterUtils._normalizeIsoString=function(t){return e.OraI18nUtils._normalizeIsoString(t)},e.IntlConverterUtils.getInitials=function(t,i){return e.OraI18nUtils.getInitials(t,i)},e.LengthValidator=function(e){this.Init(e)},e.LengthValidator.defaults={countBy:"codeUnit"},e.Object.createSubclass(e.LengthValidator,e.Validator,"oj.LengthValidator"),e.LengthValidator.prototype.Init=function(t){var i=t.countBy;if(e.LengthValidator.superclass.Init.call(this),this._min=void 0!==t.min?parseInt(t.min,10):null,this._max=void 0!==t.max?parseInt(t.max,10):null,isNaN(this._min))throw new Error("length validator's min option is not a number. min option is "+t.min);if(isNaN(this._max))throw new Error("length validator's max option is not a number. max option is "+t.min);if(null!==this._min&&this._min<0)throw new Error("length validator's min option cannot be less than 0. min option is "+t.min);if(null!==this._max&&this._max<1)throw new Error("length validator's max option cannot be less than 1. max option is "+t.max);this._countBy=void 0===i?e.LengthValidator.defaults.countBy:i,t&&(this._hint=t.hint||{},this._customMessageSummary=t.messageSummary||{},this._customMessageDetail=t.messageDetail||{})},e.LengthValidator.prototype.getHint=function(){var e,t=null,n=this._hint,r=n.exact,o=n.inRange,s=n.max,a=n.min,l=this._max,u=this._min,c=i;return null!==u&&null!==l?u!==l?(e={min:u,max:l},t=o?c.applyParameters(o,e):c.getTranslatedString("oj-validator.length.hint.inRange",e)):(e={length:u},t=r?c.applyParameters(r,e):c.getTranslatedString("oj-validator.length.hint.exact",e)):null!==u?(e={min:u},t=a?c.applyParameters(a,e):c.getTranslatedString("oj-validator.length.hint.min",e)):null!==l&&(e={max:l},t=s?c.applyParameters(s,e):c.getTranslatedString("oj-validator.length.hint.max",e)),t},e.LengthValidator.prototype.validate=function(t){var n,r=this._customMessageDetail,o=this._customMessageSummary,s="",a=this._max,l=o.tooLong,u=o.tooShort,c=r.tooLong,d=r.tooShort,p=this._min,h="",m=i,f=""+t,g=this._getLength(f);if((null===p||g>=this._min)&&(null===a||g<=this._max))return f;throw g<this._min?(n={value:t,min:p},h=u?m.applyParameters(u,n):m.getTranslatedString("oj-validator.length.messageSummary.tooShort"),s=d?m.applyParameters(d,n):m.getTranslatedString("oj-validator.length.messageDetail.tooShort",n)):(n={value:t,max:a},h=l?m.applyParameters(l,n):m.getTranslatedString("oj-validator.length.messageSummary.tooLong"),s=c?m.applyParameters(c,n):m.getTranslatedString("oj-validator.length.messageDetail.tooLong",n)),new e.ValidatorError(h,s)},e.LengthValidator.prototype._getLength=function(t){var i,n=this._countBy.toLowerCase(),r=t.length,o=0;switch(n){case"codepoint":for(var s=0;s<r;s++)55296==(63488&t.charCodeAt(s))&&(o+=1);e.Assert.assert(o%2==0,"the number of surrogate chars must be an even number."),i=r-o/2;break;case"codeunit":default:i=r}return i},e.ColorConverterFactory=function(){return{createConverter:function(t){return function(t){return new e.ColorConverter(t)}(t)}}}(),e.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_COLOR,e.ColorConverterFactory),e.RequiredValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.RequiredValidator(t)}(t)}}}(),e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REQUIRED,e.RequiredValidatorFactory),e.RegExpValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.RegExpValidator(t)}(t)}}}(),e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REGEXP,e.RegExpValidatorFactory),e.LengthValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.LengthValidator(t)}(t)}}}(),e.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_LENGTH,e.LengthValidatorFactory),e.LocaleData=r;var a={};return a.ColorConverter=e.ColorConverter,a.IntlConverterUtils=e.IntlConverterUtils,a.LengthValidator=e.LengthValidator,a.RegExpValidator=e.RegExpValidator,a.RequiredValidator=e.RequiredValidator,a.Validation=e.Validation,a}),define("ojs/ojvalidation-datetime",["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger"],function(e,t,i,n,r,o,s,a){"use strict";var l;e.DateTimeConverter=function(e){this.Init(e)},e.Object.createSubclass(e.DateTimeConverter,e.Converter,"oj.DateTimeConverter"),e.DateTimeConverter.prototype.Init=function(t){e.DateTimeConverter.superclass.Init.call(this,t)},e.DateTimeConverter.prototype.format=function(t){return e.DateTimeConverter.superclass.format.call(this,t)},e.DateTimeConverter.prototype.isHourInDaySet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isHourInAMPMSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMinuteSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isSecondSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMilliSecondSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isYearSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isMonthSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isDaySet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.isDayNameSet=function(){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.calculateWeek=function(t){e.Assert.failedInAbstractFunction()},e.DateTimeConverter.prototype.parse=function(t){return e.DateTimeConverter.superclass.parse.call(this,t)},e.DateTimeConverter.prototype.compareISODates=function(t,i){return e.DateTimeConverter.superclass.compareISODates.call(this,t,i)},e.DateTimeConverter.prototype.getAvailableTimeZones=function(){return e.DateTimeConverter.superclass.getAvailableTimeZones.call(this)},e.DateRestrictionValidator=function(e){this.Init(e)},e.Object.createSubclass(e.DateRestrictionValidator,e.Validator,"oj.DateRestrictionValidator"),e.DateRestrictionValidator.prototype.Init=function(t){e.DateRestrictionValidator.superclass.Init.call(this),this._dayFormatter=t.dayFormatter,this._converter=s.IntlConverterUtils.getConverterInstance(t.converter),t&&(this._messageSummary=t.messageSummary||null,this._messageDetail=t.messageDetail||null)},e.DateRestrictionValidator.prototype._inDisabled=function(e){var t=this._dayFormatter;if(t){var i=t({fullYear:e.fullYear,month:e.month+1,date:e.date});return i&&i.disabled}return!1},e.DateRestrictionValidator.prototype.validate=function(t){var i="",r="",o=n,a=this._messageSummary,l=this._messageDetail,u=t?this._converter.format(t):t,c=t?s.IntlConverterUtils._dateTime(t,["fullYear","month","date"],!0):null;if(null===t)return t;if(this._inDisabled(c))throw i=a?o.applyParameters(a,{value:u}):o.getTranslatedString("oj-validator.restriction.date.messageSummary",{value:u}),r=l?o.applyParameters(l,{value:u}):o.getTranslatedString("oj-validator.restriction.date.messageDetail",{value:u}),new e.ValidatorError(i,r);return t},e.DateRestrictionValidator.prototype.getHint=function(){return null},e.DateTimeRangeValidator=function(e){this.Init(e)},e.Object.createSubclass(e.DateTimeRangeValidator,e.Validator,"oj.DateTimeRangeValidator"),e.DateTimeRangeValidator.prototype.Init=function(t){if(e.DateTimeRangeValidator.superclass.Init.call(this),this._converter=s.IntlConverterUtils.getConverterInstance(t.converter),!this._converter)throw new Error("oj.DateTimeRangeValidator missing a converter option");this._min=t.min||null,this._max=t.max||null,this._translationKey=t.translationKey||"datetime",t&&(this._hint=t.hint||{},this._customMessageSummary=t.messageSummary||{},this._customMessageDetail=t.messageDetail||{}),n.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeOverflow")||(this._translationKey="datetime")},e.DateTimeRangeValidator.prototype.validate=function(t){var i,r,o=this._customMessageSummary,a=this._customMessageDetail,l=a.rangeOverflow,u=a.rangeUnderflow,c=o.rangeOverflow,d=o.rangeUnderflow,p=s.IntlConverterUtils,h=this._min,m=this._max,f="",g="",_=n,v=null,y=t&&this._converter.format(t);if(null===t)return t;if(y=this._converter.format(t),h&&(h=p._minMaxIsoString(h,t),i=this._converter?this._converter.format(h):h),m&&(m=p._minMaxIsoString(m,t),r=this._converter?this._converter.format(m):m),null!==h&&null!==m){if(this._converter.compareISODates(t,h)>=0&&this._converter.compareISODates(t,m)<=0||this._converter.compareISODates(h,m)>0)return t}else if(null!==h){if(this._converter.compareISODates(t,h)>=0)return t}else if(null===m||this._converter.compareISODates(t,m)<=0)return t;throw null!==m&&this._converter.compareISODates(t,m)>0?(v={value:y,max:r},f=c||_.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeOverflow"),g=l?_.applyParameters(l,v):_.getTranslatedString("oj-validator.range."+this._translationKey+".messageDetail.rangeOverflow",v)):null!==h&&this._converter.compareISODates(t,h)<0&&(v={value:y,min:i},f=d||_.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeUnderflow"),g=u?_.applyParameters(u,v):_.getTranslatedString("oj-validator.range."+this._translationKey+".messageDetail.rangeUnderflow",v)),new e.ValidatorError(f,g)},e.DateTimeRangeValidator.prototype.getHint=function(){var e=null,t=this._hint,i=t.inRange,r=t.min,o=t.max,s=this._min,a=this._max,l=s&&this._converter?this._converter.format(s):s,u=a&&this._converter?this._converter.format(a):a,c=null,d=n;return null!==s&&null!==a?(c={min:l,max:u},e=i?d.applyParameters(i,c):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.inRange",c)):null!==s?(c={min:l},e=r?d.applyParameters(r,c):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.min",c)):null!==a&&(c={max:u},e=o?d.applyParameters(o,c):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.max",c)),e},e.DateTimeConverterFactory=function(){return{createConverter:function(t){return function(t){return new e.IntlDateTimeConverter(t)}(t)}}}(),s.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME,e.DateTimeConverterFactory),e.DateTimeRangeValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.DateTimeRangeValidator(t)}(t)}}}(),s.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE,e.DateTimeRangeValidatorFactory),e.DateRestrictionValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.DateRestrictionValidator(t)}(t)}}}(),s.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION,e.DateRestrictionValidatorFactory),e.IntlDateTimeConverter=function(e){this.Init(e)},e.Object.createSubclass(e.IntlDateTimeConverter,e.DateTimeConverter,"oj.IntlDateTimeConverter"),e.IntlDateTimeConverter._DEFAULT_DATE=new Date(1998,10,29,15,45,31),e.IntlDateTimeConverter.prototype.Init=function(t){e.IntlDateTimeConverter.superclass.Init.call(this,t)},e.IntlDateTimeConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=l.getInstance()),this._wrapped},e.IntlDateTimeConverter.prototype.format=function(t){var n=o.__getBundle(),r=i.getLocale(),s=this.resolvedOptions();if(null==t||"string"==typeof t&&0===e.StringUtils.trim(""+t).length)return e.IntlConverterUtils.__getNullFormattedValue();try{return this._getWrapped().format(t,n,s,r)}catch(e){throw this._processConverterError(e,t)}},e.IntlDateTimeConverter.prototype.formatRelative=function(e,t){var n=o.__getBundle(),r=i.getLocale();try{return this._getWrapped().formatRelative(e,n,t,r)}catch(t){throw this._processConverterError(t,e)}},e.IntlDateTimeConverter.prototype.getHint=function(){return null},e.IntlDateTimeConverter.prototype._getHintValue=function(){var t="";try{t=this.format(s.IntlConverterUtils.dateToLocalIso(e.IntlDateTimeConverter._DEFAULT_DATE))}catch(i){i instanceof e.ConverterError&&(t="")}return t},e.IntlDateTimeConverter.prototype.getOptions=function(){return e.IntlDateTimeConverter.superclass.getOptions.call(this)},e.IntlDateTimeConverter.prototype.resolvedOptions=function(){var e,t=i.getLocale(),n=this.getOptions();if(t!==this._locale||!this._resolvedOptions){e=o.__getBundle();try{if(!e)return a.error("locale bundle for the current locale %s is unavailable",t),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,n,t),this._locale=t}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},e.IntlDateTimeConverter.prototype.isHourInDaySet=function(){var e=this.resolvedOptions(),t=e.hour,i=e.hour12;return!(!t||i)},e.IntlDateTimeConverter.prototype.isHourInAMPMSet=function(){var e=this.resolvedOptions(),t=e.hour,i=e.hour12;return!(!t||!i)},e.IntlDateTimeConverter.prototype.isMinuteSet=function(){return this._isOptionSet("minute")},e.IntlDateTimeConverter.prototype.isSecondSet=function(){return this._isOptionSet("second")},e.IntlDateTimeConverter.prototype.isMilliSecondSet=function(){return this._isOptionSet("millisecond")},e.IntlDateTimeConverter.prototype.isYearSet=function(){return this._isOptionSet("year")},e.IntlDateTimeConverter.prototype.isMonthSet=function(){return this._isOptionSet("month")},e.IntlDateTimeConverter.prototype.isDaySet=function(){return this._isOptionSet("day")},e.IntlDateTimeConverter.prototype.isDayNameSet=function(){return this._isOptionSet("weekday")},e.IntlDateTimeConverter.prototype.calculateWeek=function(e){return this._getWrapped().calculateWeek(e,o.__getBundle(),i.getLocale())},e.IntlDateTimeConverter.prototype.parse=function(e){if(null==e||""===e)return null;var t=o.__getBundle(),n=i.getLocale(),r=this.resolvedOptions();try{var s=this._getWrapped().parse(e,t,r,n),l=s.value;return l&&s.warning&&a.warn("The value "+e+" was leniently parsed to represent a date "+l.toString?l.toString():l),l}catch(t){throw this._processConverterError(t,e)}},e.IntlDateTimeConverter.prototype.compareISODates=function(t,i){var n=e.StringUtils.isString;if(!n(t)||!n(i))throw new Error("Invalid arguments for compareISODates ",t,i);return this._getWrapped().compareISODates(t,i,o.__getBundle())},e.IntlDateTimeConverter.prototype._processConverterError=function(t,i){var r,o,a,l,u=t.errorInfo;if(u){var c=u.errorCode,d=u.parameterMap||{};e.Assert.assertObject(d);var p=d.propertyName;p=n.getTranslatedString("oj-converter.datetime.datetimeOutOfRange."+p),d.propertyName=p,t instanceof TypeError?"optionTypesMismatch"!==c&&"optionTypeInvalid"!==c||(a=s.IntlConverterUtils.__getConverterOptionError(c,d)):t instanceof RangeError?"optionOutOfRange"===c?a=s.IntlConverterUtils.__getConverterOptionError(c,d):"datetimeOutOfRange"===c?(r=n.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.summary",{propertyName:p,value:d.value}),o=n.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:d.minValue,maxValue:d.maxValue}),a=new e.ConverterError(r,o)):"isoStringOutOfRange"===c&&(r=n.getTranslatedString("oj-converter.datetime.invalidISOString.invalidRangeSummary",{isoStr:d.isoString,propertyName:p,value:d.value}),o=n.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:d.minValue,maxValue:d.maxValue}),a=new e.ConverterError(r,o)):t instanceof SyntaxError?"optionValueInvalid"===c&&(a=s.IntlConverterUtils.__getConverterOptionError(c,d)):t instanceof Error&&("dateFormatMismatch"===c?l="oj-converter.datetime.dateFormatMismatch.summary":"timeFormatMismatch"===c?l="oj-converter.datetime.timeFormatMismatch.summary":"datetimeFormatMismatch"===c?l="oj-converter.datetime.datetimeFormatMismatch.summary":"invalidTimeZoneID"===c?(r=n.getTranslatedString("oj-converter.datetime.invalidTimeZoneID.summary",{timeZoneID:d.timeZoneID}),o=n.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),a=new e.ConverterError(r,o)):"nonExistingTime"===c?l="oj-converter.datetime.nonExistingTime.summary":"missingTimeZoneData"===c?l="oj-converter.datetime.missingTimeZoneData.summary":"dateToWeekdayMismatch"===c?(r=n.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.summary",{date:d.date,weekday:d.weekday}),o=n.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.detail"),a=new e.ConverterError(r,o)):"invalidISOString"===c&&(r=n.getTranslatedString("oj-converter.datetime.invalidISOString.summary",{isoStr:d.isoStr}),o=n.getTranslatedString("oj-converter.datetime.invalidISOString.detail"),a=new e.ConverterError(r,o)),l&&(r=n.getTranslatedString(l,{value:i||d.value,format:d.format}),o=n.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),a=new e.ConverterError(r,o)))}return a||(r=t.message,o=t.message,a=new e.ConverterError(r,o)),a},e.IntlDateTimeConverter.prototype._isOptionSet=function(e){return!!this.resolvedOptions()[e]},e.IntlDateTimeConverter.prototype.getAvailableTimeZones=function(){return this._getWrapped().getAvailableTimeZones(o.__getBundle())},e.IntlDateTimeConverter.prototype._getTimePositioning=function(e){var t;return t=null===e?this.resolvedOptions():e,this._getWrapped().getTimePositioning(o.__getBundle(),t,i.getLocale())},l=function(){function t(e){var t=e["two-digit-year-start"];return(void 0===t||isNaN(t))&&(t=1950),t=parseInt(t,10)}function i(t){var i=t._ojLocale_,n=e.OraI18nUtils.getBCP47Region(i);return"h"===t.supplemental.prefferedHours[n]}function n(t,i,n){var r,o,s,a=e.OraI18nUtils.getLocaleElementsMainNode(i),l=e.OraI18nUtils.getGetOption(t,n),u=l("formatType","string",["date","time","datetime"],"date"),c=l("dateFormat","string",["short","medium","long","full"],"short"),d=l("timeFormat","string",["short","medium","long","full"],"short"),p=a.dates.calendars.gregorian,h=p.dateFormats,m=p.timeFormats;switch(c){case"full":r=h.full;break;case"long":r=h.long;break;case"medium":r=h.medium;break;case"short":r=h.short}switch(d){case"full":o=m.full;break;case"long":o=m.long;break;case"medium":o=m.medium;break;case"short":o=m.short}return void 0===r||"datetime"!==u&&"date"!==u||(s=r),void 0===o||"datetime"!==u&&"time"!==u||(Oe&&(o=o.replace(Se,"")),s=s?s+" "+o:o),s}function r(e,t){for(var i=0,n=!1,r=0,o=e.length;r<o;r++){var s=e.charAt(r);switch(s){case"'":n?t.push("'"):i+=1,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return i}function o(e,t,i){var n,r=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,o=void 0!==t.hour||void 0!==t.minute||void 0!==t.second;n=r&&o?"MM/dd/yy hh:mm:ss a":r?"MM/dd/yy":"hh:mm:ss a";var s=new SyntaxError("Unexpected character(s) "+i+' encountered in the pattern "'+e+' An example of a valid pattern is "'+n+'".'),a={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,"propertyValueHint ":n}};throw s.errorInfo=a,s}function s(t,i,n,r){for(var o,s=e.OraI18nUtils.getLocaleElementsMainNode(i).dates.calendars.gregorian.dateTimeFormats.availableFormats,a=["weekday","era","year","month","day","hour","minute","second","timeZoneName"],l={"2-digit":0,numeric:1,narrow:2,short:3,long:4},u=-1/0,c=Object.keys(s),d=0;d<c.length;d++){var p=c[d],h=!1,m={};m.pattern=s[p];for(var f=0,g=be.exec(p);null!==g;){var _=g[0];("h"!==_&&"hh"!==_||r)&&("H"!==_&&"HH"!==_||!r)?void 0!==je[_]&&(m[je[_].key]=je[_].value):h=!0,g=be.exec(p)}if(!h){for(var v=0;v<a.length;v++){var y=t[a[v]],E=m[a[v]];if(void 0===y&&void 0!==E)f-=20;else if(void 0!==y&&void 0===E)f-=120;else if(void 0!==y&&void 0!==E){var b=l[y],S=l[E],O=Math.max(Math.min(S-b,2),-2);2===O?f-=6:1===O?f-=3:-1===O?f-=6:-2===O&&(f-=8)}}f>u&&(u=f,o=m)}}return void 0!==o?o.pattern:null}function a(e,t,i,n){return void 0!==i?(e[t]=i,n[i]):""}function c(e,t,i){var n;if(Object.keys(t).length>1)return null;for(var r=e.length;r>0;r--)if(void 0!==(n=i[e.substr(0,r)]))return n;return e}function d(t,r,o,l){function u(i){if(void 0!==v){var n=(r=m,s=o,a="symbols-numberSystem-"+e.OraI18nUtils.getNumberingSystemKey(r,s),r.numbers[a].decimal);n=void 0===p&&void 0===h&&void 0===y?"S":"ss"+n+"SSS",i=i.replace("ss",n),void 0===y&&(t.second=void 0)}var r,s,a,l=g("timeZoneName","string",["short","long"]);return void 0!==l&&(i=i.replace(/v/,{short:"z",long:"zzzz"}[l])),i}var d,p,h,m=e.OraI18nUtils.getLocaleElementsMainNode(r),f=e.OraI18nUtils.getLocaleElementsMainNodeKey(r),g=e.OraI18nUtils.getGetOption(t,l),_=g("formatMatcher","string",["basic","munger"],"munger");0===Object.keys(t).length&&(t={year:"numeric",month:"numeric",day:"numeric"});var v=g("millisecond","string",["numeric","2-digit"]),y=g("second","string",["numeric","2-digit"]);void 0!==v&&(p=g("hour","string",["numeric","2-digit"]),h=g("minute","string",["numeric","2-digit"]),t.second="2-digit");var E=function(t,n,r){var o="",s="",l={},u={},c=e.OraI18nUtils.getGetOption(t,r),d=c("era","string",["narrow","short","long"]);o+=a(l,"era",d,{narrow:"GGGGG",short:"GGG",long:"GGGG"}),o+=a(l,"year",d=c("year","string",["2-digit","numeric"]),{"2-digit":"yy",numeric:"y"}),o+=a(l,"month",d=c("month","string",["2-digit","numeric","narrow","short","long"]),{"2-digit":"MM",numeric:"M",narrow:"MMMMM",short:"MMM",long:"MMMM"}),o+=a(l,"weekday",d=c("weekday","string",["narrow","short","long"]),{narrow:"EEEEE",short:"E",long:"EEEE"}),o+=a(l,"day",d=c("day","string",["2-digit","numeric"]),{"2-digit":"dd",numeric:"d"});var p=c("hour12","boolean",[!0,!1]);return void 0===p&&(p=i(n)),s+=a(u,"hour",d=c("hour","string",["2-digit","numeric"]),!0===p?{"2-digit":"hh",numeric:"h"}:{"2-digit":"HH",numeric:"H"}),s+=a(u,"minute",d=c("minute","string",["2-digit","numeric"]),{"2-digit":"mm",numeric:"m"}),s+=a(u,"second",d=c("second","string",["2-digit","numeric"]),{"2-digit":"ss",numeric:"s"}),[o,s+=a(u,"timeZoneName",d=c("timeZoneName","string",["short","long"]),{short:"v",long:"v"}),l,u]}(t,r,l);if(void 0!==le[f]){var b=le[f].dates.calendars.gregorian.dateTimeFormats[E[0]+E[1]];if(void 0!==b)return b=u(b)}if(""===E[0]&&""===E[1])return n(t,r,l);var S=m.dates.calendars.gregorian.dateTimeFormats.availableFormats,O=S[E[0]],C=g("hour12","boolean",[!0,!1]);void 0===C&&(C=i(r)),void 0===O&&""!==E[0]&&(null===(O=c(E[0],E[2],S))&&(O=s(E[2],r,0,C)),null!==O?"basic"!==_&&(O=function(t,i,n){var r=t,o=e.OraI18nUtils.getGetOption(i,n),s=o("year","string",["2-digit","numeric"]),a={"2-digit":"yy",numeric:"yyyy"};if(void 0!==s&&(r=r.replace(/y{1,4}/,a[s])),void 0!==(s=o("month","string",["2-digit","numeric","narrow","short","long"]))&&(void 0!==(a={"2-digit":"MM",numeric:"M",narrow:"MMMMM",short:"MMM",long:"MMMM"})[s]&&a[s].length>2?r=(r=r.replace(/M{3,5}/,a[s])).replace(/L{3,5}/,{"2-digit":"LL",numeric:"L",narrow:"LLLLL",short:"LLL",long:"LLLL"}[s]):"2-digit"===s&&(pe.lastIndex=0,pe.test(t)&&(r=r.replace("M","MM")),he.test(t)&&(r=r.replace("L","LL")))),void 0!==(s=o("weekday","string",["narrow","short","long"]))&&(r=(r=r.replace(/E{1,5}/,{narrow:"EEEEE",short:"EEE",long:"EEEE"}[s])).replace(/c{1,5}/,{narrow:"ccccc",short:"ccc",long:"cccc"}[s])),void 0!==(s=o("day","string",["2-digit","numeric"]))&&"2-digit"===s){me.lastIndex=0,_e.lastIndex=0;var l=_e.test(t);!0===me.test(t)&&!1===l&&(r=r.replace("d","dd"))}return r}(O,t,l)):O=E[0]);var T=S[E[1]];return void 0===T&&""!==E[1]&&(null===(T=c(E[1],E[3],S))&&(T=s(E[3],r,0,C)),null!==T?"basic"!==_&&(T=function(t,i,n){var r=t;if("2-digit"===e.OraI18nUtils.getGetOption(i,n)("hour","string",["2-digit","numeric"])){fe.lastIndex=0,ge.lastIndex=0;var o=t.replace(ge,""),s=fe.exec(o);if(null!==s){ye.lastIndex=0;var a=ye.exec(s[0]),l=a[0]+a[0];r=t.replace(a[0],l)}}return r}(T,t,l)):T=E[1]),d=O||"",void 0!==T&&(""!==d?d+=" "+T:d=T),void 0===le[f]&&(le[f]={},le[f].dates={},le[f].dates.calendars={},le[f].dates.calendars.gregorian={},le[f].dates.calendars.gregorian.dateTimeFormats={}),le[f].dates.calendars.gregorian.dateTimeFormats[E[0]+E[1]]=d,d=u(d)}function p(e){var t=e.split(" "),i=t[0].split("-"),n=new Date(i[0],i[1]-1,i[2]);return t.length>1&&(i=t[1].split(":"),n.setHours(i[0]),n.setMinutes(i[1])),n.getTime()}function h(e,t,i){var n=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime(),r=t.split("/"),o=r[0],s=r[1],a=i[o];if(void 0===a)return null;if(void 0===(a=a[s]))return null;for(var l,u,c=a.length,d=0;d<c;d++){var h=a[d].usesMetazone._from,m=a[d].usesMetazone._to,f=a[d].usesMetazone._mzone;if(void 0===h&&void 0===m)return f;if(void 0===h&&void 0!==m&&n<=(u=p(m)))return f;if(void 0!==h&&void 0===m&&n>=(l=p(h)))return f;if(void 0!==h&&void 0!==m&&(l=p(h),u=p(m),n>=l&&n<u))return f}}function m(t,i,n,r,o){var s=e.OraI18nUtils.getLocaleElementsMainNode(t),a="",l=n.timeZone,u=e.OraI18nUtils.getGetOption(n,"OraDateTimeConverter")("dst","boolean",[!0,!1],!1);if(void 0===l)return a;var c,d,p=h(i,l,t.supplemental.metazones),m="standard",_=!o,v=f(l,t),y=g(v,i,u,_,!0);if(void 0!==s.dates.timeZoneNames.metazone&&(c=s.dates.timeZoneNames.metazone[p]),void 0===c){var E=v.ofset(y);return e.OraI18nUtils.getTimeStringFromOffset(Ne,E,!0,!0)}d=1===r?c.long:c.short;var b=v.ofset(y);return b<v.ofset(y+1)&&(m="daylight"),void 0!==d&&void 0!==(a=d[m])?a:e.OraI18nUtils.getTimeStringFromOffset(Ne,b,!0,!0)}function f(e,t){return u.getInstance().getZone(e,t)}function g(e,t,i,n,r){var o=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(o,i,n,r)}function _(e){var t=e.split(":");return 2===t.length?(t[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10)):3===e.length?(t[0]=parseInt(e,10),t[1]=0):(t[0]=parseInt(e.substr(0,3),10),t[1]=parseInt(e.substr(3),10)),t}function v(t,i,n,s){function a(e,t){switch(t){case 0:return e[0];case 1:return e[1];case 2:return e[2];case 3:var i=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]);return Ce[i.getDay()];default:return}}function l(t,n,r,o,s){var a;switch(o.timePart){case"hour":a=11===o.end1?n[3]%12:n[3],"h"===s||"hh"===s?0===a&&(a=12):"k"!==s&&"kk"!==s||0===a&&(a=24);break;case"minute":a=n[4];break;case"second":a=void 0===i.second&&void 0!==i.millisecond?0:n[5];break;case"millisec":a=n[6]}t.push(r>1?e.OraI18nUtils.padZeros(a,r):a)}function u(i,r,o){var s,a,l,u=r.timeZone,c=b("dst","boolean",[!0,!1],!1),d=!o;if(void 0!==u)l=g(a=f(u,t),i,c,d,!0),s=-a.ofset(l);else if(n.format!==Ae)switch(n.format){case Me:var p=_(n.timeZone),h=p[0],m=p[1];s=60*h+(e.OraI18nUtils.startsWith(n.timeZone,"-")?-m:m);break;case Ie:default:s=0}return s}var c,p,h,v=n.isoStrParts,y=0===n.dateTime.indexOf("T"),E=e.OraI18nUtils.getLocaleElementsMainNode(t),b=e.OraI18nUtils.getGetOption(i,"OraDateTimeConverter.format");p=i.pattern||d(i,t,s,"OraDateTimeConverter.format"),c=[];var S,O,C,T,I,A=0,P=E.dates.calendars.gregorian,D=i.timeZone;for(n.format!==Ae&&void 0!==D&&ee(n,i,t);;){var M=be.lastIndex,N=be.exec(p);if(A+=r(p.slice(M,N?N.index:p.length),c),!N)break;if(A%2)c.push(N[0]);else{var L=N[0],w=L.length,j=je[L];switch(j.token){case"days":h=P[j.token][j.style][j.dLen],c.push(h[a(v,3)]);break;case"months":h=P[j.token][j.style][j.mLen],c.push(h[a(v,1)]);break;case"dayOfMonth":case"monthIndex":c.push((S=c,O=v,C=j.getPartIdx,T=w,I=a(O,C),void S.push(T>1?e.OraI18nUtils.padZeros(I,T):I)));
break;case"year":h=v[0],2===w&&(h%=100),c.push(e.OraI18nUtils.padZeros(h,w));break;case"time":l(c,v,w,j,L);break;case"ampm":h=v[3]<12?P.dayPeriods.format.wide.am:P.dayPeriods.format.wide.pm,c.push(h);break;case"tzhm":0===(h=u(v,i,y))?"XX"===j.key?c.push("Z"):c.push("+0000"):void 0!==h&&c.push((h<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(h/60)),2)+e.OraI18nUtils.padZeros(Math.floor(Math.abs(h%60)),2));break;case"tzhsepm":0===(h=u(v,i,y))?c.push("Z"):void 0!==h&&c.push((h<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(h/60)),2)+":"+e.OraI18nUtils.padZeros(Math.floor(Math.abs(h%60)),2));break;case"tzh":0===(h=u(v,i,y))?c.push("Z"):void 0!==h&&c.push((h<=0?"-":"+")+e.OraI18nUtils.padZeros(Math.floor(Math.abs(h/60)),2));break;case"tzid":h=void 0!==D?D:n.format===Ie?Ne:"",c.push(h);break;case"tzAbbrev":h=m(t,v,i,0,y),c.push(h);break;case"tzFull":h=m(t,v,i,1,y),c.push(h);break;case"era":h=P.eras.eraAbbr,c.push(h[1]);break;case"slash":c.push("/");break;default:o(p,i,L)}}}return c.join("")}function y(e,t){return e.getFullYear()===t.getFullYear()}function E(e,t){return t.getFullYear()-e.getFullYear()==1}function b(e,t){return y(e,t)&&e.getMonth()===t.getMonth()}function S(e,t){return y(e,t)?t.getMonth()-e.getMonth()==1:!!E(e,t)&&11===e.getMonth()&&0===t.getMonth()}function O(t,i){var n=t.getDate(),r=i.getDate();return S(t,i)&&(r+=e.OraI18nUtils._getDaysInMonth(t.getFullYear,t.getMonth())),r-n}function C(t,i){var n=t._ojLocale_,r=e.OraI18nUtils.getBCP47Region(n),o=t.supplemental.weekData.firstDay,s=o[r];void 0===s&&(s=o["001"]);var a=i-s;return a<0&&(a+=7),a}function T(e,t,i){if(!b(t,i)&&!S(t,i))return!1;var n=O(t,i)+C(e,t.getDay());return n>=7&&n<=13}function I(e,t){return y(e,t)&&b(e,t)&&e.getDate()===t.getDate()}function A(e,t){return!(!b(e,t)&&!S(e,t))&&1===O(e,t)}function P(e,t){return A(t,e)}function D(t,i,n){var r=e.OraI18nUtils._IsoStrParts(t),o=e.OraI18nUtils._IsoStrParts(i);return n?(r=Date.UTC(r[0],r[1]-1,r[2],0,0,0,0),o=Date.UTC(o[0],o[1]-1,o[2],0,0,0,0)):(r=Date.UTC(r[0],r[1]-1,r[2],r[3],r[4],r[5],r[6]),o=Date.UTC(o[0],o[1]-1,o[2],o[3],o[4],o[5],o[6])),r-o}function M(e,t){return e.replace(/\{(\d+)\}/g,function(){return t[arguments[1]]})}function N(t,i,n,r){var o=e.OraI18nUtils.getLocaleElementsMainNode(r).dates.fields,s=e.OraI18nUtils.getGetOption(n,"OraDateTimeConverter.formatRelative")("dateField","string",["day","week","month","year","hour","minute","second"]),a=e.OraI18nUtils.isoToLocalDate(t),l=e.OraI18nUtils.isoToLocalDate(i);switch(s){case"day":return I(a,l)?o.day["relative-type-0"]:A(a,l)?o.day["relative-type-1"]:P(a,l)?o.day["relative-type--1"]:w(t,i,r,"day");case"week":return function(e,t,i){if(t>i){var n=t;t=i,i=n}if(!b(t,i)&&!S(t,i))return!1;var r=O(t,i)+C(e,t.getDay());return r>=0&&r<=6}(r,a,l)?o.week["relative-type-0"]:T(r,a,l)?o.week["relative-type-1"]:function(e,t,i){return T(e,i,t)}(r,a,l)?o.week["relative-type--1"]:w(t,i,r,"week");case"month":return b(a,l)?o.month["relative-type-0"]:S(a,l)?o.month["relative-type-1"]:S(l,a)?o.month["relative-type--1"]:w(t,i,r,"month");case"year":return y(a,l)?o.year["relative-type-0"]:E(a,l)?o.year["relative-type-1"]:function(e,t){return E(t,e)}(a,l)?o.year["relative-type--1"]:w(t,i,r,"year");case"hour":return w(t,i,r,"hour");case"minute":return w(t,i,r,"minute");case"second":return w(t,i,r,"second")}return null}function L(e){return e.split("-")[0]}function w(t,i,n,r){var o,s,a,l=e.OraI18nUtils.getLocaleElementsMainNodeKey(n),u=e.OraI18nUtils.getLocaleElementsMainNode(n),c=L(l),d=n.supplemental.plurals,p=u.dates.fields,h=D(i,t,!1),m=Math.abs(h),f=(s=function(e){return 4800*e/146097}((o=m)/864e5),a=s/12,{year:Math.round(a),month:Math.round(s),week:Math.round(o/6048e5),day:Math.round(o/864e5),hour:Math.round(o/36e5),minute:Math.round(o/6e4),second:Math.round(o/1e3),millisecond:o});if(null===r&&(r=(f.second<Te.s?"second":f.minute<Te.m&&"minute")||f.hour<Te.h&&"hour"||f.day<Te.d&&"day"||f.week<Te.w&&"week"||f.month<Te.M&&"month"||"year"),"second"===r&&f.second<Te.s)return p[r]["relative-type-0"];var g="relativeTimePattern-count-"+d[c](f[r]),_=h<0?"relativeTime-type-past":"relativeTime-type-future",v=p[r][_][g];return void 0===v&&(g="relativeTimePattern-count-other",v=p[r][_][g]),v=M(v,[f[r]])}function j(t,i,n){var r=e.OraI18nUtils.dateToLocalIso(new Date);if("number"==typeof t)t=e.OraI18nUtils.dateToLocalIso(new Date(t));else{if("string"!=typeof t)return null;if(""===e.OraI18nUtils.trim(t))return null}void 0===n&&(n={formatUsing:"displayName"});var o=e.OraI18nUtils.getGetOption(n,"OraDateTimeConverter.formatRelative"),s=o("relativeTime","string",["fromNow","toNow"],"fromNow"),a=o("dateField","string",["day","week","month","year","hour","minute","second"]);if(t=function(t,i,n){var r=n.timeZone;if(e.OraI18nUtils.getISOStrFormatInfo(t).format===Ae&&void 0===r)return t;var o={isoStrFormat:"zulu"};void 0!==r&&(o.timeZone=r,o.dst=!0);var s=ne(t,i,o,"en-US");return o={timeZone:e.OraI18nUtils.getLocalTimeZoneOffset(),isoStrFormat:"local"},ne(s.value,i,o,"en-US").value}(t,i,n),"toNow"===s){var l=r;r=t,t=l}return"calendar"===o("formatUsing","string",["displayName","calendar"],"displayName")?function(t,i,n,r){var o,s,a,l,u=e.OraI18nUtils.getLocaleElementsMainNode(n),c=u.dates.calendars.gregorian.dateTimeFormats.long,d=u.dates.calendars.gregorian.days.format.wide,p=u.dates.fields,h=e.OraI18nUtils.isoToLocalDate(i),m=e.OraI18nUtils.isoToLocalDate(t),f=e.OraI18nUtils.getISOStrFormatInfo(i);if(I(m,h))o=p.day["relative-type-0"];else if(A(m,h))o=p.day["relative-type-1"];else if(P(m,h))o=p.day["relative-type--1"];else{a=h.getDay(),l=Ce[a];var g=D(i,t,!0);if((g/=864e5)<-1&&g>-7)o=p[l]["relative-type--1"];else{if(!(g>1&&g<7))return v(n,{year:"numeric",month:"numeric",day:"numeric"},f,"en-US");o=d[l]}}return r?o:(s=v(n,{hour:"numeric",minute:"numeric"},f,"en-US"),c=M(c=c.replace(/'/g,""),[s,o]))}(r,t,i,o("dateOnly","boolean",[!0,!1],!1)):void 0!==a?N(r,t,n,i):w(r,t,i,null)}function R(e,t){var i=new Error("The weekday "+e+" does not match the date "+t),n={errorCode:"dateToWeekdayMismatch",parameterMap:{weekday:e,date:t}};throw i.errorInfo=n,i}function k(e,t,i){var n,r;2===i?(n='The value "'+e+'" does not match the expected date-time format "'+t+'"',r="datetimeFormatMismatch"):0===i?(n='The value "'+e+'" does not match the expected date format "'+t+'"',r="dateFormatMismatch"):(n='The value "'+e+'" does not match the expected time format "'+t+'"',r="timeFormatMismatch");var o=new Error(n),s={errorCode:r,parameterMap:{value:e,format:t}};throw o.errorInfo=s,o}function U(e,t){if(t<100){var i=e%100;t+=100*Math.floor(e/100)+(t<i?100:0)}return t}function V(t,i){for(var n={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},r=Object.keys(t),o=0;o<r.length;o++){var s=r[o];if(e.OraI18nUtils.trim(e.OraI18nUtils.toUpper(t[s]))===e.OraI18nUtils.trim(i))return n[s]}return-1}function x(t,i){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];if(e.OraI18nUtils.trim(e.OraI18nUtils.toUpper(t[o]))===e.OraI18nUtils.trim(i))return r}return-1}function B(t,i,n){var r,o,s=e.OraI18nUtils.getLocaleElementsMainNode(t),a=s.dates.calendars.gregorian.days.format,l=s.dates.calendars.gregorian.days["stand-alone"];switch(n){case 0:o=[a.abbreviated,a.wide];break;case 1:o=[l.abbreviated,l.wide]}return i=e.OraI18nUtils.toUpper(i),-1===(r=V(o[0],i))&&(r=V(o[1],i)),r}function F(t,i,n){var r,o=-1,s=e.OraI18nUtils.getLocaleElementsMainNode(t),a=s.dates.calendars.gregorian.months.format,l=s.dates.calendars.gregorian.months["stand-alone"];switch(n){case 0:r=[a.wide,a.abbreviated];break;case 1:r=[l.wide,l.abbreviated];break;case 2:r=[a.wide,a.abbreviated,l.wide,l.abbreviated];break;default:return-1}i=e.OraI18nUtils.toUpper(i);for(var u=0;u<r.length;u++)if(-1!==(o=x(r[u],i)))return o;return o}function H(e,t,i,n,r,o,s){if(t<i||t>n){var a=new RangeError(r+" is out of range.  Enter a value between "+o+" and "+s+" for "+e),l={errorCode:"datetimeOutOfRange",parameterMap:{value:r,minValue:o,maxValue:s,propertyName:e}};throw a.errorInfo=l,a}}function G(e,t){for(var i=0;i<e.length;i++)if(void 0!==e[i][t])return i;return 0}function Y(t,i,n,r,o){var s=e.OraI18nUtils.getLocaleElementsMainNode(r).dates.calendars.gregorian.dayPeriods.format.wide.pm;ve.lastIndex=0;var a=0,l=0,u=0,c=0,d=ve.exec(i);switch(null===d&&k(i,n,o),void 0!==d[1]&&(a=parseInt(d[1],10)),void 0!==d[2]&&(l=parseInt(d[2],10)),void 0!==d[3]&&(u=parseInt(d[3],10)),void 0!==d[4]&&(c=parseInt(d[4],10)),ye.lastIndex=0,(d=ye.exec(n))[0]){case"h":12===a&&(a=0),H("hour",a,0,11,a,1,12),-1!==e.OraI18nUtils.toUpper(i).indexOf(e.OraI18nUtils.toUpper(s))&&a<12&&(a+=12);break;case"K":H("hour",a,0,11,a,0,11),-1!==e.OraI18nUtils.toUpper(i).indexOf(e.OraI18nUtils.toUpper(s))&&a<12&&(a+=12);break;case"H":H("hour",a,0,23,a,0,23);break;case"k":24===a&&(a=0),H("hour",a,0,23,a,1,24)}H("minute",l,0,59,l,0,59),H("second",u,0,59,u,0,59),H("millisec",c,0,999,c,0,999),t.setHours(a,l,u,c)}function W(t,i){for(var n=e.OraI18nUtils.getLocaleElementsMainNode(i),r=n.dates.calendars.gregorian.days.format,o=n.dates.calendars.gregorian.days["stand-alone"],s=[r.wide,r.abbreviated,o.wide,o.abbreviated],a=0;a<s.length;a++)for(var l=Object.keys(s[a]),u=0;u<l.length;u++){var c=s[a][l[u]];if(new RegExp(c+"\\b","i").test(t))return c}return null}function Z(i,n,r,o,s){var a=i;i=e.OraI18nUtils.toUpper(i);var l,u,c,d=e.OraI18nUtils.getLocaleElementsMainNode(o),p=d.dates.calendars.gregorian.months.format,h=d.dates.calendars.gregorian.months["stand-alone"],m=[p.wide,p.abbreviated,h.wide,h.abbreviated],f=!1;for(u=0;u<m.length;u++){l=[];var g,_=Object.keys(m[u]);for(g=0;g<_.length;g++)c=e.OraI18nUtils.toUpper(m[u][_[g]]),l.unshift({idx:g,name:c});for(l.sort(function(e,t){return t.idx-e.idx}),g=0;g<l.length;g++)if(c=l[g].name,-1!==i.indexOf(c)){f=!0,i=i.replace(c,"");break}if(f)break}if(!f)return function(i,n,r,o,s){de.lastIndex=0;var a=de.exec(i);null===a&&k(i,n,s?2:0);var l,u,c,d,p,h,m=[{y:n.indexOf("y")},{M:n.indexOf("M")},{d:n.indexOf("d")}];m.sort(function(e,t){var i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]});var f=G(m,"d"),g=!1,_=!1;for(h=1;h<=3;h++){var v=a[h];(v.length>2||v>31)&&(l=v,g=!0,d=h-1)}for(g||(d=G(m,"y"),l=a[G(m,"y")+1]),h=0;h<3;h++)if(h!==d&&a[h+1]>12){c=a[h+1],_=!0,p=h;break}if(_){for(h=0;h<3;h++)if(h!==p&&h!==d){u=a[h+1];break}void 0===u&&(u=a[G(m,"M")+1])}else d===G(m,"d")?(c=a[G(m,"y")+1],u=a[G(m,"M")+1]):d===G(m,"M")?(c=a[G(m,"d")+1],u=a[G(m,"y")+1]):(c=a[G(m,"d")+1],u=a[G(m,"M")+1]);u-=1;var y=e.OraI18nUtils._getDaysInMonth(l,u);_&&f!==p&&u>12&&H("month",c,0,11,c,1,12),H("month",u,0,11,u+1,1,12),H("day",c,1,y,c,1,y),H("year",l=U(t(r),parseInt(l,10)),0,9999,l,0,9999);var E=new Date(l,u,c),b=W(i,o);if(null!==b){var S=B(o,b,0);E.getDay()!==S&&R(b,E.getDate())}var O={value:E,offset:"",warning:"lenient parsing was used"};if(s){var C=i.substr(de.lastIndex);0===C.length?O.value.setHours(0,0,0,0):Y(O.value,C,n,o,2)}return O.value=e.OraI18nUtils.dateToLocalIso(O.value),O}(a,n,r,o,s);var v=F(o,c,2);H("month",v,0,11,v,1,12);var y=W(a,o),E=new RegExp(y+"\\W","i");null!==y&&(i=i.replace(E,"")),ce.lastIndex=0;var b=ce.exec(i);null===b&&k(a,n,s?2:0);var S,O,C,T=[{y:n.indexOf("y")},{d:n.indexOf("d")}];T.sort(function(e,t){var i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]});var I=!1;for(u=1;u<=2;u++){var A=b[u];(A.length>2||A>31)&&(S=A,I=!0,C=u-1)}I||(C=G(T,"y"),S=b[G(T,"y")+1]),O=C===G(T,"d")?b[G(T,"y")+1]:b[G(T,"d")+1],H("year",S=U(t(r),parseInt(S,10)),0,9999,S,0,9999);var P=new Date(S,v,O);if(null!==y){var D=B(o,y,0);P.getDay()!==D&&R(y,P.getDate())}var M=e.OraI18nUtils._getDaysInMonth(S,v);H("day",O,1,M,O,1,M);var N={value:P,offset:"",warning:"lenient parsing was used"};if(s){var L=i.substr(ce.lastIndex);0===L.length?N.value.setHours(0,0,0,0):Y(N.value,L,n,o,2)}return N.value=e.OraI18nUtils.dateToLocalIso(N.value),N}function K(t,i,n,r){switch(J(n,"OraDateTimeConverter.parse")){case 0:return Z(t,i,n,r,!1);case 1:var o=new Date;return Y(o,t,i,r,1),{value:e.OraI18nUtils.dateToLocalIso(o),offset:"",warning:"lenient parsing was used"};case 2:return Z(t,i,n,r,!0)}return null}function z(t,i,n,r,o,s,a,l,u,c,d){var p,h=e.OraI18nUtils.getLocaleElementsMainNode(t).dates.calendars.gregorian[i][o];return H(d,p="months"===i?F(t,n,s):B(t,n,s),a,l,n,h[r][u],h[r][c]),p}function q(e,t,i,n){var r=t;r[i.timePart]=e,"h"===n||"hh"===n?12===e&&(r[i.timePart]=0):"k"!==n&&"kk"!==n||24===e&&(r[i.timePart]=0),H(i.timePart,r[i.timePart],i.start1,i.end1,e,i.start2,i.end2)}function $(i,n,s,a){var l=e.OraI18nUtils.getLocaleElementsMainNode(a),u=l.dates.calendars.gregorian.eras.eraAbbr[1],c=e.OraI18nUtils.trimNumber(u);i=i.replace(u,c);var d=e.OraI18nUtils.getGetOption(s,"OraDateTimeConverter.parse")("lenientParse","string",["none","full"],"full"),p=J(s,"OraDateTimeConverter.parse"),h=function(e,t){for(var i=e.replace(Ee,"\\\\$1"),n=["^"],s=[],a=0,l=0,u=be.exec(i);null!==u;){var c=i.slice(a,u.index);if(a=be.lastIndex,(l+=r(c,n))%2)n.push(u[0]);else{var d,p=u[0];void 0!==je[p]?d=je[p].regExp:o(e,t,p),d&&n.push(d),s.push(u[0])}u=be.exec(i)}r(i.slice(a),n),n.push("$");var h={regExp:n.join("").replace(/\s+/g,"\\s+"),groups:s};return h}(n,s),m=new RegExp(h.regExp).exec(i);if(null===m){if("full"===d)return K(i,n,s,a);k(i,n,p)}for(var _,v=h.groups,y=null,E=null,b=null,S=null,O="",C=null,T=!1,I={hour:0,minute:0,second:0,millisec:0},A=l.dates.calendars.gregorian.dayPeriods.format.wide.pm,P=t(s),D=0,M=v.length;D<M;D++){var N=m[D+1];if(N){var L=v[D],w=parseInt(N,10),j=je[L];switch(j.token){case"months":E=z(a,j.token,N,j.mLen,j.style,j.matchIndex,0,11,"1","12","month name");break;case"days":_=N,S=z(a,j.token,N,j.dLen,j.style,j.matchIndex,0,6,"sun","sat","weekday");break;case"time":q(w,I,j,L);break;case"dayOfMonth":if((b=w)>31&&"full"===d)try{return K(i,n,s,a)}catch(t){var V=e.OraI18nUtils._getDaysInMonth(y,E);H("day",b,1,V,b,1,V)}break;case"monthIndex":if((E=w-1)>11&&"full"===d)try{return K(i,n,s,a)}catch(e){H("month",E,0,11,E+1,1,12)}break;case"year":H("year",y=U(P,w),0,9999,y,0,9999);break;case"ampm":T=-1!==e.OraI18nUtils.toUpper(N).indexOf(e.OraI18nUtils.toUpper(A));break;case"tzhm":O=N.substr(-2),O=N.substr(0,3)+":"+O;break;case"tzhsepm":O=N;break;case"tzh":O=N+":00";break;case"tzid":C=N}}}var x=new Date;null===y&&(y=x.getFullYear()),null===E&&null===b?(E=x.getMonth(),b=x.getDate()):null===b&&(b=1),H("month",E,0,11,E+1,1,12);var B=e.OraI18nUtils._getDaysInMonth(y,E);H("day",b,1,B,b,1,B),x.setFullYear(y,E,b),null!==S&&x.getDay()!==S&&R(_,x.getDate()),T&&I.hour<12&&(I.hour+=12);var F=[y,E+1,b,I.hour,I.minute,I.second,I.millisec],G=e.OraI18nUtils.partsToIsoString(F);if(null!==C){var Y=f(C,a),W=g(Y,F,!1,!0,!0);O=-Y.ofset(W),O=e.OraI18nUtils.getTimeStringFromOffset("",O,!1,!0)}return""!==O&&(G+=O),{value:G}}function X(e,t,i){for(var n=i.replace(Ee,"\\\\$1"),s=["^"],a=0,l=0,u={locale:e,numberingSystem:t,calendar:"gregorian"},c=be.exec(n);null!==c;){var d=n.slice(l,c.index);if(l=be.lastIndex,(a+=r(d,s))%2==0){var p=c[0];"/"!==p&&"zzzz"!==p&&"zzz"!==p&&"zz"!==p&&"z"!==p&&(void 0!==je[p]?(void 0!==je[p].key&&(u[je[p].key]=je[p].value),"kk"===p||"HH"===p||"H"===p||"k"===p?u.hour12=!1:"KK"!==p&&"hh"!==p&&"h"!==p&&"K"!==p||(u.hour12=!0)):o(i,u,p))}c=be.exec(n)}return u}function J(t,i){if(void 0!==t.pattern)return function(e){var t=X("","",e),i=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,n=void 0!==t.hour||void 0!==t.minute||void 0!==t.second||void 0!==t.millisecond;return i&&n?2:n?1:0}(t.pattern);var n=e.OraI18nUtils.getGetOption(t,i),r=void 0!==n("hour","string",["2-digit","numeric"])||void 0!==n("minute","string",["2-digit","numeric"])||void 0!==n("second","string",["2-digit","numeric"])||void 0!==n("millisecond","string",["numeric"]),o=void 0!==n("year","string",["2-digit","numeric"])||void 0!==n("month","string",["2-digit","numeric","narrow","short","long"])||void 0!==n("day","string",["2-digit","numeric"])||void 0!==n("weekday","string",["narrow","short","long"]);if(o&&r)return 2;if(r)return 1;if(o)return 0;var s=n("formatType","string",["date","time","datetime"],"date");return"datetime"===s?2:"time"===s?1:0}function Q(e,t){var i=g(e,t,!1,!0,!1),n=e.ofset(i),r=e.ofset(i+1);return Math.max(n,r)}function ee(t,i,n){var r,o,s,a,l=t.isoStrParts,u=t.format,c=f(i.timeZone,n);switch(r=Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5]),u){case Me:var d=_(t.timeZone),p=d[0],h=d[1];o=60*p+(p<0?-h:h);break;case Ie:o=0}r-=6e4*((s=Q(c,l))+o);var m=e.OraI18nUtils.getGetOption(i,"OraDateTimeConverter")("dst","boolean",[!0,!1],!1),g=0===t.dateTime.indexOf("T");a=c.parse(r,m,!g,!1),s=-c.ofset(a),s-=o;var v=new Date(Date.UTC(l[0],l[1]-1,l[2],l[3],l[4],l[5])),y=v.getUTCMinutes()+s;v.setUTCHours(v.getUTCHours()+(y/60<<0),y%60),l[0]=v.getUTCFullYear(),l[1]=v.getUTCMonth()+1,l[2]=v.getUTCDate(),l[3]=v.getUTCHours(),l[4]=v.getUTCMinutes(),l[5]=v.getUTCSeconds()}function te(t,i){var n,r="";switch(t){case 0:r=e.OraI18nUtils.padZeros(i[0],4)+"-"+e.OraI18nUtils.padZeros(i[1],2)+"-"+e.OraI18nUtils.padZeros(i[2],2);break;case 1:r="T"+e.OraI18nUtils.padZeros(i[3],2)+":"+e.OraI18nUtils.padZeros(i[4],2)+":"+e.OraI18nUtils.padZeros(i[5],2),(n=i[6])>0&&(r+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(n,3)));break;default:r=e.OraI18nUtils.padZeros(i[0],4)+"-"+e.OraI18nUtils.padZeros(i[1],2)+"-"+e.OraI18nUtils.padZeros(i[2],2)+"T"+e.OraI18nUtils.padZeros(i[3],2)+":"+e.OraI18nUtils.padZeros(i[4],2)+":"+e.OraI18nUtils.padZeros(i[5],2),(n=i[6])>0&&(r+="."+e.OraI18nUtils.trimRightZeros(e.OraI18nUtils.padZeros(n,3)))}return r}function ie(t,i,n,r,o,s){var a=f(t,o),l=g(a,i,n,r,s),u=a.ofset(l);return e.OraI18nUtils.getTimeStringFromOffset("",u,!0,!0)}function ne(t,i,n,r){var o,s,a=e.OraI18nUtils.getNumberingExtension(r);if(void 0===e.OraI18nUtils.numeringSystems[a]&&(a="latn"),"latn"!==a){for(var l=[],u=0;u<t.length;u++){var c=e.OraI18nUtils.numeringSystems[a].indexOf(t[u]);-1!==c?l.push(c):l.push(t[u])}t=l.join("")}(arguments.length<=2||void 0===n)&&(n={year:"numeric",month:"numeric",day:"numeric"});var p,h,m,_={};return!0===e.OraI18nUtils._ISO_DATE_REGEXP.test(t)?(p=t,o=-1===(m=t.indexOf("T"))?0:m>0?2:1):(s=n.pattern||d(n,i,r,"OraDateTimeConverter.parse"),o=J(n,"OraDateTimeConverter.parse"),p=(_=$(t,s,n,i)).value),h=e.OraI18nUtils.getISOStrFormatInfo(p),void 0!==n.timeZone&&h.format!==Ae&&ee(h,n,i),p=function(t,i,n,r){var o,s,a,l=e.OraI18nUtils.getGetOption(n,"OraDateTimeConverter.parse"),u=l("isoStrFormat","string",[Ie,Me,De,Ae,Pe],Pe),c=l("dst","boolean",[!0,!1],!1),d=!0,p=i.isoStrParts,h=i.timeZone,m=n.timeZone,_=i.format,v=n.isoStrFormat,y=te(t,p);if(0===t||"local"===v)return y;switch(1===t&&(d=!1),u){case Me:void 0===m&&_===Me?y+=h:void 0===m&&_===Ae?y+="":void 0===m&&_===Ie?y+="+00:00":void 0!==m&&(y+=a=ie(m,p,c,d,r,!0));break;case Ie:var E=0;if(void 0===m){if(_===Me){a=h.split(":");var b=parseInt(a[0],10),S=parseInt(a[1],10);E=-(E=60*b+(e.OraI18nUtils.startsWith(a[0],"-")?-S:S))}}else s=g(o=f(m,r),p,c,d,!0),E=a=o.ofset(s);if(0!==E){var O=new Date(Date.UTC(p[0],p[1]-1,p[2],p[3],p[4],p[5],p[6]));E=O.getUTCMinutes()+E,O.setUTCHours(O.getUTCHours()+(E/60<<0),E%60),p[0]=O.getUTCFullYear(),p[1]=O.getUTCMonth()+1,p[2]=O.getUTCDate(),p[3]=O.getUTCHours(),p[4]=O.getUTCMinutes(),p[5]=O.getUTCSeconds(),y=te(t,p)}y+="Z";break;case Pe:void 0!==m?y+=a=ie(m,p,c,d,r,!0):(a=h)&&(y+=a)}return y}(o,h,n,i),_.value=p,_}function re(e,r,o,s,a,u,c,p){var h={locale:p,numberingSystem:c,calendar:"gregorian"};if(0===Object.keys(e).length)return h.year="numeric",h.month="numeric",h.day="numeric",h.lenientParse="full",h;void 0!==o&&(h.timeZone=o,void 0!==a&&(h.isoStrFormat=a)),function(e,t){var i=t,n=e("formatUsing","string",["displayName","calendar"]);void 0!==n&&(i.formatUsing=n),void 0!==(n=e("dateField","string",["day","week","month","year","hour","minute","second"]))&&(i.dateField=n),void 0!==(n=e("relativeTime","string",["fromNow","toNow"]))&&(i.relativeTime=n),void 0!==(n=e("dateOnly","boolean",[!0,!1]))&&(i.dateOnly=n)}(r,h);var m=function(e,t,n,r){var o,s=t,a=!1;return void 0!==n&&(s.dst=n),void 0!==(o=e("year","string",["2-digit","numeric"]))&&(s.year=o,a=!0),void 0!==(o=e("era","string",["narrow","short","long"]))&&(s.era=o,a=!0),void 0!==(o=e("month","string",["2-digit","numeric","narrow","short","long"]))&&(s.month=o,a=!0),void 0!==(o=e("day","string",["2-digit","numeric"]))&&(s.day=o,a=!0),void 0!==(o=e("weekday","string",["narrow","short","long"]))&&(s.weekday=o,a=!0),void 0!==(o=e("hour","string",["2-digit","numeric"]))&&(s.hour=o,a=!0,void 0===(o=e("hour12","boolean",[!0,!1]))&&(o=i(r)),s.hour12=o),void 0!==(o=e("minute","string",["2-digit","numeric"]))&&(s.minute=o,a=!0),void 0!==(o=e("second","string",["2-digit","numeric"]))&&(s.second=o,a=!0),void 0!==(o=e("millisecond","string",["numeric"]))&&(s.millisecond=o,a=!0),a}(r,h,s,u);if(h["two-digit-year-start"]=t(e),!m)return function(e,t,i,r){var o=e,s=n(t,i,l.resolvedOptions),a=r("formatType","string",["date","time","datetime"],"date"),u=r("dateFormat","string",["short","medium","long","full"],"short"),c=r("timeFormat","string",["short","medium","long","full"],"short");o.formatType=a,"datetime"!==a&&"date"!==a||(o.dateFormat=u),"datetime"!==a&&"time"!==a||(o.timeFormat=c),o.patternFromOptions=s,o.lenientParse=r("lenientParse","string",["none","full"],"full")}(h,e,u,r),h;if(void 0!==o){var f=r("timeZoneName","string",["short","long"]);void 0!==f&&(h.timeZoneName=f)}return h.lenientParse=r("lenientParse","string",["none","full"],"full"),h.patternFromOptions=d(h,u,p,"OraDateTimeConverter.resolvedOptions"),h}function oe(i,n,r){var o,s,a;(arguments.length<3||void 0===r)&&(r=e.OraI18nUtils.getLocaleElementsMainNodeKey(i)),(arguments.length<2||void 0===n)&&(n={year:"numeric",month:"numeric",day:"numeric"});var l=e.OraI18nUtils.getGetOption(n,"OraDateTimeConverter.resolvedOptions");void 0!==n&&(s=l("isoStrFormat","string",[Ie,Me,De,Ae,Pe],Pe),a=l("dst","boolean",[!0,!1],!1),o=n.timeZone);var u=e.OraI18nUtils.getNumberingExtension(r);return void 0===e.OraI18nUtils.numeringSystems[u]&&(u="latn"),void 0!==n&&void 0!==n.pattern?function(e,i,n,r,o,s,a){var l=X(r,o,s.pattern);return l.pattern=s.pattern,void 0!==e&&(l.isoStrFormat=e),void 0!==i&&(l.timeZone=i),void 0!==n&&(l.dst=n),l["two-digit-year-start"]=t(s),l.lenientParse=a("lenientParse","string",["none","full"],"full"),l}(s,o,a,r,u,n,l):void 0!==n?re(n,l,o,a,s,i,u,r):function(e,t,i){return{calendar:"gregorian",locale:t,numberingSystem:i,year:"numeric",month:"numeric",day:"numeric",patternFromOptions:d({year:"numeric",month:"numeric",day:"numeric"},e,t,"OraDateTimeConverter.resolvedOptions"),lenientParse:"full"}}(i,r,u)}function se(){return{format:function(t,i,n,r){var o;if("number"==typeof t)o=e.OraI18nUtils.dateToLocalIso(new Date(t));else{if("string"!=typeof t)return null;if(""===(o=e.OraI18nUtils.trim(t)))return null}(arguments.length<=2||void 0===n)&&(n={year:"numeric",month:"numeric",day:"numeric"});var s=v(i,n,e.OraI18nUtils.getISOStrFormatInfo(o),r),a=e.OraI18nUtils.getNumberingExtension(r);if(void 0===e.OraI18nUtils.numeringSystems[a]&&(a="latn"),"latn"!==a){for(var l=[],u=0;u<s.length;u++)s[u]>="0"&&s[u]<="9"?l.push(e.OraI18nUtils.numeringSystems[a][s[u]]):l.push(s[u]);return l.join("")}return s},formatRelative:function(e,t,i){return j(e,t,i)},parse:function(e,t,i,n){return ne(e,t,i,n)},resolvedOptions:function(e,t,i){return oe(e,t,i)},calculateWeek:function(t){var i,n=e.OraI18nUtils.isoToLocalDate(t),r=new Date(n.getTime());return r.setDate(r.getDate()+4-(r.getDay()||7)),i=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((i-r)/864e5)/7)+1},getAvailableTimeZones:function(t){return function(t){function i(i,n,r,o){var s=i.split("/"),a=s[0],l=s[1],u="",c="",d={},p=o[a];void 0!==p&&void 0!==(u=p[l])&&void 0!==(u=u.exemplarCity)&&(u=" "+u);var m=a+"/"+l,f=t.supplemental.metazones,_=h(g,m,f);void 0!==r&&(_=r[_]),null!=_&&void 0!==_.long&&(void 0===(c=_.long.generic)&&(c=_.long.standard),void 0!==c&&(c=" - "+c));var v="("+Ne+")";return 0!==n&&(v="("+(v=e.OraI18nUtils.getTimeStringFromOffset(Ne,n,!0,!0))+")"),void 0===u||void 0===c?null:(d.offsetLocName=v+u+c,d.locName=u+c,d)}function n(e){for(var n,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s],u=i(a,n=Q(r.getZone(a,t),g),l,c);null!==u&&d.push({id:a,displayName:u}),p[a]=n}}var r=u.getInstance(),o={sensitivity:"variant"},s=e.OraI18nUtils.getLocaleElementsMainNodeKey(t),a=e.OraI18nUtils.getLocaleElementsMainNode(t),l=a.dates.timeZoneNames.metazone,c=a.dates.timeZoneNames.zone,d=[],p={},m=t.supplemental.timeZoneData,f=new Date,g=[f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()],_=e.OraI18nUtils.getLocaleElementsMainNodeKey(t);if(void 0!==ue[_]){var v=ue[_].availableTimeZones;if(void 0!==v)return v}n(m.zones),n(m.links),d.sort(function(e,t){return p[t.id]-p[e.id]+e.displayName.locName.localeCompare(t.displayName.locName,s,o)});for(var y=d.length,E=0;E<y;E++)d[E].displayName=d[E].displayName.offsetLocName;return void 0===ue[_]&&(ue[_]={},ue[_].availableTimeZones=d),d}(t)},compareISODates:function(t,i,n){var r=function(t,i){var n={isoStrFormat:Ae},r=e.OraI18nUtils.getISOStrFormatInfo(t),o=e.OraI18nUtils.getISOStrFormatInfo(i),s=r.format,a=o.format;return s===Ae||a===Ae?n:(n.isoStrFormat=Ie,n)}(t,i),o=ne(t,n,r,"en-US"),s=ne(i,n,r,"en-US"),a=o.value.replace("Z",""),l=s.value.replace("Z",""),u=e.OraI18nUtils._IsoStrParts(a);u=Date.UTC(u[0],u[1]-1,u[2],u[3],u[4],u[5],u[6]);var c=e.OraI18nUtils._IsoStrParts(l);return u-(c=Date.UTC(c[0],c[1]-1,c[2],c[3],c[4],c[5],c[6]))},isHour12:function(e){return i(e)},getTimePositioning:function(t,i,n){var r=oe(t,i,n),o=r.pattern||r.patternFromOptions;o=(o=o.replace(/'[^']*'/g,"").replace(/[^hHkKma]*/g,"")).replace(/(h|H|k|K)+/,"h").replace(/m+/,"m");var s=L(e.OraI18nUtils.getLocaleElementsMainNodeKey(t)),a="ar"===s||"he"===s,l={},u=0,c=o.length;for(u=0;u<c;u++)l[o.charAt(u)]=u;return a&&(u=l.h,l.h=l.m,l.m=u),l}}}var ae,le={},ue={},ce=/(\d{1,4})\D+?(\d{1,4})/g,de=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,pe=/^[M][^M]|[^M]M[^M]|[^M]M$|^M$/g,he=/^[L][^L]|[^L]L[^L]|[^L]L$|^L$/g,me=/^[d][^d]|[^d]d[^d]|[^d]d$|^d$|^d[^d]/,fe=/(?:^|[^h])h[^h]|[^H]H[^H]|[^k]k[^k]|[^K]K[^K]|^H[^H]|^H$|[^h]h$/,ge=/'.*'/,_e=/'[^d]*d[^d]*'/,ve=/(\d{1,2})(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,3}))?/g,ye=/h|H|K|k/g,Ee=/([\^$.*+?|\[\](){}])/g,be=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|v|ZZZ|ZZ|Z|XXX|XX|X|VV|GGGGG|GGGG|GGG|GG|G/g,Se=/\s?(?:\(|\[)?z{1,4}(?:\)|\])?/g,Oe=!1,Ce={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},Te={s:46,m:46,h:23,d:7,w:4,M:12},Ie="zulu",Ae="local",Pe="auto",De="invariant",Me="offset",Ne="UTC",Le="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",we="(\\D+|\\D+\\d\\d?)",je={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:Le},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:Le},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:Le},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:Le},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:Le},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:Le},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:we},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:we},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:we},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:we},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:we},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:we},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:we},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:we},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:we},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:we},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},K:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},KK:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},k:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"numeric",regExp:"(\\d\\d?)"},kk:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"2-digit",regExp:"(\\d\\d?)"},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:"(\\d\\d?)"},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:"(\\d\\d?)"},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:"(\\d\\d?)"},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:"(\\d\\d?)"},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:"(\\d{1,3})"},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:"(\\d\\d?)"},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:"(\\d\\d?)"},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:"(\\d\\d?)"},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:"(\\d\\d?)"},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:"(\\d\\d?)"},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:"(\\d\\d?)"},y:{token:"year",key:"year",value:"numeric",regExp:"(\\d{1,4})"},yy:{token:"year",key:"year",value:"2-digit",regExp:"(\\d\\d?)"},yyyy:{token:"year",key:"year",value:"numeric",regExp:"(\\d{1,4})"},a:{token:"ampm",key:"hour12",value:!0,regExp:"(\\D*)"},z:{token:"tzAbbrev",regExp:"(.+?)"},v:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:"(.+?)"},zz:{token:"tzAbbrev",regExp:"(.+?)"},zzz:{token:"tzAbbrev",regExp:"(.+?)"},zzzz:{token:"tzFull",regExp:"(.+?)"},Z:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},ZZ:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},ZZZ:{token:"tzhm",regExp:"([+-]?\\d{1,4})"},X:{token:"tzh",regExp:"([+-]?\\d{1,2})"},XX:{token:"tzhm",key:"XX",regExp:"([+-]?\\d{1,4})"},XXX:{token:"tzhsepm",regExp:"([+-]?\\d{1,2}:\\d{1,2})"},VV:{token:"tzid",regExp:"(.+?)"},G:{token:"era",key:"era",value:"short",regExp:we},GG:{token:"era",key:"era",value:"short",regExp:we},GGG:{token:"era",key:"era",value:"short",regExp:we},GGGG:{token:"era",key:"era",value:"long",regExp:we},GGGGG:{token:"era",key:"era",value:"narrow",regExp:we},"/":{token:"slash",regExp:"(\\/)"}};return{getInstance:function(){return ae||(ae=se()),ae}}}();var u=function(){function e(e,t){for(var i="",n=Math.abs(e),r=Math.floor(n),o=function(e,t){for(var i=".",n="";t>0;){t-=1,e*=60;var r=Math.floor(e+y);i+=v[r],e-=r,r&&(n+=i,i="")}return n}(n-r,Math.min(t,10));r>0;)i=v[r%60]+i,r=Math.floor(r/60);return e<0&&(i="-"+i),
i&&o?i+o:(o||"-"!==i)&&(i||o)||"0"}function t(e){return e>96?e-87:e>64?e-29:e-48}function i(e){var i=0,n=e.split("."),r=n[0],o=n[1]||"",s=1,a=0,l=1;for(45===e.charCodeAt(0)&&(i=1,l=-1);i<r.length;i++)a=60*a+t(r.charCodeAt(i));for(i=0;i<o.length;i++)s/=60,a+=t(o.charCodeAt(i))*s;return a*l}function n(e){for(var t=0;t<e.length;t++)e[t]=i(e[t])}function r(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=e[t[n]];return i}function o(e,t){var i=t.split("|"),o=i[1].split(" "),s=i[2].split(""),a=i[3].split(" ");return n(o),n(s),n(a),function(e,t){for(var i=0;i<t;i++)e[i]=Math.round((e[i-1]||0)+e[i]*m);e[t-1]=1/0}(a,s.length),{name:e,abbrs:r(i[0].split(" "),s),offsets:r(o,s),untils:a}}function s(){var e=new Error("The input time does not exist because it falls during the transition to daylight saving time.");throw e.errorInfo={errorCode:"nonExistingTime"},e}function a(t,i){var n=i.zones[t];if(h.test(t)){var r=t.replace(h,"").split(":"),s=60*parseInt(r[0],10),a=0;if(isNaN(s))return;if(2===r.length&&(a=parseInt(r[1],10),isNaN(a)))return;if((s+=s>=0?a:-a)<g||s>_)return;s=e(s,1),n=t.replace("/etc//i","").toUpperCase()+"|"+s+"|0|"}void 0!==n&&this._set(o(t,n))}function l(e){return(e||"").toLowerCase().replace(/\//g,"_")}function u(e,t){var i=l(e);return void 0===p[i]&&function(e,t){var i=new a(e,t),n=l(i.name);p[n]=i}(e,t),p[l(e)]||null}function c(){return{getZone:function(e,t){var i=t.supplemental.timeZoneData;void 0===i&&function(){var e=new Error("TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data.");throw e.errorInfo={errorCode:"missingTimeZoneData"},e}();var n=u(e,i);if(!n){var r=i.links[e];r&&(n=u(r,i))}return n||function(e){var t=new Error("invalid timeZone ID: "+e),i={errorCode:"invalidTimeZoneID",parameterMap:{timeZoneID:e}};throw t.errorInfo=i,t}(e),n}}}var d,p={},h=/^Etc\/GMT/i,m=6e4,f=60*m,g=-840,_=720,v="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX",y=1e-6;return a.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},parse:function(e,t,i,n){for(var r=this.offsets,o=this.untils,a=o.length-1,l=0;l<a;l++){var u=r[l],c=r[l+1],d=o[l],p=d-u*m,h=p-f;if(e>=p&&e<p+f&&u>c){if(!0!==n)return l+1;s()}if(e>=h&&e<p&&u<c)return t?l:l+1;if(e<d-u*m)return!1===i?t?u<c?l:l+1:u<c?l+1:l:l}return a},abbr:function(e){return this.abbrs[e]},ofset:function(e){var t=this.offsets.length;return e>=0&&e<t?parseInt(this.offsets[e],10):parseInt(this.offsets[t-1],10)},len:function(){return this.offsets.length}},{getInstance:function(){return d||(d=c()),d}}}(),c={};return c.DateRestrictionValidator=e.DateRestrictionValidator,c.DateTimeConverter=e.DateTimeConverter,c.DateTimeRangeValidator=e.DateTimeRangeValidator,c.IntlDateTimeConverter=e.IntlDateTimeConverter,c}),define("ojs/ojvalidation-number",["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger"],function(e,t,i,n,r,o,s,a){"use strict";e.NumberConverter=function(){this.Init()},e.Object.createSubclass(e.NumberConverter,e.Converter,"oj.NumberConverter"),e.NumberConverter.prototype.Init=function(t){e.NumberConverter.superclass.Init.call(this,t)},e.NumberConverter.prototype.format=function(t){return e.NumberConverter.superclass.format.call(this,t)},e.NumberConverter.prototype.parse=function(t){return e.NumberConverter.superclass.parse.call(this,t)},e.NumberRangeValidator=function(e){this.Init(e)},e.Object.createSubclass(e.NumberRangeValidator,e.Validator,"oj.NumberRangeValidator"),e.NumberRangeValidator.prototype.Init=function(t){e.NumberRangeValidator.superclass.Init.call(this),t&&(this._min=t.min,this._max=t.max,this._converter=s.IntlConverterUtils.getConverterInstance(t.converter),this._hint=t.hint||{},this._customMessageSummary=t.messageSummary||{},this._customMessageDetail=t.messageDetail||{})},e.NumberRangeValidator.prototype.validate=function(t){var i=t?t.toString():t,r=parseFloat(i),o=this._customMessageSummary,s=this._customMessageDetail,a=s.rangeOverflow,l=s.rangeUnderflow,u=s.exact,c=o.rangeOverflow,d=o.rangeUnderflow,p=void 0!==this._min?parseFloat(this._min):null,h=void 0!==this._max?parseFloat(this._max):null,m=p&&this._converter?this._converter.format(p):p,f=h&&this._converter?this._converter.format(h):h,g="",_="",v=null,y=n;if(null===t)return t;if(null!==p&&null!==h){if(r>=p&&r<=h||p>h)return i}else if(null!==p){if(r>=p)return i}else if(null===h||r<=h)return i;throw null!==h&&null!==p&&p===h?(v={value:t,num:f},_=u?y.applyParameters(u,v):y.getTranslatedString("oj-validator.range.number.messageDetail.exact",v),r>h?g=c||y.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):r<p&&(g=c?d:y.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==h&&r>h?(v={value:t,max:f},g=c||y.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),_=a?y.applyParameters(a,v):y.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",v)):(v={value:t,min:m},g=d||y.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),_=l?y.applyParameters(l,v):y.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",v)),new e.ValidatorError(g,_)},e.NumberRangeValidator.prototype.getHint=function(){var e=null,t=this._hint,i=t.inRange,r=t.exact,o=t.min,s=t.max,a=n,l=void 0!==this._min?parseFloat(this._min):null,u=void 0!==this._max?parseFloat(this._max):null,c=l&&this._converter?this._converter.format(l):l,d=u&&this._converter?this._converter.format(u):u;return null!==l&&null!==u?e=l!==u?i?a.applyParameters(i,{min:c,max:d}):a.getTranslatedString("oj-validator.range.number.hint.inRange",{min:c,max:d}):r?a.applyParameters(r,{num:c}):a.getTranslatedString("oj-validator.range.number.hint.exact",{num:c}):null!==l?e=o?a.applyParameters(o,{min:c}):a.getTranslatedString("oj-validator.range.number.hint.min",{min:c}):null!==u&&(e=s?a.applyParameters(s,{max:d}):a.getTranslatedString("oj-validator.range.number.hint.max",{max:d})),e},e.NumberConverterFactory=function(){return{createConverter:function(t){return function(t){return new e.IntlNumberConverter(t)}(t)}}}(),s.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_NUMBER,e.NumberConverterFactory),e.NumberRangeValidatorFactory=function(){return{createValidator:function(t){return function(t){return new e.NumberRangeValidator(t)}(t)}}}(),s.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,e.NumberRangeValidatorFactory),e.IntlNumberConverter=function(e){this.Init(e)},e.Object.createSubclass(e.IntlNumberConverter,e.NumberConverter,"oj.IntlNumberConverter"),e.IntlNumberConverter.prototype.Init=function(t){e.IntlNumberConverter.superclass.Init.call(this,t)},e.IntlNumberConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=l.getInstance()),this._wrapped},e.IntlNumberConverter.prototype.format=function(t){if(null==t||"string"==typeof t&&0===e.StringUtils.trim(""+t).length||"number"==typeof t&&isNaN(t))return s.IntlConverterUtils.__getNullFormattedValue();var r,l=i.getLocale(),u=o.__getBundle(),c=this.resolvedOptions();try{r=this._getWrapped().format(t,u,c,l)}catch(e){throw this._processConverterError(e,t)}if("NaN"===r){var d=n.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:t}),p=n.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");a.error(d+" "+p)}return r},e.IntlNumberConverter.prototype.getHint=function(){return null},e.IntlNumberConverter.prototype.getOptions=function(){return e.IntlNumberConverter.superclass.getOptions.call(this)},e.IntlNumberConverter.prototype.parse=function(t){var n,r,s;if(null==t||""===t)return null;n=i.getLocale(),r=o.__getBundle(),s=this.resolvedOptions();try{return this._getWrapped().parse(e.StringUtils.trim(t),r,s,n)}catch(e){throw this._processConverterError(e,t)}},e.IntlNumberConverter.prototype.resolvedOptions=function(){var t,n=i.getLocale();if(n!==this._locale||!this._resolvedOptions){t=e.LocaleData.__getBundle();try{if(!t)return a.error("locale bundle for the current locale %s is unavailable",n),{};this._resolvedOptions=this._getWrapped().resolvedOptions(t,this.getOptions(),n),this._locale=n}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},e.IntlNumberConverter.prototype._processConverterError=function(t,i){var r,o,a,l,u=t.errorInfo;if(u){var c=u.errorCode,d=u.parameterMap;switch(e.Assert.assertObject(d),c){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":r=s.IntlConverterUtils.__getConverterOptionError(c,d);break;case"decimalFormatMismatch":a="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":a="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":a="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":l=n.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),o=n.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),r=new e.ConverterError(l,o)}a&&(l=n.getTranslatedString(a,{value:i||d.value,format:d.format}),o=n.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),r=new e.ConverterError(l,o))}return r||(l=t.message,o=t.message,r=new e.ConverterError(l,o)),r},e.IntlNumberConverter.prototype._getHintValue=function(){var t="";try{t=this.format(12345.98765)}catch(i){i instanceof e.ConverterError&&(t="",a.error("error retrieving hint value in format"))}return t};var l=function(){function t(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e}function i(e,t,i,n,r){var o=e[t];return void 0!==o?(o=Number(o),(isNaN(o)||o<i||o>n)&&function(e,t,i,n){var r=new RangeError(e+" is out of range.  Enter a value between "+t+" and "+i+" for "+n),o={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:t,maxValue:i,propertyName:n}};throw r.errorInfo=o,r}(o,i,n,t),Math.floor(o)):r}function n(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n}function r(t,r,s,l){var u,c=r,d=e.OraI18nUtils.getLocaleElementsMainNode(t),p=function(e,t){if(void 0===t)return"latn";var i=n(t),r="symbols-numberSystem-"+i;return void 0===e.numbers[r]&&(i="latn"),i}(d,l);c.numberingSystemKey=p,c.numberingSystem="symbols-numberSystem-"+p;var h=s.lenientParse;if(c.lenientParse=h||"full",c.style=s.style,void 0!==s.pattern&&s.pattern.length>0)u=s.pattern;else{var m;switch(c.style){case"decimal":m="decimalFormats-numberSystem-";break;case"currency":m="currencyFormats-numberSystem-";break;case"percent":m="percentFormats-numberSystem-";break;default:m="decimalFormats-numberSystem-"}m+=c.numberingSystemKey,u=d.numbers[m].standard;var _=s.decimalFormat;void 0===_&&(_=s.currencyFormat),void 0===_||"decimal"!==c.style&&"currency"!==c.style||(c.shortDecimalFormat=d.numbers["decimalFormats-numberSystem-latn"][_].decimalFormat)}var v=d.numbers[c.numberingSystem].decimal,y=d.numbers[c.numberingSystem].group,E=s.separators;if(void 0!==E){c.separators=E;var T=E.decimal,I=E.group;void 0!==T&&""!==T&&(v=E.decimal),void 0!==I&&(y=E.group)}var A=e.OraI18nUtils.getLocaleElementsMainNodeKey(t),P=A.split("-")[0];if(c.plurals=t.supplemental.plurals,c.lang=P,c.pat=u,c.minusSign=d.numbers[c.numberingSystem].minusSign,c.decimalSeparator=v,c.exponential=d.numbers[c.numberingSystem].exponential,c.groupingSeparator=y,c.currencyDisplay=s.currencyDisplay,void 0!==s.currency&&(c.currencyCode=s.currency.toUpperCase()),void 0!==s.unit&&(c.unit=s.unit.toLowerCase()),function(e,t,i,n){for(var r,s=n,a=!1,l=!1,u=0,c=0,d=!0,p=1;p>=0&&c<t.length;--p){var h=!1,m="",_="",v=-1,y=1,E=0,T=0,I=0,A=-1,P=-1,D=0;d=!0;for(var M=c;M<t.length;++M){var N=t.charAt(M);switch(D){case 0:case 2:if(h){if(N===K){M+1<t.length&&t.charAt(M+1)===K?(M+=1,d?m=m.concat("''"):_=_.concat("''")):h=!1;continue}}else{if(N===G||N===V||N===x||N===B){D=1,M-=1;continue}if(N===z){void 0===e.currency&&o("style"),s.style="currency";var L=M+1<t.length&&t.charAt(M+1)===z;L&&(M+=1),d?m=m.concat(L?"'¤¤":"'¤"):_=_.concat(L?"'¤¤":"'¤");continue}if(N===K){if(N===K){M+1<t.length&&t.charAt(M+1)===K?(M+=1,d?m=m.concat("''"):_=_.concat("''")):h=!0;continue}}else{if(N===Y){0!==D&&0!==p||f(t),c=M+1,M=t.length;continue}if(N===F){s.style="percent",1!==y&&f(t),s.isPercent=!0,y=100,d?m=m.concat("'%"):_=_.concat("'%");continue}if(N===H){1!==y&&f(t),s.style="perMill",s.isPerMill=!0,y=1e3,d?m=m.concat("'‰"):_=_.concat("'‰");continue}if(N===Z){d?m=m.concat("'-"):_=_.concat("'-");continue}}}d?m=m.concat(N):_=_.concat(N);break;case 1:if(1!==p){0===(u-=1)&&(D=2,d=!1);continue}if(u+=1,N===G)T>0?I+=1:E+=1,A>=0&&v<0&&(A+=1);else if(N===V)I>0&&f(t),T+=1,A>=0&&v<0&&(A+=1);else if(N===x)P=A,A=0;else{if(N!==B){if(k=M,U=W,X=t.substr(k,U.length),null!==new RegExp(U,"i").exec(X)){for(l&&f(t),l=!0,r=0,M+=W.length;M<t.length&&t.charAt(M)===V;)r+=1,u+=1,M+=1;(E+T<1||r<1)&&f(t),D=2,d=!1,M-=1;continue}D=2,d=!1,M-=1,u-=1;continue}v>=0&&f(t),v=E+T+I}}}if(0===T&&E>0&&v>=0){var w=v;0===w&&(w+=1),I=E-w,E=w-1,T=1}if((v<0&&I>0||v>=0&&(v<E||v>E+T)||0===A||h)&&f(t),1===p){O=b=m,C=S=_;var j=E+T+I,R=v>=0?v:j;s.minimumIntegerDigits=R-E,s.maximumIntegerDigits=l?E+s.minimumIntegerDigits:q,s.maximumFractionDigits=v>=0?j-v:0,s.minimumFractionDigits=v>=0?E+T-v:0,s.groupingSize=A>0?A:0,s.groupingSize0=P}else O=m,C=_,a=!0}var k,U,X;0===t.length&&(b="",S="",s.minimumIntegerDigits=0,s.maximumIntegerDigits=q,s.minimumFractionDigits=0,s.maximumFractionDigits=$),s.useExponentialNotation=l,s.minExponentDigits=r,(!a||0===O.localeCompare(b)&&0===C.localeCompare(S))&&("currency"===s.style&&"ar"===s.lang?(C=S+"'‏-",O=b):(C=S,O="'-"+b)),!function(e,t){var i=t,n={};null!==b&&(i.positivePrefix=g(b,e,i,n)),null!==S&&(i.positiveSuffix=g(S,e,i,n)),null!==O&&(i.negativePrefix=g(O,e,i,n)),null!==C&&(i.negativeSuffix=g(C,e,i,n)),void 0!==n.name&&(i.positiveSuffix=" "+n.name,i.positivePrefix="","ar"===i.lang?(i.negativeSuffix=e.numbers[i.numberingSystem].minusSign+" "+n.name,i.negativePrefix=""):(i.negativeSuffix=" "+n.name,i.negativePrefix=e.numbers[i.numberingSystem].minusSign))}(i,s)}(s,u,d,c),void 0===s.pattern&&(c.minimumIntegerDigits=i(s,"minimumIntegerDigits",1,21,c.minimumIntegerDigits),void 0!==s.maximumFractionDigits&&(c.maximumFractionDigits=i(s,"maximumFractionDigits",0,20,c.maximumFractionDigits),c.maximumFractionDigits<c.minimumFractionDigits&&(c.minimumFractionDigits=c.maximumFractionDigits)),void 0!==s.minimumFractionDigits&&(c.minimumFractionDigits=i(s,"minimumFractionDigits",0,20,c.minimumFractionDigits)),c.maximumFractionDigits<c.minimumFractionDigits&&(c.maximumFractionDigits=c.minimumFractionDigits,a.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===c.style&&void 0===s.minimumFractionDigits)){var D=t.supplemental.currencyData.fractions[s.currency];if(void 0!==D){var M=parseInt(D._digits,10);c.minimumFractionDigits=M,c.maximumFractionDigits=M}}}function o(e){var t=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw t.errorInfo=i,t}function s(t,i){var n=e.OraI18nUtils.getGetOption(t,i),r=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===r||"currency"===r){var s="decimal"===r?"decimalFormat":"currencyFormat";r=n(s,"string",["standard","short","long"]),"OraNumberConverter.parse"===i&&void 0!==r&&"standard"!==r&&function(e){var t=new Error("long and short "+e+" are not supported for parsing"),i={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw t.errorInfo=i,t}(s)}var a=n("currency","string");"currency"===r&&void 0===a&&o("style"),a=n("unit","string"),"unit"===r&&void 0===a&&function(e){var t=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw t.errorInfo=i,t}("style"),r=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function l(e,i,n){var r=n.groupingSize,o=n.groupingSize0,s=n.decimalSeparator,a=e+"",l=a.split(/e/i),c=l.length>1?parseInt(l[1],10):0,d=(l=(a=l[0]).split(".")).length>1?l[1]:"",p=Math.min(n.maximumFractionDigits,d.length-c);l.length>1&&d.length>c&&(e=u(e,p,i.roundingMode||"DEFAULT")),c=(l=(a=Math.abs(e)+"").split(/e/i)).length>1?parseInt(l[1],10):0,a=(l=(a=l[0]).split("."))[0],d=l.length>1?l[1]:"",c>0?(a+=(d=t(d,c,!1)).slice(0,c),d=d.substr(c)):c<0&&(d=(a=t(a,(c=-c)+1,!0)).slice(-c,a.length)+d,a=a.slice(0,-c)),p>0&&d.length>0?(d=d.length>p?d.slice(0,p):t(d,p,!1),!0===M.test(d)&&(d=d.slice(0,n.minimumFractionDigits)),d=s+d):d=n.minimumFractionDigits>0?s:"",d=t(d,s.length+n.minimumFractionDigits,!1);var h=n.groupingSeparator,m="";!1===i.useGrouping&&void 0===i.pattern&&(h="");var f=(a=t(a,n.minimumIntegerDigits,!0)).length-1;for(d=d.length>1?d:"";f>=0;){if(0===r||r>f)return a.slice(0,f+1)+(m.length?h+m+d:d);m=a.slice(f-r+1,f+1)+(m.length?h+m:""),f-=r,o>0&&(r=o)}return a.slice(0,f+1)+h+m+d}function u(e,t,i){var n,r=i,o=e.toString().split(".");if(void 0===o[1])return Math.abs(e);if("DEFAULT"!==i){if("HALF_UP"===i||"HALF_EVEN"===i||"HALF_DOWN"===i){if("5"===o[1][t]){var s=o[1].substr(t);(s=parseInt(s,10))>5&&(r="HALF_UP")}else r="DEFAULT";e=Math.abs(e)}n=function(e,t,i){if(0===t)return Math[i](e);var n=e.toString().split("e"),r=n[0],o=n[1],s=r+"e"+(o?parseInt(o,10)-t:-t),a=parseFloat(s),l=Math[i](a);return n=l.toString().split("e"),r=n[0],o=n[1],s=r+"e"+(o?parseInt(o,10)+t:t),a=parseFloat(s)}(e,-t,r=function(e,t,i,n){var r=w[t];if("HALF_EVEN"===t){var o;if(0===i){var s=e[0].length;o=parseInt(e[0][s-1],10)}else o=parseInt(e[1][i-1],10);r=o%2==0?w.HALF_DOWN:w.HALF_UP}else"UP"===t&&n<0?r=w.DOWN:"DOWN"===t&&n<0&&(r=w.UP);return r}(o,r,t,e))}else{var a=Math.pow(10,t);if(n=Math.round(e*a)/a,!isFinite(n))return e}return Math.abs(n)}function c(i,r,o,s,a){var u=e.OraI18nUtils.getLocaleElementsMainNode(o);if(!isFinite(i))return i===1/0?u.numbers[s.numberingSystem].infinity:i===-1/0?u.numbers[s.numberingSystem].infinity:"NaN";var c=i;!0===s.isPercent||"percent"===s.style?c*=100:!0===s.isPerMill&&(c*=1e3);var d=r.decimalFormat;void 0===d&&(d=r.currencyFormat);var p=s.style;c="decimal"!==p&&"currency"!==p||void 0===d||"standard"===d?!0===s.useExponentialNotation?function(e,i){var n=e+"",r=0,o=n.split(/e/i),s=o[0];D.lastIndex=0;var a=D.exec(s);null!==a?(r=a[1].length-1,s=a[2]):s=s.replace(".","");var l=o.length>1?parseInt(o[1],10):0,u=parseInt(s,10),c=i.minimumIntegerDigits+i.maximumFractionDigits;if(s.length>c){c-=s.length;var d=Math.pow(10,c);u=Math.round(u*d)}var p=i.minimumIntegerDigits+i.minimumFractionDigits;u=t(u+="",p,!1),l-=-1!==n.indexOf(".")?i.minimumIntegerDigits-n.indexOf(".")+r:p-s.length-i.minimumFractionDigits;var h=Math.abs(l);h=t(h+"",i.minExponentDigits,!0),l<0&&(h=i.minusSign+h);var m=u.slice(0,i.minimumIntegerDigits);return m+=u.slice(i.minimumIntegerDigits).length>0?i.decimalSeparator+u.slice(i.minimumIntegerDigits)+i.exponential+h:i.exponential+h}(c,s):"unit"===p?function(t,i,n,r){var o,s,a=Math.abs(t);a>=U?(o="digital-tera",s=a/U):a>=k?(o="digital-giga",s=a/k):a>=R?(o="digital-mega",s=a/R):a>=j?(o="digital-kilo",s=a/j):(o="digital-",s=a),o+=n.unit;var u=n.lang,c=n.plurals[u](s);c="unitPattern-count-"+c,t<0&&(s=-s);var d=l(s,i,n),p=r.units.narrow[o][c];return d=e.OraI18nUtils.formatString(p,[d])}(c,r,s,u):l(c,r,s):function(e,t,i){var n,r,o,s=Math.abs(e),a=function(e){for(var t=Object.keys(N),i=0;i<t.length;i++)for(var n=t[i],r=N[n].length,o=0;o<r;o++)if(N[n][o]<=e)return[n,N[n][o]];return[e,null]}(s),u="";if(null!==a[1]){var c=i.lang,d=i.plurals[c](Math.floor(s/L[a[0]]));if(n=a[1]+"-count-"+d,void 0===(n=i.shortDecimalFormat[n])&&(d="other",n=a[1]+"-count-"+d,n=i.shortDecimalFormat[n]),o=(r=function(e){var t=0,i=0,n=0,r="";if("0"!==e[0]){for(;"0"!==e[t]&&t<e.length;)t+=1;r=e.substr(0,t),n=t}for(t=n;t<e.length&&"0"===e[t];t++)i+=1;return[r,i]}(n))[1],u=r[0],o<n.length){var p=1*Math.pow(10,o);s/=p=a[1]/p*10}}var h="";return void 0!==n&&(h=n.substr(o+r[0].length)),e<0&&(s=-s),h=u+l(s,t,i)+(h=h.replace(/'\.'/g,"."))}(c,r,s);var h="";h+=i<0&&c-0!=0?s.negativePrefix+c+s.negativeSuffix:s.positivePrefix+c+s.positiveSuffix;var m=n(a);if(void 0===e.OraI18nUtils.numeringSystems[m]&&(m="latn"),"latn"!==m){var f,g=[];for(f=0;f<h.length;f++)h[f]>="0"&&h[f]<="9"?g.push(e.OraI18nUtils.numeringSystems[m][h[f]]):g.push(h[f]);return g.join("")}return h}function d(t,i){var n=i.groupingSeparator,r=i.decimalSeparator,o=i.minusSign,s="",a="",l=e.OraI18nUtils.toUpper(i.exponential),u=e.OraI18nUtils.toUpper(t),c=n;u=(u=u.split(l).join("E")).split(c).join("");var d=c.replace(/\u00A0/g," ");c!==d&&(u=u.split(d).join("")),"."===(u=u.split(r).join(".")).charAt(0)&&(u=u.substr(1),a="."),u=u.replace(o,"-");var p=a+A.exec(u)[2];return e.OraI18nUtils.startsWith(p,"-")?(p=p.substr("-".length),s="-"):e.OraI18nUtils.startsWith(u,"+")&&(p=p.substr("+".length),s="+"),[s,p]}function p(t,i,n,r){return isNaN(t)&&h(n.style,n,r),!0===n.isPercent||"percent"===n.style?t/=100:!0===n.isPerMill&&(t/=1e3),e.OraI18nUtils.getGetOption(i,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(t=function(e,t,i){var n=t.maximumFractionDigits,r=e<0,o=i.roundingMode||"DEFAULT",s=u(e,n,o);return r?-s:s}(t,n,i)),t}function h(e,t,i){var n,r="Unparsable number "+i+" The expected number pattern is "+t.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var o=new Error(r),s={errorCode:n,parameterMap:{value:i,format:t.pat}};throw o.errorInfo=s,o}function m(t,i,o,s){var a=e.OraI18nUtils.getLocaleElementsMainNode(i),l={},u=function(t,i){var r,o=n(i);if(void 0===e.OraI18nUtils.numeringSystems[o])return t;var s=[];for(r=0;r<t.length;r++){var a=e.OraI18nUtils.numeringSystems[o].indexOf(t[r]);-1!==a?s.push(a):s.push(t[r])}return s.join("")}(t,s);r(i,l,o,s);var c=NaN,m=u.replace(/ /g,"");if(T.test(m))return c=parseFloat(u);var f=function(t,i,n,r){var o,s=e.OraI18nUtils.trimNumber(t),a="",l=!1,u=r.numbers[n.numberingSystem].plusSign,c=new RegExp("^"+u.replace(P,"\\$1"));s=s.replace(c,"");var p=e.OraI18nUtils.trimNumber(n.positivePrefix),m=e.OraI18nUtils.trimNumber(n.positiveSuffix),f=e.OraI18nUtils.trimNumber(n.negativePrefix),g=e.OraI18nUtils.trimNumber(n.negativeSuffix),_=new RegExp("^"+(p||"").replace(P,"\\$1")),v=new RegExp((m||"").replace(P,"\\$1")+"$"),y=new RegExp("^"+(f||"").replace(P,"\\$1")),E=new RegExp((g||"").replace(P,"\\$1")+"$");if(!0===y.test(s)&&!0===E.test(s))s=(s=s.replace(y,"")).replace(E,""),a="-",l=!0;else if(!0===_.test(s)&&!0===v.test(s))s=(s=s.replace(_,"")).replace(v,""),a="+",l=!0;else if("currency"===n.style){var b,S=n.currencyCode,O=S;if(void 0!==r.numbers.currencies[S]&&(O=r.numbers.currencies[S].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?b=O:"code"===n.currencyDisplay&&(b=S),void 0!==b){var C=(p||"").replace(b,""),T=(m||"").replace(b,""),I=(f||"").replace(b,""),A=(g||"").replace(b,"");_=new RegExp(("^"+C).replace(P,"\\$1")),v=new RegExp(T.replace(P,"\\$1")+"$"),y=new RegExp(("^"+I).replace(P,"\\$1")),E=new RegExp(A.replace(P,"\\$1")+"$"),!0===y.test(s)&&!0===E.test(s)?(s=(s=s.replace(y,"")).replace(E,""),a="-",l=!0):!0===_.test(s)&&!0===v.test(s)&&(s=(s=s.replace(_,"")).replace(v,""),a="+",l=!0)}}return l?o=[a,s]:"full"===n.lenientParse?(o=d(s,n))[2]=!0:h(n.style,n,t),o}(u,0,l,a),g=f[0],_=f[1];if(g=g||"+",f[2])return p(c=parseFloat(g+_),o,l,t);var v=function(t,i){var n,r,o={},s=i.decimalSeparator,a=i.groupingSeparator,l=t.replace(/ /g,""),u=i.exponential,c=l.indexOf(u.toLowerCase());c<0&&(c=l.indexOf(e.OraI18nUtils.toUpper(u))),c<0?(r=l,o.exponent=null):(r=l.substr(0,c),o.exponent=l.substr(c+u.length));var d=s,p=r.indexOf(d);p<0?(n=r,o.fraction=null):(n=r.substr(0,p),o.fraction=r.substr(p+d.length)),n=n.split(a).join("");var h=a.replace(/\u00A0/g," ");return a!==h&&(n=n.split(h).join("")),o.integer=n,o}(_,l),y=v.integer,E=v.fraction,b=v.exponent,S=g+y;if(null!==E&&(S+="."+E),null!==b){var O=function(t,i){var n,r=i.minusSign,o=i.plusSign,s=e.OraI18nUtils.trimNumber(t);return r=e.OraI18nUtils.trimNumber(r),o=e.OraI18nUtils.trimNumber(o),e.OraI18nUtils.startsWith(s,r)?n=["-",s.substr(r.length)]:e.OraI18nUtils.startsWith(s,e.OraI18nUtils.trimNumber(o))&&(n=["+",s.substr(o.length)]),n||["",s]}(b,l);S+="e"+(O[0]||"+")+O[1]}return I.test(S)?c=parseFloat(S):"full"===l.lenientParse?(S=d(u,l),c=parseFloat(S[0]+S[1])):h(l.style,l,t),p(c,o,l,t)}function f(e){var t=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".'),i={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}};throw t.errorInfo=i,t}function g(e,t,i,n){for(var r="",o=0;o<e.length;){var s=e.charAt(o);if(o+=1,s!==K){switch(s){case z:var a=i.currencyCode,l=a,u=a;void 0!==t.numbers.currencies[a]&&(l=t.numbers.currencies[a].displayName,u=t.numbers.currencies[a].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?s=u:"code"===i.currencyDisplay?s=a:(s=l,n.name=s);break;case F:s=t.numbers[i.numberingSystem].percentSign;break;case H:s=t.numbers[i.numberingSystem].perMille;break;case Z:s=t.numbers[i.numberingSystem].minusSign}r=r.concat(s)}}return r}function _(e,t,i){var n={locale:i,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===t.useGrouping||t.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==t.decimalFormat&&(n.decimalFormat=t.decimalFormat),"currency"===e.style&&void 0!==t.currencyFormat&&(n.currencyFormat=t.currencyFormat),"currency"===e.style&&(n.currency=t.currency,n.currencyDisplay=void 0===t.currencyDisplay?"symbol":t.currencyDisplay),void 0!==t.unit&&(n.unit=t.unit),void 0!==t.pattern&&(n.pattern=t.pattern);var r=t.roundingMode,o=t.roundDuringParse;void 0!==r&&(n.roundingMode=r),void 0!==o&&(n.roundDuringParse=o);var s=e.lenientParse;void 0!==s&&(n.lenientParse=s);var a=e.separators;return void 0!==a&&(n.separators=a),n.virtualKeyboardHint=function(e,t){var i="text";switch(t.style){case"unit":i="text";break;case"currency":case"percent":i=void 0===t.pattern?"text":v(e,t);break;default:i=void 0===t.pattern?"short"===t.decimalFormat||"long"===t.decimalFormat?"text":function(e,t){if(void 0===t.useGrouping||t.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,t):v(e,t)}return i}(e,t),n}function v(e,t){var i;if(i=t.pattern,/[^0-9.#]/i.test(i))return"text";var n=function(e){return-1!==e.indexOf(",")}(t.pattern),r=function(e){return-1!==e.indexOf(".")}(t.pattern);if(n&&r){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return r&&!n&&"."!==e.decimalSeparator?"text":!r&&n&&""!==e.groupingSeparator?"text":"number"}function y(){return{format:function(e,t,i,n){(arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),s(i,"OraNumberConverter.format");var o={};return r(t,o,i,n),c(e,i,t,o,n)},parse:function(e,t,i,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),s(i,"OraNumberConverter.parse"),m(e,t,i,n))},resolvedOptions:function(t,i,o){return(arguments.length<3||void 0===o)&&(o=e.OraI18nUtils.getLocaleElementsMainNodeKey(t)),(arguments.length<2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),_(function(t,i,o){var a={};return s(i,"OraNumberConverter.resolvedOptions"),r(t,a,i,o),a.numberingSystemKey=n(o),void 0===e.OraI18nUtils.numeringSystems[a.numberingSystemKey]&&(a.numberingSystemKey="latn"),a}(t,i,o),i,o)}}}var E,b,S,O,C,T=/^[+-]?infinity$/i,I=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,A=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,P=/([\^$.*+?|\[\](){}])/g,D=/(^0\.0*)([^0].*$)/,M=/^0+$/,N={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},L={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},w={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"},j=1024,R=1048576,k=1073741824,U=1099511627776,V="0",x=",",B=".",F="%",H="‰",G="#",Y=";",W="E",Z="-",K="'",z="¤",q=2147483647,$=2147483647;return{getInstance:function(){return E||(E=y()),E}}}(),u={};return u.NumberConverter=e.NumberConverter,u.NumberRangeValidator=e.NumberRangeValidator,u.IntlNumberConverter=e.IntlNumberConverter,u}),define("ojs/ojvalidation",["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojmessaging","ojs/ojvalidation-datetime","ojs/ojvalidation-number"],function(e,t,i){}),define("dateTimeUtils",["ojs/ojcore","ojs/ojvalidation"],function(){"use strict";function e(){}return e.prototype.DEFAULT_FORMAT_TYPE="datetime",e.prototype.DEFAULT_FORMAT="short",e.prototype.getFormattedDateTime=function(e,t,i,n){var r,o,s,a,s,l,u;return t||(t=this.DEFAULT_FORMAT_TYPE),i||(i=this.DEFAULT_FORMAT),n||(n=this.DEFAULT_FORMAT),o=oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME),a={formatType:t,dateFormat:i,timeFormat:n},s=o.createConverter(a),l=new Date(e),u=oj.IntlConverterUtils.dateToLocalIso(l),r=s.format(u)},e.prototype.validateDate=function(e){var t,i,n,i,r,o,s;r="date",o=this.DEFAULT_FORMAT,s=this.DEFAULT_FORMAT,t=oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME),n={formatType:r,dateFormat:o,timeFormat:s},i=t.createConverter(n);try{return i.parse(e),!0}catch(e){return!1}},e.prototype.validateTime=function(e){var t,i,n,i,r,o,s;r="time",o=this.DEFAULT_FORMAT,s=this.DEFAULT_FORMAT,t=oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME),n={formatType:r,dateFormat:o,timeFormat:s},i=t.createConverter(n);try{return i.parse(e),!0}catch(e){return!1}},new e}),!function(e,t,i,n){"use strict";function r(e,t,i){return setTimeout(u(e,i),t)}function o(e,t,i){return!!Array.isArray(e)&&(s(e,i[t],i),!0)}function s(e,t,i){var r;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==n)for(r=0;r<e.length;)t.call(i,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r,e)}function a(t,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,r,n),t.apply(this,arguments)}}function l(e,t,i){var n,r=t.prototype;n=e.prototype=Object.create(r),n.constructor=e,n._super=r,i&&de(n,i)}function u(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==me?e.apply(t?t[0]||n:n,t):e}function d(e,t){return e===n?t:e}function p(e,t,i){s(g(t),function(t){e.addEventListener(t,i,!1)})}function h(e,t,i){s(g(t),function(t){e.removeEventListener(t,i,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function f(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function _(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t,i){for(var n=[],r=[],o=0;o<e.length;){
var s=t?e[o][t]:e[o];_(r,s)<0&&n.push(e[o]),r[o]=s,o++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function E(e,t){for(var i,r,o=t[0].toUpperCase()+t.slice(1),s=0;s<pe.length;){if(i=pe[s],r=i?i+o:t,r in e)return r;s++}return n}function b(){return Ee++}function S(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}function O(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&i.handler(t)},this.init()}function C(e){var t,i=e.options.inputClass;return new(t=i?i:Oe?V:Ce?F:Se?G:U)(e,T)}function T(e,t,i){var n=i.pointers.length,r=i.changedPointers.length,o=t&Me&&n-r===0,s=t&(Le|we)&&n-r===0;i.isFirst=!!o,i.isFinal=!!s,o&&(e.session={}),i.eventType=t,I(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function I(e,t){var i=e.session,n=t.pointers,r=n.length;i.firstInput||(i.firstInput=D(t)),r>1&&!i.firstMultiple?i.firstMultiple=D(t):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,l=t.center=M(n);t.timeStamp=_e(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=j(a,l),t.distance=w(a,l),A(i,t),t.offsetDirection=L(t.deltaX,t.deltaY);var u=N(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ge(u.x)>ge(u.y)?u.x:u.y,t.scale=s?k(s.pointers,n):1,t.rotation=s?R(s.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,P(i,t);var c=e.element;m(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function A(e,t){var i=t.center,n=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Me&&o.eventType!==Le||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=r.x+(i.x-n.x),t.deltaY=r.y+(i.y-n.y)}function P(e,t){var i,r,o,s,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=we&&(l>De||a.velocity===n)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,d=N(l,u,c);r=d.x,o=d.y,i=ge(d.x)>ge(d.y)?d.x:d.y,s=L(u,c),e.lastInterval=t}else i=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;t.velocity=i,t.velocityX=r,t.velocityY=o,t.direction=s}function D(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:fe(e.pointers[i].clientX),clientY:fe(e.pointers[i].clientY)},i++;return{timeStamp:_e(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:fe(e[0].clientX),y:fe(e[0].clientY)};for(var i=0,n=0,r=0;t>r;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:fe(i/t),y:fe(n/t)}}function N(e,t,i){return{x:t/e||0,y:i/e||0}}function L(e,t){return e===t?je:ge(e)>=ge(t)?0>e?Re:ke:0>t?Ue:Ve}function w(e,t,i){i||(i=He);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function j(e,t,i){i||(i=He);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return 180*Math.atan2(r,n)/Math.PI}function R(e,t){return j(t[1],t[0],Ge)+j(e[1],e[0],Ge)}function k(e,t){return w(t[0],t[1],Ge)/w(e[0],e[1],Ge)}function U(){this.evEl=We,this.evWin=Ze,this.pressed=!1,O.apply(this,arguments)}function V(){this.evEl=qe,this.evWin=$e,O.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function x(){this.evTarget=Je,this.evWin=Qe,this.started=!1,O.apply(this,arguments)}function B(e,t){var i=v(e.touches),n=v(e.changedTouches);return t&(Le|we)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}function F(){this.evTarget=tt,this.targetIds={},O.apply(this,arguments)}function H(e,t){var i=v(e.touches),n=this.targetIds;if(t&(Me|Ne)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=v(e.changedTouches),a=[],l=this.target;if(o=i.filter(function(e){return m(e.target,l)}),t===Me)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<s.length;)n[s[r].identifier]&&a.push(s[r]),t&(Le|we)&&delete n[s[r].identifier],r++;return a.length?[y(o.concat(a),"identifier",!0),a]:void 0}function G(){O.apply(this,arguments);var e=u(this.handler,this);this.touch=new F(this.manager,e),this.mouse=new U(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Y(e,t){e&Me?(this.primaryTouch=t.changedPointers[0].identifier,W.call(this,t)):e&(Le|we)&&W.call(this,t)}function W(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)};setTimeout(r,it)}}function Z(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(t-r.x),s=Math.abs(i-r.y);if(nt>=o&&nt>=s)return!0}return!1}function K(e,t){this.manager=e,this.set(t)}function z(e){if(f(e,ut))return ut;var t=f(e,ct),i=f(e,dt);return t&&i?ut:t||i?t?ct:dt:f(e,lt)?lt:at}function q(){if(!ot)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!i||e.CSS.supports("touch-action",n)}),t}function $(e){this.options=de({},this.defaults,e||{}),this.id=b(),this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=ht,this.simultaneous={},this.requireFail=[]}function X(e){return e&vt?"cancel":e&gt?"end":e&ft?"move":e&mt?"start":""}function J(e){return e==Ve?"down":e==Ue?"up":e==Re?"left":e==ke?"right":""}function Q(e,t){var i=t.manager;return i?i.get(e):e}function ee(){$.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ie(){ee.apply(this,arguments)}function ne(){$.apply(this,arguments),this._timer=null,this._input=null}function re(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function se(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return t=t||{},t.recognizers=d(t.recognizers,ae.defaults.preset),new le(e,t)}function le(e,t){this.options=de({},ae.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=C(this),this.touchAction=new K(this,this.options.touchAction),ue(this,!0),s(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var i=e.element;if(i.style){var n;s(e.options.cssProps,function(r,o){n=E(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={})}}function ce(e,i){var n=t.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var de,pe=["","webkit","Moz","MS","ms","o"],he=t.createElement("div"),me="function",fe=Math.round,ge=Math.abs,_e=Date.now;de="function"!=typeof Object.assign?function(e){if(e===n||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(r!==n&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var ve=a(function(e,t,i){for(var r=Object.keys(t),o=0;o<r.length;)(!i||i&&e[r[o]]===n)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),ye=a(function(e,t){return ve(e,t,!0)},"merge","Use `assign`."),Ee=1,be=/mobile|tablet|ip(ad|hone|od)|android/i,Se="ontouchstart"in e,Oe=E(e,"PointerEvent")!==n,Ce=Se&&be.test(navigator.userAgent),Te="touch",Ie="pen",Ae="mouse",Pe="kinect",De=25,Me=1,Ne=2,Le=4,we=8,je=1,Re=2,ke=4,Ue=8,Ve=16,xe=Re|ke,Be=Ue|Ve,Fe=xe|Be,He=["x","y"],Ge=["clientX","clientY"];O.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(S(this.element),this.evWin,this.domHandler)}};var Ye={mousedown:Me,mousemove:Ne,mouseup:Le},We="mousedown",Ze="mousemove mouseup";l(U,O,{handler:function(e){var t=Ye[e.type];t&Me&&0===e.button&&(this.pressed=!0),t&Ne&&1!==e.which&&(t=Le),this.pressed&&(t&Le&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ae,srcEvent:e}))}});var Ke={pointerdown:Me,pointermove:Ne,pointerup:Le,pointercancel:we,pointerout:we},ze={2:Te,3:Ie,4:Ae,5:Pe},qe="pointerdown",$e="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(qe="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),l(V,O,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),r=Ke[n],o=ze[e.pointerType]||e.pointerType,s=o==Te,a=_(t,e.pointerId,"pointerId");r&Me&&(0===e.button||s)?0>a&&(t.push(e),a=t.length-1):r&(Le|we)&&(i=!0),0>a||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),i&&t.splice(a,1))}});var Xe={touchstart:Me,touchmove:Ne,touchend:Le,touchcancel:we},Je="touchstart",Qe="touchstart touchmove touchend touchcancel";l(x,O,{handler:function(e){var t=Xe[e.type];if(t===Me&&(this.started=!0),this.started){var i=B.call(this,e,t);t&(Le|we)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:Te,srcEvent:e})}}});var et={touchstart:Me,touchmove:Ne,touchend:Le,touchcancel:we},tt="touchstart touchmove touchend touchcancel";l(F,O,{handler:function(e){var t=et[e.type],i=H.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:Te,srcEvent:e})}});var it=2500,nt=25;l(G,O,{handler:function(e,t,i){var n=i.pointerType==Te,r=i.pointerType==Ae;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Y.call(this,t,i);else if(r&&Z.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=E(he.style,"touchAction"),ot=rt!==n,st="compute",at="auto",lt="manipulation",ut="none",ct="pan-x",dt="pan-y",pt=q();K.prototype={set:function(e){e==st&&(e=this.compute()),ot&&this.manager.element.style&&pt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),z(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,r=f(n,ut)&&!pt[ut],o=f(n,dt)&&!pt[dt],s=f(n,ct)&&!pt[ct];if(r){var a=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(a&&l&&u)return}return s&&o?void 0:r||o&&i&xe||s&&i&Be?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ht=1,mt=2,ft=4,gt=8,_t=gt,vt=16,yt=32;$.prototype={defaults:{},set:function(e){return de(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Q(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=Q(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=Q(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=Q(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(t,e)}var i=this,n=this.state;gt>n&&t(i.options.event+X(n)),t(i.options.event),e.additionalEvent&&t(e.additionalEvent),n>=gt&&t(i.options.event+X(n))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|ht)))return!1;e++}return!0},recognize:function(e){var t=de({},e);return c(this.options.enable,[this,t])?(this.state&(_t|vt|yt)&&(this.state=ht),this.state=this.process(t),void(this.state&(mt|ft|gt|vt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},l(ee,$,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(mt|ft),r=this.attrTest(e);return n&&(i&we||!r)?t|vt:n||r?i&Le?t|gt:t&mt?t|ft:mt:yt}}),l(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var e=this.options.direction,t=[];return e&xe&&t.push(dt),e&Be&&t.push(ct),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(t.direction&xe?(r=0===o?je:0>o?Re:ke,i=o!=this.pX,n=Math.abs(e.deltaX)):(r=0===s?je:0>s?Ue:Ve,i=s!=this.pY,n=Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&mt||!(this.state&mt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(ie,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&mt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),l(ne,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[at]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(Le|we)&&!o)this.reset();else if(e.eventType&Me)this.reset(),this._timer=r(function(){this.state=_t,this.tryEmit()},t.time,this);else if(e.eventType&Le)return _t;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===_t&&(e&&e.eventType&Le?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=_e(),this.manager.emit(this.options.event,this._input)))}}),l(re,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&mt)}}),l(oe,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xe|Be,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(xe|Be)?t=e.overallVelocity:i&xe?t=e.overallVelocityX:i&Be&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&Le},emit:function(e){var t=J(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(se,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Me&&0===this.count)return this.failTimeout();if(n&&o&&i){if(e.eventType!=Le)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||w(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=r(function(){this.state=_t,this.tryEmit()},t.interval,this),mt):_t}return yt},failTimeout:function(){return this._timer=r(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.8",ae.defaults={domEvents:!1,touchAction:st,enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ie,{enable:!1},["rotate"]],[oe,{direction:xe}],[te,{direction:xe},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Et=1,bt=2;le.prototype={set:function(e){return de(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?bt:Et},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&_t)&&(r=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],t.stopped===bt||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(e),!r&&i.state&(mt|ft|gt)&&(r=t.curRecognizer=i),o++}},get:function(e){if(e instanceof $)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=_(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==n&&t!==n){var i=this.handlers;return s(g(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==n){var i=this.handlers;return s(g(e),function(e){t?i[e]&&i[e].splice(_(i[e],t),1):delete i[e]}),this}},emit:function(e,t){this.options.domEvents&&ce(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},de(ae,{INPUT_START:Me,INPUT_MOVE:Ne,INPUT_END:Le,INPUT_CANCEL:we,STATE_POSSIBLE:ht,STATE_BEGAN:mt,STATE_CHANGED:ft,STATE_ENDED:gt,STATE_RECOGNIZED:_t,STATE_CANCELLED:vt,STATE_FAILED:yt,DIRECTION_NONE:je,DIRECTION_LEFT:Re,DIRECTION_RIGHT:ke,DIRECTION_UP:Ue,DIRECTION_DOWN:Ve,DIRECTION_HORIZONTAL:xe,DIRECTION_VERTICAL:Be,DIRECTION_ALL:Fe,Manager:le,Input:O,TouchAction:K,TouchInput:F,MouseInput:U,PointerEventInput:V,TouchMouseInput:G,SingleTouchInput:x,Recognizer:$,AttrRecognizer:ee,Tap:se,Pan:te,Swipe:oe,Pinch:ie,Rotate:re,Press:ne,on:p,off:h,each:s,merge:ye,extend:ve,assign:de,inherit:l,bindFn:u,prefixed:E});var St="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};St.Hammer=ae,"function"==typeof define&&define.amd?define("hammerjs",[],function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:e[i]=ae}(window,document,"Hammer"),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/version",["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/widget",["jquery","./version"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=e._data(r,"events"),n&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,o,s,a={},l=t.split(".")[0];t=t.split(".")[1];var u=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(a[t]=n)}),o.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:u}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var i,n=e.data(this,r);return"instance"===o?(l=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},n=t.split("."),t=n.shift(),n.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(n=e(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,o){var s,a;for(a=0;a<i.length;a++)s=r.classesElementLookup[i[a]]||e(),s=e(t.add?e.unique(s.get().concat(t.element.get())):s.not(t.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&t.classes[i[a]]&&n.push(t.classes[i[a]])}var n=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,r){e.inArray(t.target,r)!==-1&&(i.classesElementLookup[n]=e(r.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof e||null===e,o={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,s){function a(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):i.on(u,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var r,o,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&e.effects&&e.effects.effect[a]?n[t](r):a!==t&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/unique-id",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/keycode",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/focusable",["jquery","./version"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(i,n){var r,o,s,a,l,u=i.nodeName.toLowerCase();return"area"===u?(r=i.parentNode,o=r.name,!(!i.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=e("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(a=!i.disabled,a&&(l=e(i).closest("fieldset")[0],l&&(a=!l.disabled))):a="a"===u?i.href||n:n,a&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/tabbable",["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}})}),function(){"use strict";function e(e){var t=A.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}function t(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function i(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function n(e,t,r){r=r?r:new Set;for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var s=o;t(s);var a=s.localName;if("link"===a&&"import"===s.getAttribute("rel")){if(o=s.import,o instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)n(o,t,r);o=i(e,s);continue}if("template"===a){o=i(e,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)n(s,t,r)}o=o.firstChild?o.firstChild:i(e,o)}}function r(e,t,i){e[t]=i}function o(){this.a=new Map,this.s=new Map,this.f=[],this.b=!1}function s(e,t,i){e.a.set(t,i),e.s.set(i.constructor,i)}function a(e,t){e.b=!0,e.f.push(t)}function l(e,t){e.b&&n(t,function(t){return u(e,t)})}function u(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var i=0;i<e.f.length;i++)e.f[i](t)}}function c(e,t){var i=[];for(n(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var r=i[t];1===r.__CE_state?e.connectedCallback(r):h(e,r)}}function d(e,t){var i=[];for(n(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var r=i[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function p(e,t,i){i=i?i:{};var r=i.w||new Set,o=i.i||function(t){return h(e,t)},s=[];if(n(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var i=t.import;i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:t.addEventListener("load",function(){var i=t.import;if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0;var n=new Set(r);n.delete(i),p(e,i,{w:n,i:o})}})}else s.push(t)},r),e.b)for(t=0;t<s.length;t++)u(e,s[t]);for(t=0;t<s.length;t++)o(s[t])}function h(e,i){if(void 0===i.__CE_state){var n=i.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=e.a.get(i.localName))){n.constructionStack.push(i);var r=n.constructor;try{try{if(new r!==i)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw i.__CE_state=2,e}if(i.__CE_state=1,i.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],s=i.getAttribute(o);null!==s&&e.attributeChangedCallback(i,o,null,s,null)}t(i)&&e.connectedCallback(i)}}}function m(e,t){this.c=e,this.a=t,this.b=void 0,p(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),
this.b.observe(this.a,{childList:!0,subtree:!0}))}function f(e){e.b&&e.b.disconnect()}function g(){var e=this;this.b=this.a=void 0,this.f=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function _(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function v(e){this.j=!1,this.c=e,this.o=new Map,this.l=function(e){return e()},this.g=!1,this.m=[],this.u=new m(e,document)}function y(e){if(!1!==e.g){e.g=!1;for(var t=e.m,i=[],n=new Map,r=0;r<t.length;r++)n.set(t[r].localName,[]);for(p(e.c,document,{i:function(t){if(void 0===t.__CE_state){var r=t.localName,o=n.get(r);o?o.push(t):e.c.a.get(r)&&i.push(t)}}}),r=0;r<i.length;r++)h(e.c,i[r]);for(;0<t.length;){for(var o=t.shift(),r=o.localName,o=n.get(o.localName),s=0;s<o.length;s++)h(e.c,o[s]);(r=e.o.get(r))&&_(r)}}}function E(){var e=le;window.HTMLElement=function(){function t(){var t=this.constructor,i=e.s.get(t);if(!i)throw Error("The custom element being constructed was not registered with `customElements`.");var n=i.constructionStack;if(!n.length)return n=P.call(document,i.localName),Object.setPrototypeOf(n,t.prototype),n.__CE_state=1,n.__CE_definition=i,u(e,n),n;var i=n.length-1,r=n[i];if(r===I)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[i]=I,Object.setPrototypeOf(r,t.prototype),u(e,r),r}return t.prototype=ne.prototype,Object.defineProperty(t.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:t}),t}()}function b(e,i,n){function r(i){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];for(var o=[],s=[],a=0;a<r.length;a++){var l=r[a];if(l instanceof Element&&t(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(i.apply(this,r),r=0;r<s.length;r++)d(e,s[r]);if(t(this))for(r=0;r<o.length;r++)s=o[r],s instanceof Element&&c(e,s)}}n.h&&(i.prepend=r(n.h)),n.append&&(i.append=r(n.append))}function S(){var e=le;r(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var i=e.a.get(t);if(i)return new i.constructor}return t=P.call(this,t),u(e,t),t}),r(Document.prototype,"importNode",function(t,i){return t=M.call(this,t,i),this.__CE_hasRegistry?p(e,t):l(e,t),t}),r(Document.prototype,"createElementNS",function(t,i){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=e.a.get(i);if(n)return new n.constructor}return t=D.call(this,t,i),u(e,t),t}),b(e,Document.prototype,{h:N,append:L})}function O(){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var o=this.childNodes,s=o.length;if(0<s&&t(this))for(var r=Array(s),a=0;a<s;a++)r[a]=o[a]}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)d(i,r[e])}}})}var i=le;r(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=U.call(this,e,n),t(this))for(n=0;n<r.length;n++)c(i,r[n]);return e}return r=t(e),n=U.call(this,e,n),r&&d(i,e),t(this)&&c(i,e),n}),r(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=k.call(this,e),t(this))for(var r=0;r<n.length;r++)c(i,n[r]);return e}return n=t(e),r=k.call(this,e),n&&d(i,e),t(this)&&c(i,e),r}),r(Node.prototype,"cloneNode",function(e){return e=R.call(this,e),this.ownerDocument.__CE_hasRegistry?p(i,e):l(i,e),e}),r(Node.prototype,"removeChild",function(e){var n=t(e),r=V.call(this,e);return n&&d(i,e),r}),r(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=x.call(this,e,n),t(this))for(d(i,n),n=0;n<r.length;n++)c(i,r[n]);return e}var r=t(e),o=x.call(this,e,n),s=t(this);return s&&d(i,n),r&&d(i,e),s&&c(i,e),o}),B&&B.get?e(Node.prototype,B):a(i,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)V.call(this,this.firstChild);k.call(this,document.createTextNode(e))}})})}function C(e){function i(i){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];for(var o=[],s=[],a=0;a<r.length;a++){var l=r[a];if(l instanceof Element&&t(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(i.apply(this,r),r=0;r<s.length;r++)d(e,s[r]);if(t(this))for(r=0;r<o.length;r++)s=o[r],s instanceof Element&&c(e,s)}}var n=Element.prototype;Q&&(n.before=i(Q)),Q&&(n.after=i(ee)),te&&r(n,"replaceWith",function(i){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];for(var r=[],o=[],s=0;s<n.length;s++){var a=n[s];if(a instanceof Element&&t(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(s=t(this),te.apply(this,n),n=0;n<o.length;n++)d(e,o[n]);if(s)for(d(e,this),n=0;n<r.length;n++)o=r[n],o instanceof Element&&c(e,o)}),ie&&r(n,"remove",function(){var i=t(this);ie.call(this),i&&d(e,this)})}function T(){function e(e,i){Object.defineProperty(e,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){var r=this,o=void 0;if(t(this)&&(o=[],n(this,function(e){e!==r&&o.push(e)})),i.set.call(this,e),o)for(var a=0;a<o.length;a++){var u=o[a];1===u.__CE_state&&s.disconnectedCallback(u)}return this.ownerDocument.__CE_hasRegistry?p(s,this):l(s,this),e}})}function i(e,i){r(e,"insertAdjacentElement",function(e,n){var r=t(n);return e=i.call(this,e,n),r&&d(s,n),t(e)&&c(s,n),e})}function o(e,t){function i(e,t){for(var i=[];e!==t;e=e.nextSibling)i.push(e);for(t=0;t<i.length;t++)p(s,i[t])}r(e,"insertAdjacentHTML",function(e,n){if(e=e.toLowerCase(),"beforebegin"===e){var r=this.previousSibling;t.call(this,e,n),i(r||this.parentNode.firstChild,this)}else if("afterbegin"===e)r=this.firstChild,t.call(this,e,n),i(this.firstChild,r);else if("beforeend"===e)r=this.lastChild,t.call(this,e,n),i(r||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");r=this.nextSibling,t.call(this,e,n),i(this.nextSibling,r)}})}var s=le;F&&r(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=e=F.call(this,e)}),H&&H.get?e(Element.prototype,H):re&&re.get?e(HTMLElement.prototype,re):a(s,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return R.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,i=t?this.content:this,n=D.call(document,this.namespaceURI,this.localName);for(n.innerHTML=e;0<i.childNodes.length;)V.call(i,i.childNodes[0]);for(e=t?n.content:n;0<e.childNodes.length;)k.call(i,e.childNodes[0])}})}),r(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return Y.call(this,e,t);var i=G.call(this,e);Y.call(this,e,t),t=G.call(this,e),s.attributeChangedCallback(this,e,i,t,null)}),r(Element.prototype,"setAttributeNS",function(e,t,i){if(1!==this.__CE_state)return K.call(this,e,t,i);var n=Z.call(this,e,t);K.call(this,e,t,i),i=Z.call(this,e,t),s.attributeChangedCallback(this,t,n,i,e)}),r(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return W.call(this,e);var t=G.call(this,e);W.call(this,e),null!==t&&s.attributeChangedCallback(this,e,t,null,null)}),r(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return z.call(this,e,t);var i=Z.call(this,e,t);z.call(this,e,t);var n=Z.call(this,e,t);i!==n&&s.attributeChangedCallback(this,t,i,n,e)}),oe?i(HTMLElement.prototype,oe):q?i(Element.prototype,q):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),se?o(HTMLElement.prototype,se):$?o(Element.prototype,$):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),b(s,Element.prototype,{h:X,append:J}),C(s)}var I=new function(){},A=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));o.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},o.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},o.prototype.attributeChangedCallback=function(e,t,i,n,r){var o=e.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(t)&&o.attributeChangedCallback.call(e,t,i,n,r)},m.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||f(this),t=0;t<e.length;t++)for(var i=e[t].addedNodes,n=0;n<i.length;n++)p(this.c,i[n])},v.prototype.define=function(t,i){var n=this;if(!(i instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!e(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.c.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.j)throw Error("A custom element is already being defined.");this.j=!0;var r,o,a,l,u;try{var c=function(e){var t=d[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},d=i.prototype;if(!(d instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");r=c("connectedCallback"),o=c("disconnectedCallback"),a=c("adoptedCallback"),l=c("attributeChangedCallback"),u=i.observedAttributes||[]}catch(e){return}finally{this.j=!1}i={localName:t,constructor:i,connectedCallback:r,disconnectedCallback:o,adoptedCallback:a,attributeChangedCallback:l,observedAttributes:u,constructionStack:[]},s(this.c,t,i),this.m.push(i),this.g||(this.g=!0,this.l(function(){return y(n)}))},v.prototype.i=function(e){p(this.c,e)},v.prototype.get=function(e){if(e=this.c.a.get(e))return e.constructor},v.prototype.whenDefined=function(t){if(!e(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var i=this.o.get(t);return i?i.f:(i=new g,this.o.set(t,i),this.c.a.get(t)&&!this.m.some(function(e){return e.localName===t})&&_(i),i.f)},v.prototype.v=function(e){f(this.u);var t=this.l;this.l=function(i){return e(function(){return t(i)})}},window.CustomElementRegistry=v,v.prototype.define=v.prototype.define,v.prototype.upgrade=v.prototype.i,v.prototype.get=v.prototype.get,v.prototype.whenDefined=v.prototype.whenDefined,v.prototype.polyfillWrapFlushCallback=v.prototype.v;var P=window.Document.prototype.createElement,D=window.Document.prototype.createElementNS,M=window.Document.prototype.importNode,N=window.Document.prototype.prepend,L=window.Document.prototype.append,w=window.DocumentFragment.prototype.prepend,j=window.DocumentFragment.prototype.append,R=window.Node.prototype.cloneNode,k=window.Node.prototype.appendChild,U=window.Node.prototype.insertBefore,V=window.Node.prototype.removeChild,x=window.Node.prototype.replaceChild,B=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),F=window.Element.prototype.attachShadow,H=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),G=window.Element.prototype.getAttribute,Y=window.Element.prototype.setAttribute,W=window.Element.prototype.removeAttribute,Z=window.Element.prototype.getAttributeNS,K=window.Element.prototype.setAttributeNS,z=window.Element.prototype.removeAttributeNS,q=window.Element.prototype.insertAdjacentElement,$=window.Element.prototype.insertAdjacentHTML,X=window.Element.prototype.prepend,J=window.Element.prototype.append,Q=window.Element.prototype.before,ee=window.Element.prototype.after,te=window.Element.prototype.replaceWith,ie=window.Element.prototype.remove,ne=window.HTMLElement,re=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),oe=window.HTMLElement.prototype.insertAdjacentElement,se=window.HTMLElement.prototype.insertAdjacentHTML,ae=window.customElements;if(!ae||ae.forcePolyfill||"function"!=typeof ae.define||"function"!=typeof ae.get){var le=new o;E(),S(),b(le,DocumentFragment.prototype,{h:w,append:j}),O(),T(),document.__CE_hasRegistry=!0;var ue=new v(le);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:ue})}}.call(self),define("customElements",function(){}),define("ojs/ojcustomelement",["ojs/ojcore","require","ojs/ojlogger","ojs/ojcontext","promise","customElements"],function(e,t,i,n){"use strict";e.BaseCustomElementBridge={},e.BaseCustomElementBridge.proto={getClass:function(t){var i=Object.create(HTMLElement.prototype);this.InitializePrototype(i);var n=this.GetMetadata(t);e.BaseCustomElementBridge._enumerateMetadataForKey(i,n,"properties",this.DefinePropertyCallback.bind(this)),e.BaseCustomElementBridge._enumerateMetadataForKey(i,n,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(i),i.setProperties=function(t){e.BaseCustomElementBridge.getInstance(this)._setProperties(this,t)},Object.defineProperty(i,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(i,"unset",{value:function(e){this.setProperty(e,void 0)}}),i.attributeChangedCallback=this._attributeChangedCallback,i.connectedCallback=this._connectedCallback,i.disconnectedCallback=this._detachedCallback;var r=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},o=this;return Object.defineProperty(r,"observedAttributes",{get:function(){return o.GetAttributes(n)}}),Object.defineProperty(i,"constructor",{value:r,writable:!0,configurable:!0}),r.prototype=i,Object.setPrototypeOf(r,HTMLElement),r},playbackEarlyPropertySets:function(e){this._bCanSetProperty=!0,this.PlaybackEarlyPropertySets(e)},resolveBindingProvider:function(e){this._bpResolve?this._bpResolve(e):this._bpInst=e},resolveDelayedReadyPromise:function(){this.GetDelayedReadyPromise().resolvePromise()},whenCreated:function(){return this._whenCreatedPromise},AddComponentMethods:function(e){},CreateComponent:function(e){},DefineMethodCallback:function(e,t,i){},DefinePropertyCallback:function(e,t,i){},GetDelayedReadyPromise:function(){return this._delayedReady||(this._delayedReady=new e.BaseCustomElementBridge.__DelayedPromise),this._delayedReady},GetAttributes:function(t){return e.BaseCustomElementBridge.getAttributes(t.properties)},GetMetadata:function(t){return t[e.BaseCustomElementBridge.DESC_KEY_META]},GetAliasForProperty:function(e){return e},GetDefaultValue:function(t){return e.BaseCustomElementBridge._consolidateDefaults(t)},GetTrackChildrenOption:function(){return this.METADATA.extension&&this.METADATA.extension._TRACK_CHILDREN?this.METADATA.extension._TRACK_CHILDREN:"none"},HandleAttributeChanged:function(e,t,i,n){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];e.setProperty(r,t[r])}},GetEventListenerProperty:function(t){var i=e.__AttributeUtils.eventListenerPropertyToEventType(t),n=this._eventListeners[i];if(n)return n.getListener()},GetProperty:function(t,i,n){var r=e.__AttributeUtils.eventListenerPropertyToEventType(i),o=e.BaseCustomElementBridge.__GetPropertyMetadata(i,e.BaseCustomElementBridge.getProperties(this,t));return r||!o||-1===i.indexOf(".")?n[i]:e.BaseCustomElementBridge.__GetProperty(n,i)},InitializeBridge:function(t){var i=e.BaseCustomElementBridge.__GetDescriptor(t.tagName);this.METADATA=this.GetMetadata(i),this._eventListeners={}},PlaybackEarlyPropertySets:function(e){if(this._earlySets)for(;this._earlySets.length;){var t=this._earlySets.shift();e.setProperty(t.property,t.value)}},SaveEarlyPropertySet:function(e,t){return!this.__INITIALIZING_PROPS&&!this._bCanSetProperty&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:e,value:t}),!0)},SetEventListenerProperty:function(t,i,n){var r=e.__AttributeUtils.eventListenerPropertyToEventType(i),o=this._eventListeners[r];o||(o=this._createEventListenerWrapper(),this._eventListeners[r]=o,t.addEventListener(r,o)),null==n||n instanceof Function?o.setListener(n):e.BaseCustomElementBridge.__ThrowTypeError(t,i,n,"function")},SetProperty:function(t,i,n,r,o){var s=e.__AttributeUtils.eventListenerPropertyToEventType(i),a=e.BaseCustomElementBridge.__GetPropertyMetadata(i,e.BaseCustomElementBridge.getProperties(this,t));if(s||!a)t[i]=n;else{var l=t.getProperty(i),u=i.split(".")[0],c=r[u];if(e.CollectionUtils.isPlainObject(c)&&(c=e.CollectionUtils.copyInto({},c,void 0,!0)),!e.BaseCustomElementBridge.__CompareOptionValues(i,a,n,l)){var d=-1!==i.indexOf(".");if(d&&(this._SKIP_PROP_CHANGE_EVENT=!0),o?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),r,i,n,t):e.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),r,i,n),this._SKIP_PROP_CHANGE_EVENT=!1,d){var p={};p.path=i,p.value=n,p.previousValue=l;var h=o?"external":"internal";e.BaseCustomElementBridge.__FirePropertyChangeEvent(t,u,r[u],c,h,p)}return{property:u,propertySet:!0,isSubproperty:d}}}return{property:null,propertySet:!1,isSubproperty:!1}},ValidateAndSetProperty:function(t,i,n,r,o){var s=this.ValidatePropertySet(o,n,r);e.BaseCustomElementBridge.__SetProperty(t,i,n,s)},ValidatePropertySet:function(t,n,r){var o=e.BaseCustomElementBridge.getProperties(this,t),s=e.BaseCustomElementBridge.__GetPropertyMetadata(n,o),a=n.split(".");return s?(o[a[0]].readOnly&&this.throwError(t,"Read-only property '"+n+"' cannot be set."),e.BaseCustomElementBridge.checkEnumValues(t,n,r,s),null!=r?e.BaseCustomElementBridge.checkType(t,n,r,s):r):void i.warn(e.BaseCustomElementBridge.getElementInfo(t)+": Ignoring property set for undefined property '"+n+"'.")},_attributeChangedCallback:function(t,i,n){var r=e.BaseCustomElementBridge.getInstance(this);if(r._bCreateCalled){var o=e.__AttributeUtils.attributeToPropertyName(t),s=e.BaseCustomElementBridge.__GetPropertyMetadata(o,e.BaseCustomElementBridge.getProperties(r,this));e.BaseCustomElementBridge.__CheckOverlappingAttribute(this,t),null===n&&(n=void 0);var a={detail:{attribute:t,value:n,previousValue:i}};this.dispatchEvent(new CustomEvent("attribute-changed",a)),e.__AttributeUtils.getExpressionInfo(n).expr||(s&&this.setProperty(o,e.BaseCustomElementBridge.__ParseAttrValue(this,t,o,n,s)),r.HandleAttributeChanged(this,t,i,n))}},_connected:function(t){if(this._bConnected=!0,this._bCreateCalled)this._complete?this.HandleReattached(t):this._registerBusyState(t);else{this._bCreateCalled=!0,this._registerBusyState(t),this._monitorReadyPromise(t),this.InitializeElement(t);var i=this,n=this._getBindingProvider(t);"none"!==e.BaseCustomElementBridge.getTrackChildrenOption(t)&&(n=n.then(function(){return i._whenChildrenCreated(t)})),this._whenCreatedPromise=n.then(function(){try{i.CreateComponent(t)}catch(e){i.throwError(t,"Error while rendering component. "+e)}})}},_connectedCallback:function(){e.BaseCustomElementBridge.getInstance(this)._connected(this)},_detachedCallback:function(){var t=e.BaseCustomElementBridge.getInstance(this);t._bConnected=!1,t._complete?t.HandleDetached(this):t._resolveBusyState(this)},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_monitorReadyPromise:function(e){var t=this,i=function(){t._bConnected&&t._resolveBusyState(e),t._complete=!0};this.GetDelayedReadyPromise().getPromise().then(function(){e.classList.add("oj-complete"),i()},function(){e.classList.add("oj-incomplete"),i()})},_registerBusyState:function(t){var i=n.getContext(t).getBusyContext();this._initCompleteCallback=i.addBusyState({description:e.BaseCustomElementBridge.getElementInfo(t)+" is being upgraded."})},_resolveBusyState:function(e){var t=this._initCompleteCallback;t||this.throwError(e,"Unexpected call to _resolveBusyState()."),this._initCompleteCallback=null,t()},_setProperties:function(e,t){for(var i=[],n={},r=!1,o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?i.push(a):(n[a]=t[a],r=!0)}r&&this.BatchedPropertySet(e,n);for(var l=0;l<i.length;l++){var u=i[l];e.setProperty(u,t[u])}},throwError:function(t,i){throw this.GetDelayedReadyPromise().rejectPromise(),new Error(e.BaseCustomElementBridge.getElementInfo(t)+": "+i)},_setBpResolver:function(e){this._bpResolve=e},_getBindingProvider:function(t){var i=this._getBindingProviderName(t);return i===e.BaseCustomElementBridge._NO_BINDING_PROVIDER?(this.playbackEarlyPropertySets(t),Promise.resolve(null)):"knockout"===i?this._bpInst?Promise.resolve(this._bpInst):new Promise(this._setBpResolver.bind(this)):void this.throwError(t,"Unknown binding provider '"+i+"'.")},_getBindingProviderName:function(t){var i=t._ojBndgPrv;if(i)return i;if(!(i=t.getAttribute("data-oj-binding-provider")||e.BaseCustomElementBridge._getCompositeBindingProviderName(t))){var n=t.parentElement;null==n?t===document.documentElement?i="knockout":this.throwError(t,"Cannot determine binding provider for a disconnected subtree."):i=this._getBindingProviderName(n)}return Object.defineProperty(t,"_ojBndgPrv",{value:i}),i},_getChildrenToTrack:function(t,i,n){for(var r=t.childNodes,o=0;o<r.length;o++){var s=r[o];e.ElementUtils.isValidCustomElementName(s.localName)?n.push(s):"nearestCustomElement"===i&&this._getChildrenToTrack(s,i,n)}return n},_whenChildrenCreated:function(t){var r=e.BaseCustomElementBridge.getTrackChildrenOption(t),o=n.getContext(t).getBusyContext(),s=this._getChildrenToTrack(t,r,[]).map(function(t){var n=o.addBusyState({description:"Waiting for element "+t.localName+" to be defined."}),r=setInterval(function(){i.warn("Warning: waiting for element "+t.localName+" to be defined.")},2e4);return customElements.whenDefined(t.localName).then(function(){return n(),clearInterval(r),e.BaseCustomElementBridge.getRegistered(t.tagName)?e.BaseCustomElementBridge.getInstance(t).whenCreated():null}).catch(function(e){throw n(),clearInterval(r),new Error("Error defining element "+t.localName+" : "+e)})});return Promise.all(s)}},e.BaseCustomElementBridge.getAttributes=function(t){var i=[];return e.BaseCustomElementBridge._getAttributesFromProperties("",t,i),i},e.BaseCustomElementBridge.getTrackChildrenOption=function(t){var i=e.BaseCustomElementBridge.getInstance(t);return i?i.GetTrackChildrenOption():"none"},e.BaseCustomElementBridge._getAttributesFromProperties=function(t,i,n){if(i)for(var r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],a=i[s];if(!a.readOnly){var l=t+s;n.push(e.__AttributeUtils.propertyNameToAttribute(l)),a.properties&&e.BaseCustomElementBridge._getAttributesFromProperties(l+".",a.properties,n)}}},e.BaseCustomElementBridge.getElementInfo=function(e){return e?e.tagName.toLowerCase()+" with id '"+e.id+"'":""},e.BaseCustomElementBridge.getInstance=function(t){var n=t[e.BaseCustomElementBridge._INSTANCE_KEY];if(!n){var r=e.BaseCustomElementBridge._registry[t.tagName.toLowerCase()];r||i.error(e.BaseCustomElementBridge.getElementInfo(t)+" Attempt to interact with the custom element before it has been registered."),(n=Object.create(r.bridgeProto)).InitializeBridge(t),Object.defineProperty(t,e.BaseCustomElementBridge._INSTANCE_KEY,{value:n})}return n},e.BaseCustomElementBridge.getProperties=function(e,t){return e.METADATA.properties},e.BaseCustomElementBridge.getRegistered=function(t){if(t){var i=e.BaseCustomElementBridge._registry[t.toLowerCase()];if(i)return{composite:i.composite}}return null},e.BaseCustomElementBridge.getSlotMap=function(t){for(var i={},n=t.childNodes,r=0;r<n.length;r++){var o=n[r];if(e.BaseCustomElementBridge.isSlotable(o)){var s=e.BaseCustomElementBridge.getSlotAssignment(o);i[s]||(i[s]=[]),i[s].push(o)}}return i},e.BaseCustomElementBridge.getSlotAssignment=function(e){var t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||(t=""),t},e.BaseCustomElementBridge.isSlotable=function(e){return 1===e.nodeType||3===e.nodeType&&e.nodeValue.trim()},e.BaseCustomElementBridge._NO_BINDING_PROVIDER="none",e.BaseCustomElementBridge._enumerateMetadataForKey=function(e,t,i,n){if(t&&t[i]){var r=t[i];Object.keys(r).forEach(function(t){n(e,t,r[t])})}},e.BaseCustomElementBridge._getCompositeBindingProviderName=function(t){return e.Composite?e.Composite.getBindingProviderName(t.parentElement):null},e.BaseCustomElementBridge._verifyMetadata=function(t,n){if(n){var r=n.properties;if(r)for(var o=e.BaseCustomElementBridge._GLOBAL_PROPERTIES,s=0;s<o.length;s++)r[o[s]]&&i.error("Error registering composite %s. Redefined global HTML element attribute '%s' in metadata.",t,o[s])}},e.BaseCustomElementBridge.checkEnumValues=function(t,i,n,r){if("string"==typeof n&&r){var o=r.enumValues;o&&-1===o.indexOf(n)&&e.BaseCustomElementBridge.getInstance(t).throwError(t,"Invalid value '"+n+"' found for property '"+i+"'. Expected one of the following '"+o.toString()+"'.")}},e.BaseCustomElementBridge.checkType=function(t,i,n,r){var o=r.type;if(o){var s=(o=o.toLowerCase()).split("|"),a=typeof n;if(1===s.length)("array"===o.substring(0,5)&&!Array.isArray(n)||"object"===o.substring(0,6)&&"object"!==a||"number"===o&&("number"!=typeof n||!isFinite(n))||"string"===o&&"string"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,i,n,o),"boolean"===o&&(n=!!n);else if(2===s.length){var l,u=s.indexOf("string"),c=s.indexOf("promise");-1!==u&&"string"!==a?("function"===(l=0===u?s[1]:s[0])&&"function"!==a||"array"===l.substring(0,5)&&!Array.isArray(n)||"object"===l.substring(0,6)&&"object"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,i,n,o):-1===c||n instanceof Promise||"array"!==(l=0===c?s[1]:s[0]).substring(0,5)||Array.isArray(n)||e.BaseCustomElementBridge.__ThrowTypeError(t,i,n,o)}}return n},e.BaseCustomElementBridge.__CompareOptionValues=function(t,i,n,r){return i.writeback?e.Object.compareValues(n,r):n===r},e.BaseCustomElementBridge.__ThrowTypeError=function(t,i,n,r){e.BaseCustomElementBridge.getInstance(t).throwError(t,"Invalid type '"+typeof n+"' found for property '"+i+"'. Expected value of type '"+r+"'.")},e.BaseCustomElementBridge.__GetDescriptor=function(t){return e.BaseCustomElementBridge._registry[t.toLowerCase()].descriptor},e.BaseCustomElementBridge.__GetCache=function(t){return t?e.BaseCustomElementBridge._registry[t.toLowerCase()].cache:null},e.BaseCustomElementBridge.__CheckOverlappingAttribute=function(t,i){var n=i.split(".");if(n.length>1)for(n.pop();n.length;){var r=n.join(".");t.hasAttribute(r)&&e.BaseCustomElementBridge.getInstance(t).throwError(t,"Cannot set overlapping attributes '"+i+"' and '"+r+"'."),n.pop()}},e.BaseCustomElementBridge.__GetPropertyMetadata=function(e,t){for(var i=t,n=e.split("."),r=0;r<n.length&&(i=i[n[r]])&&(!(n.length>1&&r<n.length-1)||(i=i.properties));r++);return i},e.BaseCustomElementBridge.__InitProperties=function(t,i){var n=e.BaseCustomElementBridge.getInstance(t);n.__INITIALIZING_PROPS=!0;var r=e.BaseCustomElementBridge.getProperties(n,t);if(r)for(var o=t.attributes,s=0;s<o.length;s++){var a=o[s],l=e.__AttributeUtils.attributeToPropertyName(a.nodeName),u=e.BaseCustomElementBridge.__GetPropertyMetadata(l,r);if(u&&!u.readOnly&&(e.BaseCustomElementBridge.__CheckOverlappingAttribute(t,a.nodeName),!e.__AttributeUtils.getExpressionInfo(a.value).expr)){var c=e.BaseCustomElementBridge.__ParseAttrValue(t,a.nodeName,l,a.value,u);n.ValidateAndSetProperty(n.GetAliasForProperty.bind(n),i,l,c,t)}}n.__INITIALIZING_PROPS=!1},e.BaseCustomElementBridge.__SetProperty=function(e,t,i,n){var r,o=t,s=i.split("."),a=e(s[0]);s.length>1&&!t[a]&&(o=r={});for(var l=0;l<s.length;l++){var u=e(s[l]);l===s.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}r&&(t[a]=r[a])},e.BaseCustomElementBridge.__GetProperty=function(e,t){for(var i=e,n=t.split("."),r=0;r<n.length;r++){var o=n[r];if(r===n.length-1)return i[o];if(!i[o])return;i=i[o]}},e.BaseCustomElementBridge.__ParseAttrValue=function(t,i,n,r,o){function s(n){var r;try{r=e.__AttributeUtils.coerceValue(t,i,n,a)}catch(e){l.throwError(t,e)}return r}if(null==r)return r;var a=o.type,l=e.BaseCustomElementBridge.getInstance(t),u=e.BaseCustomElementBridge.__GetDescriptor(t.tagName).parseFunction;return u?u(r,n,o,function(e){return s(e)}):s(r)},e.BaseCustomElementBridge.__ProcessEventListeners=function(t){var i=e.CollectionUtils.copyInto({},t,void 0,!0,1);return i.properties=i.properties||{},e.BaseCustomElementBridge._enumerateMetadataForKey(null,i,"properties",function(t,n){var r=e.__AttributeUtils.propertyNameToChangeEventType(n),o=e.__AttributeUtils.eventTypeToEventListenerProperty(r);i.properties[o]={_derived:!0,_eventListener:!0}}),e.BaseCustomElementBridge._enumerateMetadataForKey(null,i,"events",function(t,n){var r=e.__AttributeUtils.eventTypeToEventListenerProperty(n);i.properties[r]={_derived:!0,_eventListener:!0}}),i},e.BaseCustomElementBridge.__Register=function(t,n,r,o){var s=t.toLowerCase();return!e.BaseCustomElementBridge._registry[s]&&(n||i.error("Cannot register "+t+". Missing a descriptor."),e.BaseCustomElementBridge._verifyMetadata(t,n[e.BaseCustomElementBridge.DESC_KEY_META]),e.BaseCustomElementBridge._registry[s]={descriptor:n,bridgeProto:r,composite:o,cache:{}},!0)},e.BaseCustomElementBridge.__FirePropertyChangeEvent=function(t,i,n,r,o,s){var a=e.BaseCustomElementBridge.getInstance(t);if(!a._SKIP_PROP_CHANGE_EVENT){var l={};s&&(l.subproperty=s),l.value=n,l.previousValue=r,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(t,i,l),("external"!==o||a.__READY_TO_FIRE)&&t.dispatchEvent(new CustomEvent(i+"Changed",{detail:l}))}},e.BaseCustomElementBridge.__DefineDynamicObjectProperty=function(e,t,i,n){Object.defineProperty(e,t,{enumerable:!0,get:i,set:n})};var r=0;e.BaseCustomElementBridge.__GetUnique=function(){var e="_ojcustomelem"+r;return r+=1,e},e.BaseCustomElementBridge._consolidateDefaults=function(t){var i=t.value;if(void 0!==i)return Array.isArray(i)?i.slice():null!==i&&"object"==typeof i?e.CollectionUtils.copyInto({},i,void 0,!0):i;var n=t.properties;if(n){for(var r={},o=Object.keys(n),s=0;s<o.length;s++){var a=e.BaseCustomElementBridge._consolidateDefaults(n[o[s]]);void 0!==a&&(r[o[s]]=a)}return Object.keys(r).length>0?r:void 0}},e.BaseCustomElementBridge._registry={},e.BaseCustomElementBridge.DESC_KEY_CSS="css",e.BaseCustomElementBridge.DESC_KEY_META="metadata",e.BaseCustomElementBridge.DESC_KEY_PARSE_FUN="parseFunction",e.BaseCustomElementBridge.DESC_KEY_VIEW="view",e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL="viewModel",e.BaseCustomElementBridge._GLOBAL_PROPERTIES=["accesskey","autocapitalize","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","spellcheck","style","tabindex","title","translate"],e.BaseCustomElementBridge._INSTANCE_KEY="_ojBridge",e.BaseCustomElementBridge.__DelayedPromise=function(){var e,t,i;this.getPromise=function(){return e||(e=new Promise(function(e,n){t=e,i=n})),e},this.rejectPromise=function(e){i&&i(e)},this.resolvePromise=function(e){t&&t(e)}}}),define("ojs/ojcomponentcore",["ojs/ojcore","ojs/ojtranslation","jquery","ojs/ojmessaging","ojs/ojlogger","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcustomelement"],function(e,t,i,n,r){"use strict";function o(e,t){var n=function(){var e=i(this),n=e.data(_);if(null!=n)for(var r=0;r<n.length;r++){var o=e.data("oj-"+n[r]);null!=o&&t(o)}},r=i(e);r.hasClass(v)&&n.call(e),r.find("."+v).each(n)}function s(e,t,n){function r(e){if(t&&e.classList.contains(v)){var r=i(e),o=r.data(_);if(null!=o)for(var s=0;s<o.length;s++){var a=r.data("oj-"+o[s]);null!=a&&t(a)}}n&&"oj-defer"===e.tagName.toLowerCase()&&e._activate()}if(!function(e){for(var t=e;t;){if(t.nodeType===Node.DOCUMENT_NODE)return!1;if(t.classList.contains(y))return!0;t=t.parentNode}return!0}(e)){r(e);var o=["."+v];n&&o.push("oj-defer");var s=[];o.forEach(function(e){s.push("."+y+" "+e),s.push("."+E+" "+e)});for(var a=o.join(","),l=s.join(","),u=function(e,t){
for(var i=[],n=0,r=0;r<t.length;r++){for(var o=t[r];n<e.length&&e[n]!==o;)i.push(e[n]),n+=1;n+=1}for(;n<e.length;)i.push(e[n]),n+=1;return i}(e.querySelectorAll(a),e.querySelectorAll(l)),c=0;c<u.length;c++)r(u[c])}}function a(e){this.getCallback=function(){return e}}function l(e,t,i){return Object.keys(t).forEach(function(n){var r=e[n]||[],o=t[n];i?r=r.concat(o):r.push(o),e[n]=r}),e}function u(t){return e.BaseCustomElementBridge.getRegistered(t.tagName)}function c(t){return!!e.Components.__GetWidgetConstructor(t)}function d(e){return u(e)||c(e)}function p(e,t,i,n,r,o,s){var a=i,l=!1,u={};delete n[r],Object.defineProperty(n,r,{get:function(){if(l)return a;if(null!=e._settingNestedKey)return a;var i=o(s?s():r);return m([t,i,a],u)},set:function(t){a=t,null!=e._settingNestedKey?u[e._settingNestedKey]=!0:l=!0},enumerable:!0})}function h(e){if(1===e.length){var t=e[0];return t instanceof a?t.getCallback():null}for(var i=!1,n=0;n<e.length&&!i;n++){var r=e[n];null!=r&&r instanceof a&&(i=!0)}return i?function(t){var i=[];return e.forEach(function(e){null!=e&&e instanceof a?i.push(e.getCallback()(t)):i.push(e)}),m(i)}:null}function m(e,t){for(var n,r=0;r<e.length;r++){var o=e[r];void 0!==o&&(n=i.isPlainObject(o)?f({},i.isPlainObject(n)?[n,o]:[o],r===e.length-1?null:t,null):o)}return n}function f(e,t,n,r){for(var o=t.length,s=0;s<o;s++)for(var a=t[s],l=Object.keys(a),u=0;u<l.length;u++){var c,d=l[u];if(c=null==n?null:null==r?d:r+"."+d,null==n||!n[c]){var p=a[d];if(void 0!==p)if(i.isPlainObject(p)){var h=i.isPlainObject(e[d])?[e[d],p]:[p];e[d]=f({},h,n,c)}else e[d]=p}}return e}function g(){return!0}e.Components={},e.Components,e.Components._OJ_CONTAINER_ATTR="data-oj-container";var _="oj-component-names",v="oj-component-initnode",y="oj-subtree-hidden",E="oj-pending-subtree-hidden";e.Components.setDefaultOptions=function(t){var i=e.Components._defaultProperties||{};Object.keys(t).forEach(function(n){var r=t[n];if(!e.CollectionUtils.isPlainObject(r))throw new Error("Invalid default options");i[n]=l(i[n]||{},r,!1)}),e.Components._defaultProperties=i},e.Components.getDefaultOptions=function(){return e.Components._defaultProperties||{}},e.Components.createDynamicPropertyGetter=function(e){return new a(e)},e.Components.getWidgetConstructor=function(t,i){return t&&!e.BaseCustomElementBridge.getRegistered(t.tagName)?e.Components.__GetWidgetConstructor(t,i):null},e.Components.__GetWidgetConstructor=function(e,t){var n=i(e),r=n.data(_);if(r&&(null==t?t=r[0]:r.indexOf(t)<0&&(t=void 0),null!=t)){var o=n[t];if("function"==typeof o)return o.bind(n)}return null},e.Components.subtreeAttached=function(t){e.DomUtils.fixResizeListeners(t),o(t,function(e){e.__handleSubtreeAttached()})},e.Components.subtreeDetached=function(e){o(e,function(e){e.__handleSubtreeDetached()})},e.Components.subtreeShown=function(t,n){var r=(n||{}).initialRender;r||e.DomUtils.fixResizeListeners(t);var o=i(t)[0];o.classList.remove(y),s(o,function(e){r?e._NotifyInitShown():e._NotifyShown()},!0)},e.Components.subtreeHidden=function(e){var t=i(e)[0];s(t,function(e){e._NotifyHidden()},!1),t.classList.add(y)},e.Components.markPendingSubtreeHidden=function(e){e.classList.add(E)},e.Components.unmarkPendingSubtreeHidden=function(e){e.classList.remove(E)},e.Components.isComponentInitialized=function(e,t){var n=e.data(_);return!!(i.isArray(n)&&n.indexOf(t)>-1&&e.is("."+v))},e.Components.__getDefaultOptions=function(t){for(var i={},n=e.Components.getDefaultOptions(),r=t.length-1;r>=0;r--){var o=n[t[r]];void 0!==o&&(i=l(i,o,!0))}return i},e.Components.getComponentElementByNode=function(t){return function t(i,n){if(null==i)return null;var r=1===i.nodeType,o=e.Composite&&!n?e.Composite.getContainingComposite(i):null;if(o)return o;if(r&&i.hasAttribute("data-oj-internal"))return i.parentNode instanceof Element&&i.parentNode.hasAttribute("data-oj-surrogate-id")?(i=document.querySelector("[data-oj-popup-"+i.id+"-parent]"),t(i,n)):t(i.parentNode,n);if(d(i))return i;if(r&&i.classList.contains("oj-component")){if(c(i=i.querySelector(".oj-component-initnode:not([data-oj-internal])")||i))return i}else if(r&&i.hasAttribute("data-oj-containerid"))return i=document.getElementById(i.getAttribute("data-oj-containerid")),t(i,n);return t(i.parentNode,n)}(t,!!(arguments.length>1&&arguments[1]))},e.Components.getSubIdByNode=function(t,i){return e.Components.callComponentMethod(t,"getSubIdByNode",i)},e.Components.getNodeBySubId=function(t,i){return e.Components.callComponentMethod(t,"getNodeBySubId",i)},e.Components.getComponentOption=function(t,i){if(!d(t))throw new Error("node is not a component element");return u(t)?t.getProperty?t.getProperty.call(t,i):void 0:e.Components.__GetWidgetConstructor(t)("option",i)},e.Components.setComponentOption=function(t,i,n){if(!d(t))throw new Error("node is not a component element");u(t)?t.setProperty&&t.setProperty.call(t,i,n):e.Components.__GetWidgetConstructor(t)("option",i,n)},e.Components.callComponentMethod=function(t,n,r){if(!d(t))throw new Error("node is not a component element");return u(t)?t[n]?t[n].apply(t,[].slice.call(arguments,2)):void 0:e.Components.__GetWidgetConstructor(t).apply(i(t),[].slice.call(arguments,1))};var b,S={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=g},stopPropagation:function(){this.isPropagationStopped=g},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g}};i.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(e,t){e&&(this.OuterWrapper=e._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=e||{},this._super(e,t),this._AfterCreateEvent()},_SetRootAttributes:function(){var e=this.options.rootAttributes;if(e){var t=this.widget();if(null==t)return;var n=e.class;n&&t.addClass(n);var r=e.style;if(r){var o=t.attr("style");o?t.attr("style",o+";"+r):t.attr("style",r)}delete(e=i.extend({},e)).class,delete e.style,t.attr(e),delete e.id;var s=Object.keys(e);if(s.length)throw new Error("Unsupported values passed to rootAttributes option: "+s.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(v)},_InitOptions:function(e,t){this._setupDefaultOptions(e,t),this._initContextMenuOption(t)},_ComponentCreate:function(){var e,t,i;e=this.element,t=this.widgetName,(i=e.data(_))||(i=[],e.data(_,i)),i.indexOf(t)<0&&i.push(t),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:i.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(e){},_SaveAllAttributes:function(e){var t=this;this._savedAttributes=[],i.each(e,function(e,n){var r={},o={element:n,attributes:r},s=n.attributes;t._savedAttributes.push(o),i.each(s,function(e,t){var i=t.name;r[i]={attr:t.value}})})},_GetSavedAttributes:function(e){var t=this._savedAttributes;if(void 0===t)return null;for(var i=e[0],n=0,r=t.length;n<r;n++){var o=t[n];if(o.element===i)return o.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){i.each(this._savedAttributes,function(e,t){var n=i(t.element),r=t.attributes;if(1===n.length){var o,s,a=t.element.attributes,l=[];for(o=0,s=a.length;o<s;o++)a[o].name in r||l.push(a[o].name);for(o=0,s=l.length;o<s;o++)n.removeAttr(l[o]);var u=Object.keys(r);for(o=0;o<u.length;o++){var c=u[o];n.attr(c,r[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(t,i,n){return this._IsCustomElement()&&this._getWritebackOption(t)?e.Object.compareValues(i,n):i===n},getTranslatedString:function(e,i){var n={};arguments.length>2?n=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(n=arguments[1])||n instanceof Array||(n=[n]));var r=this.option("translations."+e);return null==r?e:t.applyParameters(r.toString(),n)},getNodeBySubId:function(e){return null!=e&&null!=e.subId||!this.element?null:this.element[0]},getSubIdByNode:function(e){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),e.DomUtils.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass(v),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(e,t){var i=e.data(_);if(i){var n=i.indexOf(t);n>=0&&(i.splice(n,1),0===i.length&&e.removeData(_))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,n){if(0===arguments.length)return i.widget.extend({},this.options);var o,s=arguments[0],a=s,l=null,u={};if("string"==typeof s){a={};var c=s.split(".");if(s=c.shift(),c.length){var d;l=c.join(".");try{arguments.length>1&&(this._settingNestedKey=l),d=i.widget.extend({},this.options[s]),a[s]=d}finally{this._settingNestedKey=null}for(o=0;o<c.length-1;o++)d[c[o]]=d[c[o]]||{},d=d[c[o]];if(s=c.pop(),1===arguments.length)return void 0===d[s]?null:d[s];d[s]=n}else{if(1===arguments.length)return void 0===this.options[s]?null:this.options[s];a[s]=n}u=arguments[2]||u}else u=arguments[1]||u;if(null!=l){var p={path:t,value:n};u=i.widget.extend({},u,{subkey:l,subproperty:p})}var h=u?u._context:null,m=!!h&&h.internalSet,f={},g=Object.keys(a);for(o=0;o<g.length;o++){var _=g[o],v=a[_],y=this.options[_];u&&u.changed||!this._CompareOptionValues(_,y,v)?f[_]=v:this._IsCustomElement()&&r.info(e.BaseCustomElementBridge.getElementInfo(this.element[0])+": Ignoring property set for property '"+_+"' with same value.")}return Object.keys(f).length>0&&(m?this._internalSetOptions(f,u):this._setOptions(f,u)),this},_internalSetOptions:function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++){var r=i[n],o=e[r],s=this.options[r];this.options[r]=o,this._optionChanged(r,o,s,t)}},_setOptions:function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++){var r=i[n],o=e[r];this._setOption(r,o,t)}return this},_setOption:function(e,t,i){var n=this.options[e];if("disabled"===e)this.options[e]=t,this.widget().toggleClass("oj-disabled",!!t).attr("aria-disabled",t),t&&this._removeStateClasses(this.widget());else{try{var r=null==i?null:i.subkey;null!=r&&(this._settingNestedKey=r),this._super(e,t)}finally{this._settingNestedKey=null}"contextMenu"===e&&this._SetupContextMenu()}return this._optionChanged(e,t,n,i),this},_optionChanged:function(e,t,n,r){var o,s=null,a=!1,l=!1,u=null,c="external",d=null;if(r&&(s=r._context)){if(s.skipEvent)return;u=s.originalEvent,a=void 0===s.writeback?null!=u:s.writeback,l=s.readOnly,d=s.optionMetadata,o=s.extraData,s.internalSet&&(c="internal")}(d=d||{}).writeback=a?"shouldWrite":"shouldNotWrite",l&&(d.readOnly=!0);var p={option:e,previousValue:n,value:t,optionMetadata:d,updatedFrom:c},h=null==r?null:r.subkey;if(h){var m=h.split("."),f=n;m.forEach(function(e){f&&(f=f[e])});var g=r.subproperty;g.previousValue=f,p.subproperty=g}null!=o&&(p=i.extend({},o,p)),this._trigger("optionChange",u,p)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(e,t,i){return this._trigger2(e,t,i).proceed},_trigger2:function(e,t,n){var r=n||{};if(this._IsCustomElement())return this._triggerCustomEvent(e,t,r);var o=this.options[e],s=i.Event(t,S);return s.type=(this.widgetEventPrefix+e).toLowerCase(),s.target=this.element[0],this.element.trigger(s,r),{proceed:!(i.isFunction(o)&&!1===o.apply(this.element[0],[s].concat(r))||s.isDefaultPrevented()),event:s}},_triggerCustomEvent:function(t,n,r){var o,s,a,l={},u=this._getRootElement();if("optionChange"===t){var c=e.CustomElementBridge.getPropertyForAlias(u,r.option);if(!e.CustomElementBridge.isKnownProperty(u,c))return{proceed:!0,event:null};o=e.__AttributeUtils.propertyNameToChangeEventType(c);for(var d=Object.keys(r),p=0;p<d.length;p++){var h=d[p];if("option"!==h)if("optionMetadata"===h)for(var m=Object.keys(r[h]),f=0;f<m.length;f++){var g=m[f];"writeback"!==g&&"component"!==g&&(l[g]=r[h][g])}else l[h]=r[h]}}else{if(o=e.__AttributeUtils.eventTriggerToEventType(t),!e.CustomElementBridge.isKnownEvent(u,o))return{proceed:!0,event:null};s=!0,a=!0,l=this._resolveJQueryObjects(r)}n&&(l.originalEvent=n instanceof i.Event?n.originalEvent:n);var _={detail:l};s&&(_.bubbles=!0),a&&(_.cancelable=!0);var v=new CustomEvent(o,_);return u.dispatchEvent(v),{proceed:!v.defaultPrevented,event:v}},_resolveJQueryObjects:function(t){for(var n=e.CollectionUtils.copyInto({},t),r=Object.keys(n),o=0;o<r.length;o++){var s=r[o],a=n[s];a&&a instanceof i&&(0===a.length?n[s]=null:1===a.length?n[s]=a[0]:n=a.toArray())}return n},_initContextMenuOption:function(e){var t=this.element.attr("contextmenu");this._initialCmDomAttr=t,!t||"contextMenu"in e||this.option("contextMenu",document.getElementById(t),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(t,n,r){if(!this._IsEffectivelyDisabled()){var o;if("OJ-MENU"===t.tagName)o=t;else{var s=e.Components.__GetWidgetConstructor(t,"ojMenu");if(!(o=s&&s("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(o,n,r),i(t).is(":visible")&&n.preventDefault()}},_SetupContextMenu:function(){var t=this._GetContextMenu();if(t||(t=this._GetDefaultContextMenu()),t&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=t;var i=this;e.GestureUtils.startDetectContextMenuGesture(this.widget()[0],function(e,n){i._handleContextMenuGesture(t,e,n)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,e.GestureUtils.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var t=e.BaseCustomElementBridge.getSlotMap(this._getRootElement()).contextMenu;if(t&&t.length>0)return t[0]}else if(this.options.contextMenu)return i(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(e,t,i){this._OpenContextMenu(t,i)},_OpenContextMenu:function(t,n,r,o,s){var a=this._GetContextMenu();if(a||(a=this._contextMenuGestureInit&&i(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),a){var l={mouse:{my:"start top",at:"start bottom",of:t,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:t,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},u={launcher:this.element,position:l[n]},c={initialFocus:"menu"},d=s?i.extend(u,r,c):i.extend(!0,u,r,c);if(a.__openingContextMenu=!0,"OJ-MENU"===a.tagName)a.open(t,d,o);else{var p=e.Components.__GetWidgetConstructor(a,"ojMenu");(p&&p("instance")).open(t,d,o);var h=function(e){e.preventDefault()};a.addEventListener("contextmenu",h),window.setTimeout(function(){a.removeEventListener("contextmenu",h)},50)}a.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(e){e.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),e.find(".oj-hover").removeClass("oj-hover"),e.find(".oj-focus").removeClass("oj-focus"),e.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),e.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!e.DomUtils.recentTouchEnd()},_AddHoverable:function(e){var t;i.isPlainObject(e)?t=e.element:(t=e,e={});var n=e.afterToggle||i.noop;t.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,n)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",n))},_RemoveHoverable:function(e){e&&e.off(this.hoverableEventNamespace)},_AddActiveable:function(t){var n;i.isPlainObject(t)?n=t.element:(n=t,t={});var r=t.afterToggle||i.noop;e.DomUtils.isTouchSupported()&&n.on("touchstart"+this.activeableEventNamespace,this._activeStartHandler.bind(this,r)).on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",r)),n.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,r)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",r)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,r)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",r))},_RemoveActiveable:function(e){e&&(e.off(this.activeableEventNamespace),b=null)},_activeStartHandler:function(e,t){var n=i(t.currentTarget);("mouseenter"!==t.type||this._isTargetInActiveElement(t.currentTarget))&&(n.hasClass("oj-disabled")||"touchstart"!==t.type&&!this._isRealMouseEvent(t)||(n.addClass("oj-active"),e(t.type),"mousedown"===t.type&&(b=t.currentTarget,this.document.one("mouseup",function(){b=null}))))},_hoverStartHandler:function(e,t){var n=i(t.currentTarget);!n.hasClass("oj-disabled")&&this._isRealMouseEvent(t)&&(n.addClass("oj-hover"),e(t.type))},_hoverAndActiveEndHandler:function(e,t,n){("oj-active"!==e||"mouseleave"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(i(n.currentTarget).removeClass(e),t(n.type))},_isTargetInActiveElement:function(e){return b===e||null!=b&&i.contains(b,e)},_hoverable:function(){},_focusable:function(t){i.isPlainObject(t)||(t={element:t}),t.component=this,e.DomUtils.makeFocusable(t)},_UnregisterChildNode:function(e){if(e){i(e).off(this.eventNamespace);var t=this.bindings;t&&(this.bindings=i(t.not(e)))}},_GetReadingDirection:function(){return e.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(e){this._ancestorDisabled=e},_getTranslationSectionLoader:function(){var e=[],n=this,r=0;this._traverseWidgetHierarchy(function(o){var s=0===r?n._GetTranslationsSectionName():o.widgetFullName;r+=1;var a=t.getComponentTranslations(s);null==a||i.isEmptyObject(a)||e.push(s)});var o=e.length;return o>0?function(){if(1===o)return t.getComponentTranslations(e[0]);for(var n={},r=o-1;r>=0;r--)i.widget.extend(n,t.getComponentTranslations(e[r]));return n}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var t={};this._propertyContext=t;var i=this.element[0];t.containers=function(t){for(var i=t,n=[];i;){var r=i.getAttribute,o=r?r.call(i,e.Components._OJ_CONTAINER_ATTR):null;null!=o&&n.push(o),i=i.parentNode}return n}(i),t.element=i,t.isCustomElement=this._IsCustomElement()}return this._propertyContext},_setupDefaultOptions:function(e,t){var n=this.options,r=this._getTranslationSectionLoader(),o=t.translations;null==r||void 0!==o&&!i.isPlainObject(o)||p(this,void 0,t.translations,n,"translations",r),this._loadGlobalDefaultOptions(e,t)},_loadGlobalDefaultOptions:function(t,n){var r=this.options,o=[];this._traverseWidgetHierarchy(function(e){o.push(e.widgetName)}),o.push("default");var s=e.Components.__getDefaultOptions(o);if(!i.isEmptyObject(s))for(var a=this,l=function(){return a._getDynamicPropertyContext()},u=Object.keys(s),c=0;c<u.length;c++){var d=u[c],f=n[d];if(void 0===f||i.isPlainObject(f)){var g=s[d];if(g){var _=h(g);if(_)p(this,t[d],f,r,d,_,l);else{var v=[t[d]].concat(g);v.push(f),r[d]=m(v)}}}}},_traverseWidgetHierarchy:function(e){for(var t=this.constructor.prototype;null!=t&&"oj"===t.namespace;)e(t),t=Object.getPrototypeOf(t)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return null!=e.BaseCustomElementBridge.getRegistered(this._getRootElement().tagName)},_FixRendererContext:function(t){if(this._IsCustomElement()){var i=e.CollectionUtils.copyInto({},t);return delete i.component,i.componentElement=this._getRootElement(),i}return t},_WrapCustomElementRenderer:function(e){return this._IsCustomElement()&&"function"==typeof e?function(t){var i=e(t);return i&&i.insert?i.insert:null}:e},__saveWritebackOptions:function(e){this._writebackOptions=e},_getWritebackOption:function(e){return!(!this._writebackOptions||!this._writebackOptions[e])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(e){if(!this._VerifyConnectedForSetup())return!1;if(void 0===this.connectedState){var t=this;Promise.resolve().then(function(){t.connectedState===e&&(0===e?t._SetupResources():t._ReleaseResources()),t.connectedState=void 0})}return this.connectedState=e,!0},__handleWatchedAttribute:function(e,t,i){this._WatchedAttributeChanged(e,t,i)},_WatchedAttributeChanged:function(e,t,i){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete i.fn.baseComponent,e.__registerWidget=function(e,t,n,r){if(i.widget(e,t,n),r){var o=e.split(".")[1];delete i.fn[o]}if("oj.oj"===e.substring(0,5)||"oj._oj"===e.substring(0,6)){var s,a=e.split("."),l=a[0],u=a[1],c=l+"-"+u;s="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),i.expr.pseudos[s.toLowerCase()]=function(e){return!!i.data(e,c)}}},e.ComponentMessaging=function(e){this.Init(e)},e.Object.createSubclass(e.ComponentMessaging,e.Object,"oj.ComponentMessaging"),e.ComponentMessaging._DISPLAY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline"},e.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK={},e.ComponentMessaging.registerMessagingStrategy=function(t,i){t&&"function"==typeof i&&(e.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t]=i)},e.ComponentMessaging.prototype.Init=function(t){e.ComponentMessaging.superclass.Init.call(this),this._component=t,this._activated=!1,this._initializeMessagingStrategies()},e.ComponentMessaging.prototype.activate=function(t,n,r){var o=this;e.Assert.assertObject(r),this._launcher=t,this._contentElement=n,this._messagingContent=e.CollectionUtils.copyInto(this._messagingContent||{},r),this._isActive()?this._reactivate():(i.each(this._strategies,function(e,t){t.activate(o)}),this._activated=!0)},e.ComponentMessaging.prototype.update=function(t){e.Assert.assertObject(t),e.Assert.assertBoolean(this._activated),this._messagingContent=e.CollectionUtils.copyInto(this._messagingContent||{},t),this._activated&&i.each(this._strategies,function(e,i){i.shouldUpdate(t)&&i.update()})},e.ComponentMessaging.prototype.deactivate=function(){i.each(this._strategies,function(e,t){t.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},e.ComponentMessaging.prototype.close=function(){this._activated&&i.each(this._strategies,function(e,t){t.close()})},e.ComponentMessaging.prototype._createMessagingStrategy=function(t,i){return new(e.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t]||e.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e.ComponentMessaging._DISPLAY_TYPE.NONE])(i)},e.ComponentMessaging.prototype._getComponent=function(){return this._component||null},e.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},e.ComponentMessaging.prototype._getContentElement=function(){return this._contentElement||null},e.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},e.ComponentMessaging.prototype._isActive=function(){return this._activated},e.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(){for(var t={},n=!1,r=this._component.options.placeholder,o=this._component.options.displayOptions||{},s={},a=Object.keys(o),l=0;l<a.length;l++){var u=a[l],c=o[u];n=!1;var d=u+"";if(Array.isArray(c))for(var p=0;p<c.length;p++){var h=c[p];n||(n=this._resolveDisplayTypeForArtifact(d,h,r,s))}else"string"==typeof c&&(n||(n=this._resolveDisplayTypeForArtifact(d,c,r,s)));n||(s[d]=e.ComponentMessaging._DISPLAY_TYPE.NONE)}return i.each(e.ComponentMessaging._DISPLAY_TYPE,function(e,i){t[i]=[]}),i.each(s,function(e,i){t[i].push(e)}),t},e.ComponentMessaging.prototype._resolveDisplayTypeForArtifact=function(t,i,n,r){var o=!1;switch(i){case e.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER:"converterHint"===t&&(o||n||(r[t]=i,o=!0));break;case e.ComponentMessaging._DISPLAY_TYPE.INLINE:"messages"===t&&(o||(r[t]=i,o=!0));break;default:o||(r[t]=i,o=!0)}return o},e.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var t=this._getResolvedMessagingDisplayOptions(),i=t[e.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW],n=t[e.ComponentMessaging._DISPLAY_TYPE.NONE],r=t[e.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER],o=t[e.ComponentMessaging._DISPLAY_TYPE.INLINE],s={};i.length>0&&(s[e.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,i)),r.length>0&&(s[e.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,r)),o.length>0&&(s[e.ComponentMessaging._DISPLAY_TYPE.INLINE]=this._createMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.INLINE,o)),s[e.ComponentMessaging._DISPLAY_TYPE.NONE]=this._createMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.NONE,n),this._strategies=s},e.ComponentMessaging.prototype._reactivate=function(){var t,n=this._getResolvedMessagingDisplayOptions(),r=this;i.each(n,function(i,n){i+="",t=r._strategies[i],n&&n.length>0?t?t&&t.reactivate(n):(t=r._createMessagingStrategy(i,n),r._strategies[i]=t,t.activate(r)):t&&e.ComponentMessaging._DISPLAY_TYPE.NONE!==i&&(t.deactivate(),delete r._strategies[i])})},e.MessagingStrategy=function(e){this.Init(e)},e.Object.createSubclass(e.MessagingStrategy,e.Object,"oj.MessagingStrategy"),e.MessagingStrategy.prototype.Init=function(t){e.Assert.assertArray(t),e.MessagingStrategy.superclass.Init.call(this),this._displayOptions=t},e.MessagingStrategy.prototype.activate=function(e){this._componentMessaging=e},e.MessagingStrategy.prototype.deactivate=function(){},e.MessagingStrategy.prototype.close=function(){},e.MessagingStrategy.prototype.reactivate=function(e){this.Init(e)},e.MessagingStrategy.prototype.shouldUpdate=function(e){return!0},e.MessagingStrategy.prototype.update=function(){},e.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},e.MessagingStrategy.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},e.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},e.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},e.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},e.MessagingStrategy.prototype.GetConverterHint=function(){var e=[],t=this._getMessagingContent(),i=t&&t.converterHint;return i&&e.push(i),e},e.MessagingStrategy.prototype.GetValidatorHints=function(){var e=[],t=this._getMessagingContent(),n=t&&t.validatorHint||[];return i.each(n,function(t,i){e.push(i)}),e},e.MessagingStrategy.prototype.GetTitle=function(){var e=this._getMessagingContent();return e&&e.title||""},e.MessagingStrategy.prototype.GetValidityState=function(){var e=this._getMessagingContent();return e&&e.validityState||null},e.MessagingStrategy.prototype.HasMessages=function(){var e=this.GetMessages();return!!(e&&e.length>0)},e.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},e.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},e.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},e.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},e.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},e.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},e.DefaultMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.NONE,e.DefaultMessagingStrategy),e.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",e.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",e.Object.createSubclass(e.DefaultMessagingStrategy,e.MessagingStrategy,"oj.DefaultMessagingStrategy"),e.DefaultMessagingStrategy.prototype.update=function(){e.DefaultMessagingStrategy.superclass.update.call(this);var t=this.GetLauncher(),i=this.GetMaxSeverity(),r=[],o=[],s=!1,a=this.GetComponent().widget();t&&(this.IsInvalid()?(r.push(e.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),o.push(e.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),s=!0):this.HasMessages()&&i===n.SEVERITY_LEVEL.WARNING?(r.push(e.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o.push(e.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(r.push(e.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),r.push(e.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),a.removeClass(r.join(" ")).addClass(o.join(" ")),this.GetContentElement().attr({"aria-invalid":s}))},e.DefaultMessagingStrategy.prototype.deactivate=function(){this.GetComponent().widget().removeClass(e.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(e.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),e.DefaultMessagingStrategy.superclass.deactivate.call(this)},e.PlaceholderMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,e.PlaceholderMessagingStrategy),e.Object.createSubclass(e.PlaceholderMessagingStrategy,e.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),e.PlaceholderMessagingStrategy.prototype.Init=function(t){e.PlaceholderMessagingStrategy.superclass.Init.call(this,t)},e.PlaceholderMessagingStrategy.prototype.activate=function(t){e.PlaceholderMessagingStrategy.superclass.activate.call(this,t),this._refreshPlaceholder()},e.PlaceholderMessagingStrategy.prototype.reactivate=function(t){e.PlaceholderMessagingStrategy.superclass.reactivate.call(this,t),this._refreshPlaceholder()},e.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(e){return!(!e||void 0===e.converterHint)},e.PlaceholderMessagingStrategy.prototype.update=function(){e.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},e.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var e=this.GetLauncher();if(this.ShowPlaceholderContent()&&e){var t=this.GetConverterHint(),i=t.length?t[0]:"",n={internalMessagingSet:!0};this.GetComponent().option({placeholder:i},{_context:n})}},e.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint();
},e.ComponentValidity=function(e,t){this.Init(e,t)},e.ComponentValidity.isInvalid=function(e){return n.getMaxSeverity(e)>=n.SEVERITY_LEVEL.ERROR},e.Object.createSubclass(e.ComponentValidity,e.Object,"oj.ComponentValidity"),e.ComponentValidity.prototype.Init=function(t,i){e.ComponentValidity.superclass.Init.call(this),this._initialize(t,i)},e.ComponentValidity.prototype.isInvalid=function(){return this._invalid},e.ComponentValidity.prototype.getMessages=function(){return this._messages},e.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},e.ComponentValidity.prototype.update=function(e,t){this._initialize(e,t)},e.ComponentValidity.prototype._initialize=function(t,i){this._compValid=t,this._compMessages=i,this._messages=this._getImmediateMessages(),this._maxSeverity=n.getMaxSeverity(this._messages),this._invalid=e.ComponentValidity.isInvalid(this._messages)},e.ComponentValidity.prototype._getImmediateMessages=function(){for(var t=this._compMessages||[],i=[],n=0;n<t.length;n++){var r=t[n];r instanceof e.ComponentMessage&&!r.canDisplay()||i.push(r)}return i},e.CustomElementBridge={},e.CustomElementBridge.proto=Object.create(e.BaseCustomElementBridge.proto),e.CollectionUtils.copyInto(e.CustomElementBridge.proto,{AddComponentMethods:function(t){t.setProperty=function(t,i){var n=e.BaseCustomElementBridge.getInstance(this);n.SaveEarlyPropertySet(t,i)||n._setEventProperty(this,t,i)||n._validateAndSetCopyProperty(this,t,i,null)||(e.BaseCustomElementBridge.__GetPropertyMetadata(t,e.BaseCustomElementBridge.getProperties(n,this))?e.CustomElementBridge._getPropertyAccessor(this,t)(i):this[t]=i)},t.getProperty=function(t){var i=e.BaseCustomElementBridge.getInstance(this),n=e.BaseCustomElementBridge.__GetPropertyMetadata(t,e.BaseCustomElementBridge.getProperties(i,this));if(e.__AttributeUtils.eventListenerPropertyToEventType(t)||!n)return this[t];var r=n?n.extension:null;return r&&r._COPY_TO_INNER_ELEM?i._getCopyProperty(this,t,n):e.CustomElementBridge._getPropertyAccessor(this,t)()},t.focus=function(){var t=e.BaseCustomElementBridge.getInstance(this);if(t._WIDGET_INSTANCE){var i=t._WIDGET_INSTANCE.__getFocusElement();i&&(i!==this?i.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},t.blur=function(){var t=e.BaseCustomElementBridge.getInstance(this);if(t._WIDGET_INSTANCE){var i=t._WIDGET_INSTANCE.__getFocusElement();i&&(i!==this?i.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.focus.call(this)}},BatchedPropertySet:function(t,i){var n,r=Object.keys(i),o={};for(n=0;n<r.length;n++){var s=r[n],a=i[s];this._setEventProperty(t,s,a)||this._validateAndSetCopyProperty(t,s,a,null)||(a=this.ValidatePropertySet(t,s,a),o[s=this.GetAliasForProperty(s)]=a)}var l=e.Components.__GetWidgetConstructor(this._WIDGET_ELEM);if(l)l("option",o);else for(n=0;n<r.length;n++){var u=r[n];t.setProperty(u,i[u])}},CreateComponent:function(t){var n=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=e.CustomElementBridge._getWidgetElement(t,n?n(t):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==t){for(var r=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],o=0;o<r.length;o++){var s=r[o];t.hasAttribute(s)&&(this._WIDGET_ELEM.setAttribute(s,t.getAttribute(s)),this._removingTransfer=!0,t.removeAttribute(s))}this._copyProperties()}e.Components.unmarkPendingSubtreeHidden(t);var a=i(this._WIDGET_ELEM),l=i(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(a);l(this._PROPS),this._WIDGET=l,this._WIDGET_INSTANCE=l("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),t.hasAttribute("disabled")&&!this._disabledProcessed&&e.CustomElementBridge._removeDisabledAttribute(t);var u=function(e){return function(){var i=document.createEvent("UIEvent");i.initEvent(e,!1,!1),t.dispatchEvent(i)}},c=this._WIDGET_INSTANCE.__getFocusElement();c&&c!==t&&(c.addEventListener("focus",u("focus")),c.addEventListener("blur",u("blur"))),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(t,i,n){t[i]=function(){var t=e.BaseCustomElementBridge.getInstance(this),r=n.internalName||i;return t._WIDGET.apply(null,[r].concat([].slice.call(arguments)))}},DefinePropertyCallback:function(t,i,n){var r=n.extension;Object.defineProperty(t,i,{enumerable:!0,get:function(){var t=e.BaseCustomElementBridge.getInstance(this);return n._eventListener?t.GetEventListenerProperty(i):r&&r._COPY_TO_INNER_ELEM?t._getCopyProperty(this,i,n):e.CustomElementBridge._getPropertyAccessor(this,i)()},set:function(t){var r=e.BaseCustomElementBridge.getInstance(this);if(!r.SaveEarlyPropertySet(i,t))if(n._eventListener)r.SetEventListenerProperty(this,i,t);else if(!r._validateAndSetCopyProperty(this,i,t,n)){var o={};if(void 0===t&&(o={_context:{skipEvent:!0}},t=r.GetDefaultValue(n),r.__READY_TO_FIRE)){var s=this[i];e.BaseCustomElementBridge.__FirePropertyChangeEvent(this,i,void 0,s,"external")}e.CustomElementBridge._getPropertyAccessor(this,i,o)(t)}}})},GetAttributes:function(t){var i=e.BaseCustomElementBridge.getAttributes(t.properties);return t.extension._GLOBAL_TRANSFER_ATTRS&&(i=i.concat(t.extension._GLOBAL_TRANSFER_ATTRS)),t.extension._WATCHED_ATTRS&&(i=i.concat(t.extension._WATCHED_ATTRS)),i},GetAliasForProperty:function(e){var t=this._EXTENSION._ALIASED_PROPS;return t&&t[e]?t[e]:e},InitializeElement:function(t){e.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&e.Components.markPendingSubtreeHidden(t),e.BaseCustomElementBridge.__InitProperties(t,this._PROPS)},HandleAttributeChanged:function(e,t,i,n){var r=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,o=r&&-1!==r.indexOf(t),s=this._EXTENSION._WATCHED_ATTRS,a=s&&-1!==s.indexOf(t);o&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(t,n),this._removingTransfer=!0,e.removeAttribute(t)):a&&i!==n&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(t,i,n)},HandleDetached:function(t){e.BaseCustomElementBridge.proto.HandleDetached.call(this,t),e.Components.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(t){e.BaseCustomElementBridge.proto.HandleReattached.call(this,t),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},InitializeBridge:function(t){e.BaseCustomElementBridge.proto.InitializeBridge.call(this,t);var i=e.BaseCustomElementBridge.__GetDescriptor(t.tagName);this._INNER_DOM_FUNCTION=i.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:t}:{},this._setupPropertyAccumulator(t,this._PROPS),this._processProperties(t)},_attributeChangedCallback:function(t,i,n){var o=e.BaseCustomElementBridge.getInstance(this);"disabled"===t&&o._disabledProcessed?null!=n&&(r.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),e.CustomElementBridge._removeDisabledAttribute(this)):e.BaseCustomElementBridge.proto._attributeChangedCallback.call(this,t,i,n)},_copyProperties:function(){if(this._COPY_ATTRS)for(var t=0;t<this._COPY_ATTRS.length;t++){var i=this._COPY_ATTRS[t],n=e.__AttributeUtils.attributeToPropertyName(i);if(Object.prototype.hasOwnProperty.call(this._PROPS,n)){var r=this._PROPS[n];this._setCopyProperty(i,r),delete this._PROPS[n]}}},_getCopyProperty:function(t,i,n){var r=e.__AttributeUtils.propertyNameToAttribute(i);if(n.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(r)){var o,s=this._WIDGET_ELEM.getAttribute(r);try{o=e.__AttributeUtils.coerceValue(t,r,s,n.type)}catch(e){this.throwError(t,e)}return o}return null}return this._WIDGET_ELEM[i]},_processProperties:function(t){var i=e.BaseCustomElementBridge.getProperties(this,t);if(i)for(var n=Object.keys(i),r=0;r<n.length;r++){var o=n[r],s=i[o];s.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[o]=!0);var a=s.extension;a&&a._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(o))}},_setCopyProperty:function(e,t){null==t||!1===t?this._WIDGET_ELEM.removeAttribute(e):!0===t?this._WIDGET_ELEM.setAttribute(e,""):this._WIDGET_ELEM.setAttribute(e,t)},_setupPropertyAccumulator:function(t,i){this._WIDGET=function(n,r,o){if("option"===n)return e.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),i,r,o),i[r];throw this.throwError(t,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(t,i,n,r){var o=e.__AttributeUtils.propertyNameToAttribute(i),s=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(o);if(s)if(n=this.ValidatePropertySet(t,i,n),this._WIDGET_ELEM){r||(r=e.BaseCustomElementBridge.__GetPropertyMetadata(i,e.BaseCustomElementBridge.getProperties(this,t)));var a=this._getCopyProperty(t,i,r);this._setCopyProperty(o,n),e.BaseCustomElementBridge.__FirePropertyChangeEvent(t,i,this._getCopyProperty(t,i,r),a,"external")}else this._PROPS[o]=n;return s},_setEventProperty:function(t,i,n){var r=!1;return e.__AttributeUtils.eventListenerPropertyToEventType(i)&&(t[i]=n,r=!0),r}}),e.CustomElementBridge.getMetadata=function(t){return e.CustomElementBridge._METADATA_MAP[t.toLowerCase()]},e.CustomElementBridge.isKnownEvent=function(t,i){var n=e.BaseCustomElementBridge.getInstance(t);return null!=(n.METADATA.events&&n.METADATA.events[i])},e.CustomElementBridge.isKnownProperty=function(t,i){var n=e.BaseCustomElementBridge.getInstance(t);return null!=(n.METADATA.properties&&n.METADATA.properties[i])},e.CustomElementBridge.getPropertyForAlias=function(t,i){var n=e.BaseCustomElementBridge.getInstance(t)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return n&&n[i]?n[i]:i},e.CustomElementBridge.register=function(t,i){var n=i[e.BaseCustomElementBridge.DESC_KEY_META];n=e.BaseCustomElementBridge.__ProcessEventListeners(n),i[e.BaseCustomElementBridge.DESC_KEY_META]=n,e.CustomElementBridge._METADATA_MAP[t.toLowerCase()]=n;var r=n.extension,o=r&&r._WIDGET_NAME?e.CustomElementBridge.proto:e.DefinitionalElementBridge.proto,s=r._ALIASED_PROPS;s&&(r._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(s).forEach(function(e){r._COMPONENT_TO_ELEMENT_ALIASES[s[e]]=e})),e.BaseCustomElementBridge.__Register(t,i,o)&&customElements.define(t.toLowerCase(),o.getClass(i))},e.CustomElementBridge._getPropertyAccessor=function(t,i,n){return function(r){var o=e.BaseCustomElementBridge.getInstance(t);return 1===arguments.length?(r=o.ValidatePropertySet(t,i,r),i=o.GetAliasForProperty(i),void o._WIDGET("option",i,r,n)):(i=o.GetAliasForProperty(i),o._WIDGET("option",i))}.bind(t)},e.CustomElementBridge._getWidgetElement=function(t,i){var n=t;if(i){var r=t.firstElementChild;if(r&&r.tagName.toLowerCase()===i)n=r;else{n=document.createElement(i);for(var o=[],s=t.childNodes,a=0;a<s.length;a++)o.push(s[a]);for(t.appendChild(n);o.length;){var l=o.shift();e.BaseCustomElementBridge.getSlotAssignment(l)||n.appendChild(l)}}n.setAttribute("data-oj-internal","")}return n},e.CustomElementBridge._removeDisabledAttribute=function(t){e.BaseCustomElementBridge.getInstance(t)._disabledProcessed=!0,t.removeAttribute("disabled")},e.CustomElementBridge._METADATA_MAP={};var O,C,T,I,A,P,D,M=function(){function e(){}return e.isDataProvider=function(e){return!!e.fetchFirst},e.isTreeDataProvider=function(e){return!!e.getChildDataProvider},e}();return e.DataProviderFeatureChecker=M,e.DefinitionalElementBridge={},e.DefinitionalElementBridge.proto=Object.create(e.BaseCustomElementBridge.proto),e.CollectionUtils.copyInto(e.DefinitionalElementBridge.proto,{beforePropertyChangedEvent:function(e,t,i){var n=t,r=i.value;i.subproperty&&(n=i.subproperty.path,r=i.subproperty.value),this._partialRender(e,n,r)},AddComponentMethods:function(t){t.refresh=function(){e.BaseCustomElementBridge.getInstance(this)._fullRender(this)},t.setProperty=function(t,i){var n=e.BaseCustomElementBridge.getInstance(this);n.SaveEarlyPropertySet(t,i)||n.SetProperty(this,t,i,this,!0)},t.getProperty=function(t){return e.BaseCustomElementBridge.getInstance(this).GetProperty(this,t,this)},t._propsProto.setProperty=function(e,t){this._BRIDGE.SetProperty(this._ELEMENT,e,t,this,!1)},t._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this,e,this)}},CreateComponent:function(t){e.Components.unmarkPendingSubtreeHidden(t),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR&&(this._CONTEXT={element:t,props:this._PROPS_PROXY,unique:e.BaseCustomElementBridge.__GetUnique()},this._CONTEXT.uniqueId=t.id?t.id:this._CONTEXT.unique,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(t,i,n){t[i]=function(){var t=e.BaseCustomElementBridge.getInstance(this);if(t._INSTANCE){var r=n.internalName||i;return t._INSTANCE[r].apply(t._INSTANCE,arguments)}}},DefinePropertyCallback:function(t,i,n){function o(t,o){if(!this._BRIDGE.SaveEarlyPropertySet(i,t)){var s=this._BRIDGE._PROPS[i];e.BaseCustomElementBridge.__CompareOptionValues(i,n,t,s)?r.info(e.BaseCustomElementBridge.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+i+"' with same value."):(o&&(t=this._BRIDGE.ValidatePropertySet(this._ELEMENT,i,t)),n._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,i,t),this._BRIDGE._PROPS[i]=t):(this._BRIDGE._PROPS[i]=t,e.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,i,t,s,o?"external":"internal")))}}function s(){var e=this._BRIDGE._PROPS[i];return void 0===e&&(e=this._BRIDGE.GetDefaultValue(n),this._BRIDGE._PROPS[i]=e),e}n._derived||e.BaseCustomElementBridge.__DefineDynamicObjectProperty(t._propsProto,i,function(){return s.bind(this)()},function(e){o.bind(this)(e,!1)}),e.BaseCustomElementBridge.__DefineDynamicObjectProperty(t,i,function(){var t=e.BaseCustomElementBridge.getInstance(this);return s.bind(t._PROPS_PROXY)()},function(t){var i=e.BaseCustomElementBridge.getInstance(this);o.bind(i._PROPS_PROXY)(t,!0)})},InitializeElement:function(t){e.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&e.Components.markPendingSubtreeHidden(t),e.BaseCustomElementBridge.__InitProperties(t,t)},InitializePrototype:function(t){e.BaseCustomElementBridge.proto.InitializePrototype.call(this,t),Object.defineProperty(t,"_propsProto",{value:{}})},InitializeBridge:function(t){e.BaseCustomElementBridge.proto.InitializeBridge.call(this,t),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},t._propsProto&&(this._PROPS_PROXY=Object.create(t._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=t)},_fullRender:function(e){this._INSTANCE&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()},_partialRender:function(e,t,i){if(this._INSTANCE){var n=this._INSTANCE.handlePropertyChanged;(!n||!n(t,i))&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}}}),e.DomUtils={},e.DomUtils._HTML_START_TAG="<html>",e.DomUtils._HTML_END_TAG="</html>",e.DomUtils._LEGAL_ELEMENTS={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},e.DomUtils._LEGAL_ATTRIBUTES={class:1,style:1},e.DomUtils.isHTMLContent=function(t){return 0===t.indexOf(e.DomUtils._HTML_START_TAG)&&t.lastIndexOf(e.DomUtils._HTML_END_TAG)===t.length-7},e.DomUtils.cleanHtml=function(t){var n=i(document.createElement("span")).get(0);return n.innerHTML=t,t&&t.indexOf("<")>=0&&e.DomUtils._cleanElementHtml(n),n},e.DomUtils._cleanElementHtml=function(t){for(var n=t.childNodes,r=n.length-1;r>=0;r--){var o=n.item(r);if(o&&1===o.nodeType)if(e.DomUtils._LEGAL_ELEMENTS[o.nodeName]){for(var s=o.attributes,a=s.length-1;a>=0;a--){var l=s[a];void 0!==i(o).attr(l.name)&&(e.DomUtils._LEGAL_ATTRIBUTES[l.name]||o.removeAttribute(l.nodeName))}e.DomUtils._cleanElementHtml(o)}else o&&t.removeChild(o)}},e.DomUtils.isAncestor=function(e,t){for(var i=t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1},e.DomUtils.isAncestorOrSelf=function(t,i){return i===t||e.DomUtils.isAncestor(t,i)},e.DomUtils.addResizeListener=function(t,n,r){var o=i(t),s=o.data(e.DomUtils._RESIZE_TRACKER_KEY);null==s&&(s=new e.DomUtils._ResizeTracker(t),o.data(e.DomUtils._RESIZE_TRACKER_KEY,s),s.start()),s.addListener(n,r)},e.DomUtils.removeResizeListener=function(t,n){var r=i(t),o=r.data(e.DomUtils._RESIZE_TRACKER_KEY);null!=o&&(o.removeListener(n),o.isEmpty()&&(o.stop(),r.removeData(e.DomUtils._RESIZE_TRACKER_KEY)))},e.DomUtils.fixResizeListeners=function(t){i(t).find(".oj-helper-detect-expansion").parent().each(function(t,n){var r=i(n).data(e.DomUtils._RESIZE_TRACKER_KEY);null!=r&&r.init(!0)})},e.DomUtils.isMetaKeyPressed=function(t){var i=e.AgentUtils.getAgentInfo();return e.AgentUtils.OS.MAC===i.os?t.metaKey:t.ctrlKey},e.DomUtils.dispatchEvent=function(e,t){var i="disabled",n=e[i];try{e[i]=!1,e.dispatchEvent(t)}finally{e[i]=n}},e.DomUtils._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,0)}).bind(window),e.DomUtils._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){return window.clearTimeout(e)}).bind(window),e.DomUtils._ResizeTracker=function(t){function n(e){var t=!1;if(null!=m.offsetParent){var i=m.offsetWidth,n=m.offsetHeight;p===i&&h===n||(c=u,o(i,n),t=!0,e&&r(!0))}return t}function r(i){var n=t.offsetWidth,r=t.offsetHeight;s.has()&&(i?(null!==d&&e.DomUtils._cancelInvokeAfterPaint(d),d=e.DomUtils._invokeAfterPaint(function(){d=null,s.fire(n,r)})):s.fire(n,r));for(var o=0;o<a.length;o++)a[o].getCallback()(n,r)}function o(e,t){p=e,h=t;var i=m.firstChild.style,n=1;do i.width=e+n+"px",i.height=t+n+"px",m.scrollLeft=n,m.scrollTop=n,n+=1;while((0===m.scrollTop||0===m.scrollLeft)&&n<=5);f.scrollLeft=e,f.scrollTop=t}var s=i.Callbacks(),a=[],l=[],u=2,c=0,d=null,p=null,h=null,m=null,f=null,g=null,_=null;this.addListener=function(t,i){void 0===i||0===i?s.add(t):(a.push(new e.DomUtils._collapsingListenerManager(t,i)),l.push(t))},this.removeListener=function(e){var t=l.indexOf(e);t>=0?(l.splice(t,1),a.splice(t,1)[0].stop()):s.remove(e)},this.isEmpty=function(){return!s.has()&&0===l.length},this.start=function(){if(_=function(e){e.stopPropagation(),n(!0)||c>0&&null!=m.offsetParent&&(0===m.scrollLeft||0===m.scrollTop)&&(c-=1,o(p,h))}.bind(this),t.attachEvent)g=function(){r(!1)}.bind(this),t.attachEvent("onresize",g);else{var e=t.childNodes[0];(m=document.createElement("div")).className="oj-helper-detect-expansion";var i=document.createElement("div");m.appendChild(i),null!=e?t.insertBefore(m,e):t.appendChild(m),m.addEventListener("scroll",_,!1),(f=document.createElement("div")).className="oj-helper-detect-contraction";var s=document.createElement("div");s.style.width="200%",s.style.height="200%",f.appendChild(s),t.insertBefore(f,m),f.addEventListener("scroll",_,!1),this.init(!1)}},this.stop=function(){null!=d&&(e.DomUtils._cancelInvokeAfterPaint(d),d=null),null!=m?(m.removeEventListener("scroll",_),f.removeEventListener("scroll",_),m.parentNode&&t.removeChild(m),f.parentNode&&t.removeChild(f)):t.detachEvent("onresize",g)},this.init=function(e){var t=n(e);e&&!t&&null!=m.offsetParent&&o(p,h)}},e.DomUtils._RESIZE_TRACKER_KEY="_ojResizeTracker",e.DomUtils.isValidIdentifier=function(e){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(e)},e.DomUtils._collapsingListenerManager=function(e,t){var i=null,n=null,r=function(){e.apply(null,i),n=null},o=function(){i=Array.prototype.slice.call(arguments),null==n&&(n=window.setTimeout(r,t))};this.getCallback=function(){return o},this.stop=function(){null!=n&&(window.clearTimeout(n),n=null)}},e.DomUtils.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},e.DomUtils.setInKoCleanExternal=function(t){e.DomUtils._koCleanNode=t},e.DomUtils.unwrap=function(t,i){var n=e.DomUtils._koCleanNode;n&&t.get(0)===n||(i?i.replaceWith(t):t.unwrap())},e.DomUtils.isChromeEvent=function(t){function n(t){var n=t.target,r=i(n),o=n.getBoundingClientRect(),s=e.DomUtils.getScrollBarWidth(),a="ltr"===e.DomUtils.getReadingDirection();return!(!a||"HTML"!==n.nodeName&&"visible"===r.css("overflow-x")||!(t.clientX>o.right-s))||!a&&"HTML"===n.nodeName&&t.clientX>o.left-s||!a&&"visible"!==r.css("overflow-x")&&t.clientX<o.left+s||("HTML"===n.nodeName||"visible"!==r.css("overflow-y"))&&t.clientY>o.bottom-s}if(!("clientX"in t&&"clientY"in t))return!1;var r=e.AgentUtils.getAgentInfo();return e.AgentUtils.OS.ANDROID!==r.os&&e.AgentUtils.OS.IOS!==r.os&&(e.AgentUtils.ENGINE.GECKO===r.engine?function(e){try{return!e.originalTarget.localName}catch(e){return!0}}(t):e.AgentUtils.ENGINE.WEBKIT===r.engine||e.AgentUtils.ENGINE.BLINK===r.engine?n(t):e.AgentUtils.BROWSER.IE===r.browser&&n(t))},e.DomUtils.getScrollBarWidth=function(){var t=e.DomUtils._scrollBarWidth;if(i.isNumeric(t))return t;var n=i("<div></div>");i(document.body).append(n),n.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var r=i("<div></div>");r.height(1),n.append(r);var o=r.width(),s=n.width();return n.remove(),t=s-o,e.DomUtils._scrollBarWidth=t,t},e.DomUtils.getReadingDirection=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},e.DomUtils.getScrollLeft=function(t){if("rtl"===e.DomUtils.getReadingDirection()){var i=e.AgentUtils.getAgentInfo().browser;return i===e.AgentUtils.BROWSER.FIREFOX||i===e.AgentUtils.BROWSER.IE||i===e.AgentUtils.BROWSER.EDGE?Math.abs(t.scrollLeft):Math.max(0,t.scrollWidth-t.clientWidth-t.scrollLeft)}return t.scrollLeft},e.DomUtils.setScrollLeft=function(t,i){if("rtl"===e.DomUtils.getReadingDirection()){var n=e.AgentUtils.getAgentInfo().browser;n===e.AgentUtils.BROWSER.FIREFOX?t.scrollLeft=-i:n===e.AgentUtils.BROWSER.IE||n===e.AgentUtils.BROWSER.EDGE?t.scrollLeft=i:t.scrollLeft=Math.max(0,t.scrollWidth-t.clientWidth-i)}else t.scrollLeft=i},e.DomUtils.getCSSLengthAsInt=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0&&"auto"!==e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},e.DomUtils.getCSSLengthAsFloat=function(e){if(!isNaN(e))return parseFloat(e);if(e&&e.length>0){var t=parseFloat(e);return isNaN(t)&&(t=0),t}return 0},e.DomUtils._LOGICAL_PARENT_DATA="oj-logical-parent",e.DomUtils.getLogicalParent=function(t){if(t)return t.data(e.DomUtils._LOGICAL_PARENT_DATA)},e.DomUtils.setLogicalParent=function(t,i){t&&(null===i?t.removeData(e.DomUtils._LOGICAL_PARENT_DATA):t.data(e.DomUtils._LOGICAL_PARENT_DATA,i))},e.DomUtils.isLogicalAncestorOrSelf=function(t,n){e.Assert.assertDomElement(t),e.Assert.assertDomElement(n);for(var r=n;r;){if(r===t)return!0;var o=e.DomUtils.getLogicalParent(i(r));r=o?o[0]:r.parentNode}return!1},e.DomUtils.validateURL=function(e,t){var i=t||["http:","https:"],n=document.createElement("a");n.href=e;var r=n.protocol;if(null!=r&&(r=r.toLowerCase()),i.indexOf(r)<0&&""!==r)throw new Error(r+" is not a valid URL protocol")},e.DomUtils._supressNativeContextMenu=function(){i(document.body).hasClass("oj-hybrid")&&document.body.addEventListener("contextmenu",function(e){e.preventDefault()},!0)},e.DomUtils._supressNativeContextMenu(),e.DomUtils.PRESS_HOLD_THRESHOLD=750,e.DomUtils.recentTouchEnd=function(){function e(){t=Date.now()}var t=0;return document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0),function(){return Date.now()-t<500}}(),e.DomUtils.recentTouchStart=function(){var t=0,i=e.DomUtils.PRESS_HOLD_THRESHOLD+50;return document.addEventListener("touchstart",function(){t=Date.now()},!0),function(){return Date.now()-t<i}}(),e.DomUtils.recentPointer=(C=0,T=e.DomUtils.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var t=Date.now();(!O||t>C+e.DomUtils.PRESS_HOLD_THRESHOLD)&&(C=t,O=!1)},!0),document.addEventListener("touchstart",function(){C=Date.now(),O=!0},!0),document.addEventListener("mouseup",function(){C=Date.now(),O=!1},!0),document.addEventListener("touchend",function(){C=Date.now(),O=!1},!0),function(){return Date.now()-C<(O?T:600)}),e.DomUtils.makeFocusable=(I=0,A=(e.ThemeUtils.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,P=function(t,i){switch(t?t():A){case"all":return!0;case"none":return!1;default:return!(e.DomUtils.recentPointer()||i&&i())}},function(e){var t=e.element,n="ojFocusable";if(e.remove){t.removeClass("oj-focus oj-focus-highlight");var r=t.data(n);if(null==r)return;var o=".ojFocusable"+(""+r).split(",").join(" .ojFocusable");t.off(o).removeData(n)}else{var s=e.afterToggle||i.noop,a=e.applyHighlight?function(t){t.addClass("oj-focus"),P(e.getFocusHighlightPolicy,e.recentPointer)&&t.addClass("oj-focus-highlight"),s("focusin")}:function(e){e.addClass("oj-focus"),s("focusin")};(e.setupHandlers||function(r,o){var s=e.component,a=function(e){r(i(e.currentTarget))},l=function(e){o(i(e.currentTarget))};if(s)s._on(t,{focusin:a,focusout:l});else{var u=I;I+=1;var c=t.data(n);t.data(n,null==c?u:c+","+u);var d={},p=".ojFocusable"+u;d["focusin"+p]=a,d["focusout"+p]=l,t.on(d)}})(a,function(e){e.removeClass("oj-focus oj-focus-highlight"),s("focusout")})}}),e.FocusUtils={},e.FocusUtils._TABBABLE=":tabbable,iframe",e.FocusUtils.containsFocus=function(t){var i=document.activeElement;return!(!t||!i)&&e.DomUtils.isAncestorOrSelf(t,i)},e.FocusUtils.focusElement=function(e){e.focus()},e.FocusUtils.focusFirstTabStop=function(t){var i=e.FocusUtils.getFirstTabStop(t);return i&&e.FocusUtils.focusElement(i),i},e.FocusUtils.isFirstActiveElement=function(t){var n=i(t).find(e.FocusUtils._TABBABLE);if(null==n||0===n.length)return!1;var r=n[0];return document.activeElement===r||r.name===document.activeElement.name&&"radio"===r.type&&"radio"===document.activeElement.type},e.FocusUtils.isLastActiveElement=function(t){var n=i(t).find(e.FocusUtils._TABBABLE);if(null==n||0===n.length)return!1;var r=n[n.length-1];return document.activeElement===r||r.name===document.activeElement.name&&"radio"===r.type&&"radio"===document.activeElement.type},e.FocusUtils.getFirstTabStop=function(t){var n=i(t);if(n.is(e.FocusUtils._TABBABLE))return t;var r=n.find(e.FocusUtils._TABBABLE);if(r&&r.length>0){if(r[0].classList.contains("oj-radio")){var o=r.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:r[0]}return r[0]}return null},e.FocusUtils.getLastTabStop=function(t){var n=i(t).find(e.FocusUtils._TABBABLE);if(n&&n.length>0){if(n[n.length-1].classList.contains("oj-radio")){var r=n.filter(".oj-selected.oj-radio");return r&&r.length?r[r.length-1]:n[n.length-1]}return n[n.length-1]}return null},e.FocusUtils.isFocusable=function(t){return!(!i(t).is(":focusable")||"A"===t.nodeName&&!t.hasAttribute("tabindex")&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.SAFARI)},e.GestureUtils={},e.GestureUtils._EVENT_NAMESPACE=".contextMenu",e.GestureUtils.stopDetectContextMenuGesture=function(t){t._clickListener&&(i(t).off(e.GestureUtils._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",t._clickListener,!0),clearTimeout(t._contextMenuPressHoldTimer),delete t._clickListener,delete t._contextMenuPressHoldTimer)},e.GestureUtils.startDetectContextMenuGesture=function(t,n){function r(e,r,o){return(c=o)&&i(t).one("touchend"+m,function(){f=!0,setTimeout(function(){f=!1},50)}),"touchstart"===h&&"contextmenu"===e.type||"contextmenu"===h&&"touchstart"===e.type||"keydown"===h&&"contextmenu"===e.type?("keydown"===h&&"contextmenu"===e.type&&e.preventDefault(),h=null,void clearTimeout(l)):void(e.isDefaultPrevented()||e.originalEvent&&e.originalEvent.defaultPrevented||(n(e,r),e.isDefaultPrevented()&&("touchstart"!==e.type&&"contextmenu"!==e.type&&"keydown"!==e.type||(h=e.type,l=setTimeout(function(){h=null},p)))))}var o,s,a,l,u=e.DomUtils.PRESS_HOLD_THRESHOLD,c=!1,d=!1,p=300,h=null,m=e.GestureUtils._EVENT_NAMESPACE,f=!1,g=function(e){c&&(e.preventDefault(),e.stopPropagation(),c=!1)};t._clickListener=g,t.addEventListener("click",g,!0),i(t).on("touchstart"+m+" mousedown"+m,function(e){if("mousedown"!==e.type||!f){if(c=!1,"touchstart"===e.type&&1===e.originalEvent.touches.length){var i=e.originalEvent.touches[0];s=i.pageX,a=i.pageY,d=!0,o=setTimeout(r.bind(void 0,e,"touch",!0),u),t._contextMenuPressHoldTimer=o}return!0}}).on("touchmove"+m,function(e){var t=e.originalEvent.touches[0];return(Math.abs(s-t.pageX)>5||Math.abs(a-t.pageY)>5)&&(d=!1,clearTimeout(o)),!0}).on("touchend"+m+" touchcancel"+m,function(){return d=!1,clearTimeout(o),!0}).on("keydown"+m+" contextmenu"+m,function(e){return("contextmenu"===e.type||121===e.which&&e.shiftKey)&&r(e,d?"touch":"keydown"===e.type?"keyboard":"mouse",!1),!0}),e.DomUtils.isTouchSupported()&&i(t).addClass("oj-menu-context-menu-launcher")},i(document).ready(function(){!function(){var e=document.createElement("div");e.style.border="1px solid",e.style.borderColor="red green",e.style.position="absolute",e.style.top="-999px",e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var t=document.body;t.appendChild(e);var i=window.getComputedStyle(e),n=i.backgroundImage;i.borderTopColor!==i.borderRightColor&&(null==n||"none"!==n&&"url (invalid-url:)"!==n)||t.classList.add("oj-hicontrast"),t.removeChild(e)}()}),e.Test={},e.Test.ready=!1,e.Test.domNodeForLocator=function(t){var n=t;if(e.StringUtils.isString(t)){var r=t;try{n=JSON.parse(r)}catch(e){return null}}if(n&&n.element){var o=i(n.element);if(o&&o.length>0){delete n.element;var s=n;return e.Components.getNodeBySubId(o[0],s)}}return null},e.Test.getOpenPopupCount=function(){return e.ZOrderUtils.getOpenPopupCount()},e.Test.findOpenPopups=function(){return e.ZOrderUtils.findOpenPopups()},e.Test.compareStackingContexts=function(t,i){return e.ZOrderUtils.compareStackingContexts(t,i)},i.cleanData=(D=i.cleanData,function(t){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(null==r)break;var o=!1,s=e.Components.__GetWidgetConstructor(r);if(s&&!(o=s("instance")._IsCustomElement())){var a=e.Components.getComponentElementByNode(r);o=a&&e.BaseCustomElementBridge.getRegistered(a.tagName)}o||i.push(r)}i.length>0&&D(i)}),e.Components}),define("ojs/ojanimation",["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojlogger","promise","ojs/ojcomponentcore"],function(e,t,i,n){"use strict";return e.AnimationUtils={},e.AnimationUtils,e.AnimationUtils._getName=function(t,i){if(!e.AnimationUtils._nameMap){e.AnimationUtils._nameMap={};var n=e.AnimationUtils._nameMap,r=t.style;n.backfaceVisibility=void 0!==r.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",n.transform=void 0!==r.webkitTransform?"webkitTransform":"transform",n.transformOrigin=void 0!==r.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",n.transition=void 0!==r.webkitTransition?"webkitTransition":"transition",n.transitionend=void 0!==r.webkitTransition?"webkitTransitionEnd":"transitionend"}return e.AnimationUtils._nameMap[i]||i},e.AnimationUtils._getElementStyle=function(t,i){return t.style[e.AnimationUtils._getName(t,i)]},e.AnimationUtils._setElementStyle=function(t,i,n){t.style[e.AnimationUtils._getName(t,i)]=n},e.AnimationUtils._animate=function(i,n,r,o,s,a){var l=[].concat(s),u=function(t,u){function c(){m||(h&&(window.cancelAnimationFrame(h),h=0),i.removeEventListener(e.AnimationUtils._getName(i,"transitionend"),p),t&&t(!0),m=!0)}function d(){h=0,e.AnimationUtils._applyState(i,r,f>1)}var p=function(t){var i=0===t.propertyName.indexOf("-webkit-")?t.propertyName.substr(8):t.propertyName;i=e.AnimationUtils._getCamelCasePropName(i);var n=l.indexOf(i);n>-1&&(l.length>1?l.splice(n,1):c())},h=0,m=!1;null==r&&(r={}),null==r.css&&(r.css={}),r.css.transition=e.AnimationUtils._createTransitionValue(i,s,o);var f=e.AnimationUtils._saveStyle(i,n,r,o,a||s);e.AnimationUtils._applyState(i,n,f>1),i.addEventListener(e.AnimationUtils._getName(i,"transitionend"),p);
var g=o.duration,_=o.delay,v=o._skipPromise;null==n?d():(o._noReflow||(e.AnimationUtils._x=i.offsetWidth),h=window.requestAnimationFrame(d));var y=e.AnimationUtils._getTotalTiming(g,_);v||setTimeout(c,y+100)};return o._skipPromise?(u(null),null):new Promise(u).then(function(){n&&n.addClass&&t(i).removeClass(n.addClass),r&&r.addClass&&t(i).removeClass(r.addClass),e.AnimationUtils._restoreStyle(i)})},e.AnimationUtils._saveCssValues=function(t,i,n,r){for(var o=Object.keys(i),s=Object.prototype.hasOwnProperty,a=0;a<o.length;a++){var l=o[a];s.call(n,l)||r&&-1!==r.indexOf(l)||(n[l]=e.AnimationUtils._getElementStyle(t,l))}},e.AnimationUtils._saveStyle=function(t,i,n,r,o){var s=t._ojSavedStyle||{},a=i&&i.css?i.css:{},l=n&&n.css?n.css:{},u=o;r&&"all"===r.persist||(u=null),e.AnimationUtils._saveCssValues(t,a,s,u),e.AnimationUtils._saveCssValues(t,l,s,u),t._ojSavedStyle=s;var c=t._ojEffectCount||0;return c+=1,t._ojEffectCount=c,c},e.AnimationUtils._restoreStyle=function(t){var i=t,n=i._ojEffectCount;if(n>1)i._ojEffectCount=n-1;else{var r=i._ojSavedStyle;if(r){for(var o=Object.keys(r),s=0;s<o.length;s++){var a=o[s];e.AnimationUtils._setElementStyle(i,a,r[a])}delete i._ojSavedStyle,delete i._ojEffectCount}}},e.AnimationUtils._getCamelCasePropName=function(e){if(e.indexOf("-")>=0){for(var t="",i=e.split("-"),n=0;n<i.length;n++){var r=i[n];r&&(t?t+=r.charAt(0).toUpperCase()+r.slice(1):t=r)}return t}return e},e.AnimationUtils._getHyphenatedPropName=function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===t.indexOf("webkit")&&(t="-"+t),t},e.AnimationUtils._concatMultiValue=function(t,i,n,r,o){if(i.css[n]){var s=e.AnimationUtils._getElementStyle(t,n);s&&0!==s.indexOf(r)&&(i.css[n]=s+o+i.css[n])}},e.AnimationUtils._splitTransform=function(e){var t=[];if(e&&"none"!==e)for(var i=e,n=i.indexOf(")");n>0;){var r=i.substr(0,n+1);t.push(r.trim()),n=(i=i.slice(n+1)).indexOf(")")}return t},e.AnimationUtils._getTransformFuncName=function(e){var t=e.indexOf("(");return t>=1?e.substr(0,t):e},e.AnimationUtils._applyTransform=function(t,i){for(var n=e.AnimationUtils._getElementStyle(t,"transform"),r=e.AnimationUtils._splitTransform(n),o=e.AnimationUtils._splitTransform(i),s=[],a=0;a<o.length;a++){var l=e.AnimationUtils._getTransformFuncName(o[a]),u=!1;if(l)for(var c=0;c<r.length;c++)0===r[c].indexOf(l+"(")&&(r[c]=o[a],u=!0);u||s.push(o[a])}return(r=r.concat(s)).join(" ")},e.AnimationUtils._applyState=function(i,n,r){if(n){if(n.css){r&&e.AnimationUtils._concatMultiValue(i,n,"transition","all",", "),n.css.transform&&(n.css.transform=e.AnimationUtils._applyTransform(i,n.css.transform));for(var o=n.css,s=Object.keys(o),a=0;a<s.length;a++){var l=s[a];e.AnimationUtils._setElementStyle(i,l,o[l])}}n.addClass&&t(i).addClass(n.addClass),n.removeClass&&t(i).removeClass(n.removeClass)}},e.AnimationUtils._getTimingValue=function(e){var t=parseFloat(e);return isNaN(t)?0:e.indexOf("ms")>-1?t:1e3*t},e.AnimationUtils._getTotalTiming=function(t,i){var n=e.AnimationUtils._getTimingValue(t);return n>0?n+(i?e.AnimationUtils._getTimingValue(i):0):0},e.AnimationUtils._calcCssTime=function(t,i,n){for(var r=t.split(","),o=i.split(","),s=n.split(","),a=r.length,l=o.length,u=s.length,c=0,d=0;d<a;d++){var p=s[d%u],h=o[d%l],m=e.AnimationUtils._getTotalTiming(p,h);c=Math.max(c,m)}return c},e.AnimationUtils._calcEffectTime=function(t){var i,n,r,o=window.getComputedStyle(t);i=o.animationName||o.webkitAnimationName,n=o.animationDelay||o.webkitAnimationDelay,r=o.animationDuration||o.webkitAnimationDuration;var s=e.AnimationUtils._calcCssTime(i,n,r);i=o.transitionProperty||o.webkitTransitionProperty,n=o.transitionDelay||o.webkitTransitionDelay,r=o.transitionDuration||o.webkitTransitionDuration;var a=e.AnimationUtils._calcCssTime(i,n,r);return Math.max(s,a)},e.AnimationUtils._fillEmptyOptions=function(e,t){e.delay=e.delay||t.delay,e.duration=e.duration||t.duration,e.timingFunction=e.timingFunction||t.timingFunction,e.persist=e.persist||t.persist},e.AnimationUtils._triggerEvent=function(e,t,i,n){var r;if(n&&n._trigger)r=!n._trigger(t,null,i);else{var o="oj"+t.substr(0,1).toUpperCase()+t.substr(1),s=new CustomEvent(o,{detail:i,bubbles:!0,cancelable:!0}),a=n||e;a.dispatchEvent&&a.dispatchEvent(s),r=s.defaultPrevented}return r},e.AnimationUtils.startAnimation=function(i,n,r,o){return i=t(i)[0],new Promise(function(s,a){var l=t(i),u="oj-animate-"+n,c=u+"-active",d=!1,p=!1,h=function(){if(d&&p){l.removeClass(u),l.removeClass(c),e.AnimationUtils._restoreStyle(i),s(!0);var t={action:n,element:i};e.AnimationUtils._triggerEvent(i,"animateEnd",t,o)}},m=function(){d=!0,h()},f=function(){p=!0,h()};e.AnimationUtils._saveStyle(i,null,null,null,null);var g={action:n,element:i,endCallback:m};if(!e.AnimationUtils._triggerEvent(i,"animateStart",g,o)){for(var _=[].concat(r),v=[],y={},E=0;E<_.length;E++){var b,S=_[E],O="";null!=S&&"none"!==S&&("string"==typeof S?(O=S,b={}):"object"==typeof S&&(O=S.effect,b=t.extend({},S)),e.AnimationUtils._fillEmptyOptions(b,y),y=t.extend({},b)),O&&e.AnimationUtils[O]&&v.push(e.AnimationUtils[O](i,b))}v.length?Promise.all(v).then(m):m()}l.addClass(u);var C=window.requestAnimationFrame(function(){C=0,l.addClass(c);var t=e.AnimationUtils._calcEffectTime(i);t>0?setTimeout(f,t+100):f()});setTimeout(function(){C&&(window.cancelAnimationFrame(C),C=0,f())},1e3)})},e.AnimationUtils._mergeOptions=function(n,r){return null==e.AnimationUtils._defaultOptions&&(e.AnimationUtils._defaultOptions=i.parseJSONFromFontFamily("oj-animation-effect-default-options")),t.extend({duration:"400ms"},e.AnimationUtils._defaultOptions?e.AnimationUtils._defaultOptions[n]:null,r)},e.AnimationUtils._createTransitionValue=function(t,i,n){var r="";if(i)for(var o=0;o<i.length;o++){var s=e.AnimationUtils._getName(t,i[o]);r+=(o>0?", ":"")+e.AnimationUtils._getHyphenatedPropName(s)+" "+n.duration,n.timingFunction&&(r+=" "+n.timingFunction),n.delay&&(r+=" "+n.delay)}return r},e.AnimationUtils._fade=function(t,i,n,r,o){var s=e.AnimationUtils._mergeOptions(n,i),a={css:{opacity:r}},l={css:{opacity:o}};return s&&(s.startOpacity&&(a.css.opacity=s.startOpacity),s.endOpacity&&(l.css.opacity=s.endOpacity)),e.AnimationUtils._animate(t,a,l,s,["opacity"])},e.AnimationUtils.fadeIn=function(t,i){return e.AnimationUtils._fade(t,i,"fadeIn",0,1)},e.AnimationUtils.fadeOut=function(t,i){return e.AnimationUtils._fade(t,i,"fadeOut",1,0)},e.AnimationUtils.expand=function(t,i){return e.AnimationUtils._expandCollapse(t,i,!0)},e.AnimationUtils.collapse=function(t,i){return e.AnimationUtils._expandCollapse(t,i,!1)},e.AnimationUtils._wrapRowContent=function(e,t){var i,n,r=[],o=e.children,s=[],a=[];for(e._ojSavedHeight=e.style.height,n=0;n<o.length;n++){i=o[n];var l=window.getComputedStyle(i);s.push(l.padding),a.push(l.textAlign),i._ojSavedPadding=i.style.padding}for(n=0;n<o.length;n++){i=o[n];var u=document.createElement("div");u.style.overflow="hidden;";var c=document.createElement("div");for(c.style.display="table-cell",c.style.verticalAlign="middle",c.style.boxSizing="border-box",c.style.height=t,c.style.padding=s[n],c.style.textAlign=a[n],u.appendChild(c);i.firstChild;)c.appendChild(i.firstChild);i.appendChild(u),i.style.padding="0",r.push(u)}return e.style.height="0",r},e.AnimationUtils._unwrapRowContent=function(e){for(var t=e.children,i=0;i<t.length;i++){var n=t[i],r=n.children[0];if(r){var o=r.children[0];if(o)for(;o.firstChild;)n.appendChild(o.firstChild);n.removeChild(r)}n.style.padding=n._ojSavedPadding,delete n._ojSavedPadding}e.style.height=e._ojSavedHeight,delete e._ojSavedHeight},e.AnimationUtils._expandCollapseRow=function(i,n,r){var o,s=i.offsetHeight+"px",a=e.AnimationUtils._wrapRowContent(i,s),l=t.extend({},n);if(r?l.endMaxHeight||(l.endMaxHeight=s):l.startMaxHeight||(l.startMaxHeight=s),l.persist="all",l._noReflow=!0,a.length)for(var u=0;u<a.length;u++)0===u?(l._skipPromise=!1,o=e.AnimationUtils._expandCollapse(a[u],l,r)):(l._skipPromise=!0,e.AnimationUtils._expandCollapse(a[u],l,r));else o=Promise.resolve();return o.then(function(){null!=n&&"all"===n.persist||e.AnimationUtils._unwrapRowContent(i)})},e.AnimationUtils._getSizeLimit=function(e,t,i,n,r){var o=i;if(!o)if(n)o="0";else{var s=r?t.maxWidth:t.maxHeight;o="none"!==s?s:(r?e.offsetWidth:e.offsetHeight)+"px"}return o},e.AnimationUtils._expandCollapse=function(t,i,n){if(t&&"TR"===t.tagName)return e.AnimationUtils._expandCollapseRow(t,i,n);var r=e.AnimationUtils._mergeOptions(n?"expand":"collapse",i),o={css:{}},s={css:{}},a=r.direction||"height",l=o.css,u=s.css,c=window.getComputedStyle(t),d=[];if("both"===a||"height"===a){var p=e.AnimationUtils._getSizeLimit(t,c,r.startMaxHeight,n,!1),h=e.AnimationUtils._getSizeLimit(t,c,r.endMaxHeight,!n,!1);l.maxHeight=p,u.maxHeight=h,d.push("maxHeight")}if("both"===a||"width"===a){var m=e.AnimationUtils._getSizeLimit(t,c,r.startMaxWidth,n,!0),f=e.AnimationUtils._getSizeLimit(t,c,r.endMaxWidth,!n,!0);l.maxWidth=m,u.maxWidth=f,d.push("maxWidth")}l.overflow=r.overflow?r.overflow:"hidden";var g=[].concat(d);return g.push("overflow"),e.AnimationUtils._animate(t,o,s,r,d,g)},e.AnimationUtils.zoomIn=function(t,i){return e.AnimationUtils._zoom(t,i,!0)},e.AnimationUtils.zoomOut=function(t,i){return e.AnimationUtils._zoom(t,i,!1)},e.AnimationUtils._zoom=function(t,i,n){var r,o=e.AnimationUtils._mergeOptions(n?"zoomIn":"zoomOut",i),s={css:{}},a={css:{}},l=o.axis||"both";r="both"===l?"scale":"x"===l?"scaleX":"scaleY";var u=s.css,c=a.css;return u.transform=r+"("+(n?0:1)+") translateZ(0)",c.transform=r+"("+(n?1:0)+") translateZ(0)",u.transformOrigin=o.transformOrigin||"center",e.AnimationUtils._animate(t,s,a,o,["transform"])},e.AnimationUtils.slideIn=function(t,i){return e.AnimationUtils._slide(t,i,!0)},e.AnimationUtils.slideOut=function(t,i){return e.AnimationUtils._slide(t,i,!1)},e.AnimationUtils._slide=function(t,i,n){var r=e.AnimationUtils._mergeOptions(n?"slideIn":"slideOut",i),o={css:{}},s={css:{}},a=r.direction||"start",l="0",u="0",c=o.css,d=s.css;if(r.offsetX||r.offsetY)r.offsetX&&(l=r.offsetX),r.offsetY&&(u=r.offsetY);else{var p="rtl"===e.DomUtils.getReadingDirection();switch(a){case"left":l=(n?t.offsetWidth:-t.offsetWidth)+"px";break;case"right":l=(n?-t.offsetWidth:t.offsetWidth)+"px";break;case"top":u=(n?t.offsetHeight:-t.offsetHeight)+"px";break;case"bottom":u=(n?-t.offsetHeight:t.offsetHeight)+"px";break;case"end":l=(n?-t.offsetWidth:t.offsetWidth)*(p?-1:1)+"px";break;default:l=(n?t.offsetWidth:-t.offsetWidth)*(p?-1:1)+"px"}}return n?(c.transform="translate("+l+","+u+") translateZ(0)",d.transform="translate(0,0) translateZ(0)"):(c.transform="translate(0,0) translateZ(0)",d.transform="translate("+l+","+u+") translateZ(0)"),e.AnimationUtils._animate(t,o,s,r,["transform"])},e.AnimationUtils.ripple=function(i,n){var r=e.AnimationUtils._mergeOptions("ripple",n),o={css:{}},s={css:{}},a=i.offsetWidth,l=i.offsetHeight,u=t("<div>").css({position:"absolute",overflow:"hidden"}),c=t("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),d="static"===window.getComputedStyle(i).position?{left:i.offsetLeft,top:i.offsetTop}:{left:0,top:0};i.insertBefore(u[0],i.firstChild),u.css({left:d.left+"px",top:d.top+"px",width:a+"px",height:l+"px"}),u.prepend(c);var p=o.css,h=s.css;return e.AnimationUtils._setRippleOptions(p,c,u,r),p.transform="scale(0) translateZ(0)",p.opacity=r.startOpacity||c.css("opacity"),h.transform="scale(1) translateZ(0)",h.opacity=r.endOpacity||0,r.persist="all",e.AnimationUtils._animate(c[0],o,s,r,["transform","opacity"]).then(function(){u.remove()})},e.AnimationUtils._setRippleOptions=function(t,i,n,r){var o=t,s=i.width(),a=n.width(),l=n.height();if(r.diameter){var u=r.diameter,c=parseInt(u,10);isNaN(c)||(s="%"===u.charAt(u.length-1)?Math.floor(Math.min(a,l)*(c/100)):c,o.width=s+"px",o.height=s+"px")}var d,p="static"===n.css("position")?n.position():{left:0,top:0};null!=(d=e.AnimationUtils._calcRippleOffset(r.offsetX,s,a,p.left))&&(o.left=d+"px"),null!=(d=e.AnimationUtils._calcRippleOffset(r.offsetY,s,l,p.top))&&(o.top=d+"px"),r.color&&(o.backgroundColor=r.color)},e.AnimationUtils._calcRippleOffset=function(e,t,i,n){var r,o=e||"50%",s=parseInt(o,10);return isNaN(s)||(r="%"===o.charAt(o.length-1)?i*(s/100)-t/2:s-t/2,r=Math.floor(r+n)),r},e.AnimationUtils._removeRipple=function(i,r){var o=r||{},s=o.removeEffect||"fadeOut",a=t(".oj-animation-rippler",i);return 0!==a.length?s in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?e.AnimationUtils[s](a,o).then(function(){a.remove()}):a.remove():void n.warn("No rippler so returning")},e.AnimationUtils._calcBackfaceAngle=function(e){var t,i=e.match(/^([+-]?\d*\.?\d*)(.*)$/),r=parseFloat(i[1]),o=i[2];switch(o){case"deg":t=r-180+o;break;case"grad":t=r-200+o;break;case"rad":t=r-3.1416+o;break;case"turn":t=r-.5+o;break;default:n.error("Unknown angle unit in flip animation: "+o)}return t},e.AnimationUtils._flip=function(i,n,r,o,s){if(n&&"children"===n.flipTarget){var a,l=[],u=t(i).children(),c=t.extend({},n);delete c.flipTarget;var d=t.extend({},c);d.startAngle=e.AnimationUtils._calcBackfaceAngle(n.startAngle||o),d.endAngle=e.AnimationUtils._calcBackfaceAngle(n.endAngle||s);for(var p=0;p<u.length;p++)a=t(u[p]).hasClass("oj-animation-backface")?d:c,l.push(e.AnimationUtils._flip(u[p],a,r,o,s));return Promise.all(l)}var h,m={},f={},g={css:m},_={css:f},v="rotateY(",y="2000px",E="hidden",b="center";return(n=e.AnimationUtils._mergeOptions(r,n))&&("x"===n.axis&&(v="rotateX("),n.startAngle&&(o=n.startAngle),n.endAngle&&(s=n.endAngle),n.perspective&&(y=n.perspective),n.backfaceVisibility&&(E=n.backfaceVisibility),n.transformOrigin&&(b=n.transformOrigin)),h="perspective("+y+") "+v,m.transform=h+o+")",m.backfaceVisibility=E,m.transformOrigin=b,f.transform=h+s+")",e.AnimationUtils._animate(i,g,_,n,["transform"],["transform","backfaceVisibility","transformOrigin"])},e.AnimationUtils.flipIn=function(t,i){return e.AnimationUtils._flip(t,i,"flipIn","-180deg","0deg")},e.AnimationUtils.flipOut=function(t,i){return e.AnimationUtils._flip(t,i,"flipOut","0deg","180deg")},e.AnimationUtils.addTransition=function(t,i){var n=e.AnimationUtils._mergeOptions("addTransition",i);return e.AnimationUtils._animate(t,null,null,n,n.transitionProperties)},e.AnimationUtils}),define("ojs/ojjquery-hammer",["ojs/ojcore","jquery","hammerjs","ojs/ojlogger"],function(e,t,i,n){"use strict";var r;i?(t.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each(function(){var e=t(this),i=e.data("ojHammer");i&&(i.destroy(),e.removeData("ojHammer"))});default:return this.each(function(){var n=t(this);n.data("ojHammer")||n.data("ojHammer",new i.Manager(n[0],e))})}},i.Manager.prototype.emit=(r=i.Manager.prototype.emit,function(e,i){r.call(this,e,i),t(this.element).trigger({type:e,gesture:i})})):n.warn("Hammer jQuery extension loaded without Hammer.")}),!function(e){"function"==typeof define&&define.amd?define("jqueryui-amd/position",["jquery","./version"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var r,o=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return e("body").append(n),t=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),r=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType,o=!n&&!r;return{element:i,isWindow:n,isDocument:r,offset:o?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=e.extend({},r);var d,h,m,f,g,_,v=e(r.of),y=e.position.getWithinInfo(r.within),E=e.position.getScrollInfo(y),b=(r.collision||"flip").split(" "),S={};return _=n(v),v[0].preventDefault&&(r.at="left top"),h=_.width,m=_.height,f=_.offset,g=e.extend({},f),e.each(["my","at"],function(){var e,t,i=(r[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),S[this]=[e?e[0]:0,t?t[0]:0],r[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===r.at[0]?g.left+=h:"center"===r.at[0]&&(g.left+=h/2),"bottom"===r.at[1]?g.top+=m:"center"===r.at[1]&&(g.top+=m/2),d=t(S.at,h,m),g.left+=d[0],g.top+=d[1],this.each(function(){var n,a,l=e(this),u=l.outerWidth(),c=l.outerHeight(),p=i(this,"marginLeft"),_=i(this,"marginTop"),O=u+p+i(this,"marginRight")+E.width,C=c+_+i(this,"marginBottom")+E.height,T=e.extend({},g),I=t(S.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?T.left-=u:"center"===r.my[0]&&(T.left-=u/2),"bottom"===r.my[1]?T.top-=c:"center"===r.my[1]&&(T.top-=c/2),T.left+=I[0],T.top+=I[1],n={marginLeft:p,marginTop:_},e.each(["left","top"],function(t,i){e.ui.position[b[t]]&&e.ui.position[b[t]][i](T,{targetWidth:h,targetHeight:m,elemWidth:u,elemHeight:c,collisionPosition:n,collisionWidth:O,collisionHeight:C,offset:[d[0]+I[0],d[1]+I[1]],my:r.my,at:r.at,within:y,elem:l})}),r.using&&(a=function(e){var t=f.left-T.left,i=t+h-u,n=f.top-T.top,a=n+m-c,d={target:{element:v,left:f.left,top:f.top,width:h,height:m},element:{element:l,left:T.left,top:T.top,width:u,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:a<0?"top":n>0?"bottom":"middle"};h<u&&s(t+i)<h&&(d.horizontal="center"),m<c&&s(n+a)<m&&(d.vertical="middle"),o(s(t),s(i))>o(s(n),s(a))?d.important="horizontal":d.important="vertical",r.using.call(this,e,d)}),l.offset(e.extend(T,{using:a}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&u<=0?(i=e.left+l+t.collisionWidth-s-r,e.left+=l-i):u>0&&l<=0?e.left=r:l>u?e.left=r+s-t.collisionWidth:e.left=r:l>0?e.left+=l:u>0?e.left-=u:e.left=o(e.left-a,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&u<=0?(i=e.top+l+t.collisionHeight-s-r,e.top+=l-i):u>0&&l<=0?e.top=r:l>u?e.top=r+s-t.collisionHeight:e.top=r:l>0?e.top+=l:u>0?e.top-=u:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-a-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];c<0?(i=e.left+p+h+m+t.collisionWidth-a-o,(i<0||i<s(c))&&(e.left+=p+h+m)):d>0&&(n=e.left-t.collisionPosition.marginLeft+p+h+m-l,(n>0||s(n)<d)&&(e.left+=p+h+m))},top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-a-l,p="top"===t.my[1],h=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,m="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?(n=e.top+h+m+f+t.collisionHeight-a-o,(n<0||n<s(c))&&(e.top+=h+m+f)):d>0&&(i=e.top-t.collisionPosition.marginTop+h+m+f-l,(i>0||s(i)<d)&&(e.top+=h+m+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position}),define("ojs/ojpopupcore",["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojcomponentcore","ojs/ojlogger","promise","jqueryui-amd/position"],function(e,t,i,n,r){"use strict";e.PopupService=function(){this.Init()},e.Object.createSubclass(e.PopupService,e.Object,"oj.PopupService"),e.PopupService.prototype.Init=function(){e.PopupService.superclass.Init.call(this)},e.PopupService.getInstance=function(t){return e.PopupService._popupService||(e.PopupService._popupService=new e.PopupServiceImpl),e.PopupService._popupService},e.PopupService.prototype.open=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.close=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.changeOptions=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.triggerOnDescendents=function(t,i,n){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.destroy=function(){e.PopupService._popupService=null},e.PopupService.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},e.PopupService.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},e.PopupService.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},e.PopupService.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},e.PopupServiceImpl=function(){this.Init()},e.Object.createSubclass(e.PopupServiceImpl,e.PopupService,"oj.PopupServiceImpl"),e.PopupServiceImpl.prototype.open=function(i){e.Assert.assertObject(i);var o=i[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(o,t);var s=e.ZOrderUtils.getStatus(o);if(s===e.ZOrderUtils.STATUS.UNKNOWN||s===e.ZOrderUtils.STATUS.BEFORE_OPEN||s===e.ZOrderUtils.STATUS.CLOSE){var a=i[e.PopupService.OPTION.LAUNCHER];e.Assert.assertPrototype(a,t);var l=i[e.PopupService.OPTION.POSITION];e.Assert.assertObjectOrNull(l);var u=i[e.PopupService.OPTION.EVENTS];e.Assert.assertObject(u);var c=i[e.PopupService.OPTION.MODALITY];(!c||e.PopupService.MODALITY.MODELESS!==c&&e.PopupService.MODALITY.MODAL!==c)&&(c=e.PopupService.MODALITY.NONE);var d=i[e.PopupService.OPTION.LAYER_SELECTORS];e.Assert.assertString(d);var p=i[e.PopupService.OPTION.CUSTOM_ELEMENT],h=i[e.PopupService.OPTION.LAYER_LEVEL];(!h||e.PopupService.LAYER_LEVEL.TOP_LEVEL!==h&&e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR!==h)&&(h=e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR);var m=u[e.PopupService.EVENT.POPUP_BEFORE_OPEN];m&&t.isFunction(m)||(m=e.PopupServiceImpl._defaultBeforeOpenCallback);var f=u[e.PopupService.EVENT.POPUP_AFTER_OPEN];e.ZOrderUtils.setStatus(o,e.ZOrderUtils.STATUS.OPENING),e.DomUtils.setLogicalParent(o,a),e.ZOrderUtils.addToAncestorLayer(o,a,c,d,h,p);var g,_=function(){try{o.removeAttr("aria-hidden"),this._assertEventSink(),n.subtreeShown(o[0])}catch(e){r.error("Error opening popup:\n%o",e)}finally{e.ZOrderUtils.setStatus(o,e.ZOrderUtils.STATUS.OPEN),f&&f(i);var s=e.ZOrderUtils.getFirstAncestorLayer(o);e.Assert.assertPrototype(s,t),e.ZOrderUtils.applyEvents(s,u),!e.ZOrderUtils._getSurrogate(s)&&t.isFunction(u[e.PopupService.EVENT.POPUP_REMOVE])&&(0,u[e.PopupService.EVENT.POPUP_REMOVE])()}};_=_.bind(this);try{g=m(i)}catch(e){r.error("Error before open popup:\n%o",e)}finally{g&&g instanceof Promise?g.then(_):_()}}else this._assertEventSink()},e.PopupServiceImpl._defaultBeforeOpenCallback=function(i){var n=i[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(n,t);var r=i[e.PopupService.OPTION.POSITION];n.show(),r&&n.position(r)},e.PopupServiceImpl.prototype.close=function(i){e.Assert.assertObject(i);var o=i[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(o,t);var s=e.ZOrderUtils.getOpenPopupLayer(o);e.Assert.assertPrototype(s,t);var a=i[e.PopupService.OPTION.EVENTS];a?a=t.extend(e.ZOrderUtils.getEvents(s),a):(a=e.ZOrderUtils.getEvents(s),i[e.PopupService.OPTION.EVENTS]=a);var l=e.ZOrderUtils.getStatus(o);if(l!==e.ZOrderUtils.STATUS.OPEN&&l!==e.ZOrderUtils.STATUS.BEFORE_CLOSE||!a)this._assertEventSink();else{var u=a[e.PopupService.EVENT.POPUP_BEFORE_CLOSE];u&&t.isFunction(u)||(u=e.PopupServiceImpl._defaultBeforeCloseCallback);var c=a[e.PopupService.EVENT.POPUP_AFTER_CLOSE];e.ZOrderUtils.setStatus(o,e.ZOrderUtils.STATUS.CLOSING),e.ZOrderUtils.applyEvents(s,{});var d,p=function(){try{o.hide(),o.attr("aria-hidden","true"),o.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),e.ZOrderUtils.removeFromAncestorLayer(o),e.DomUtils.setLogicalParent(o,null),this._assertEventSink(),n.subtreeHidden(o[0])}catch(e){r.error("Error closing popup:\n%o",e)}finally{e.ZOrderUtils.setStatus(o,e.ZOrderUtils.STATUS.CLOSE),c&&t.isFunction(c)&&c(i)}};p=p.bind(this);try{d=u(i)}catch(e){r.error("Error before close popup:\n%o",e)}finally{d&&d instanceof Promise?d.then(p):p()}}},e.PopupServiceImpl._defaultBeforeCloseCallback=function(i){var n=i[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(n,t),n.hide()},e.PopupServiceImpl.prototype.changeOptions=function(i){e.Assert.assertObject(i);var n=i[e.PopupService.OPTION.POPUP];if(e.Assert.assertPrototype(n,t),e.ZOrderUtils.getStatus(n)===e.ZOrderUtils.STATUS.OPEN){var r=e.ZOrderUtils.getOpenPopupLayer(n);e.Assert.assertPrototype(r,t);var o=i[e.PopupService.OPTION.EVENTS];o&&e.ZOrderUtils.applyEvents(r,o);var s=i[e.PopupService.OPTION.MODALITY];s&&e.ZOrderUtils.applyModality(r,s);var a=i[e.PopupService.OPTION.LAYER_SELECTORS];e.StringUtils.isEmptyOrUndefined(a)||r.attr("class",a)}},e.PopupServiceImpl.prototype.triggerOnDescendents=function(t,i,n){if(e.ZOrderUtils.isPopupOpen(t)){var r={};r.event=i,r.argsArray=n;var o=e.ZOrderUtils.getFirstAncestorLayer(t);e.ZOrderUtils.postOrderVisit(o,this._triggerOnDescendentsVisitCallback,r)}},e.PopupServiceImpl.prototype._triggerOnDescendentsVisitCallback=function(i,n){var r=n.event,o=n.argsArray,s=e.ZOrderUtils.getEvents(i);return s&&t.isFunction(s[r])&&s[r].apply(this,o),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype._assertEventSink=function(){var t,i,n,r=e.ZOrderUtils.hasPopupsOpen(),o=this._callbackEventFilter;if(!r&&o){for(window.removeEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.removeEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(i=document.documentElement).removeEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),i.removeEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),this._callbackEventFilter=null,t=0;t<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;t++)n=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[t],i.removeEventListener(n,o,!0);var s=this._simpleTapRecognizer;s&&(s.destroy(),this._simpleTapRecognizer=null)}else if(r&&!o){for(window.addEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.addEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(i=document.documentElement).addEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),i.addEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),o=this._eventFilterCallback.bind(this),this._callbackEventFilter=o,t=0;t<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;t++)n=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[t],i.addEventListener(n,o,!0);e.DomUtils.isTouchSupported()&&(this._simpleTapRecognizer=new e.SimpleTapRecognizer(o))}},e.PopupServiceImpl.prototype._eventFilterCallback=function(i){var n=t(i.target);if(e.ZOrderUtils.hasPopupsOpen()){if(!e.DomUtils.isChromeEvent(i)&&("focus"!==i.type||n.is(":focusable"))){var r=e.ZOrderUtils.getDefaultLayer();if("keydown"!==i.type||!e.ZOrderUtils.hasModalDialogOpen()||e.DomUtils.isAncestor(r[0],n[0])){var o,s=e.ZOrderUtils.getFirstAncestorLayer(n);if(r[0]!==s[0]?s.hasClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR)||((o=this._lastFocusLayer)&&o.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),s.addClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=s):(o=this._lastFocusLayer)&&(o.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=null),"focus"!==i.type||"-1"!==n.attr("tabindex")){for(var a={},l=e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES,u={},c=0;c<l.length;c++){var d=l[c],p=i[d];void 0===p||t.isFunction(p)||(u[d]=p)}a.event=t.Event(i,u),e.ZOrderUtils.postOrderVisit(r,e.PopupServiceImpl._redistributeVisitCallback,a)}}else e.ZOrderUtils.eatEvent(i)}}else this._assertEventSink()},e.PopupServiceImpl._redistributeVisitCallback=function(i,n){var r=e.ZOrderUtils.getEvents(i),o=n.event;return r&&t.isFunction(r[e.PopupService.EVENT.POPUP_AUTODISMISS])&&r[e.PopupService.EVENT.POPUP_AUTODISMISS](o),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl._refreshCallback=function(i){var n=e.PopupServiceImpl._refreshTimerId;isNaN(n)&&(e.PopupServiceImpl._refreshTimerId=window.setTimeout(function(){e.PopupServiceImpl._refreshTimerId=Number.NaN;var i=e.ZOrderUtils.getDefaultLayer();t.isFunction(window.requestAnimationFrame)?e.PopupServiceImpl._afRequestId=window.requestAnimationFrame(function(){e.PopupServiceImpl._afRequestId=null,e.ZOrderUtils.postOrderVisit(i,e.PopupServiceImpl._refreshVisitCallback)}):e.ZOrderUtils.postOrderVisit(i,e.PopupServiceImpl._refreshVisitCallback)},e.PopupServiceImpl._REFRESH_DELAY))},e.PopupServiceImpl._refreshVisitCallback=function(i,n){if(n.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var r=e.ZOrderUtils.getEvents(i);return r&&t.isFunction(r[e.PopupService.EVENT.POPUP_REFRESH])&&r[e.PopupService.EVENT.POPUP_REFRESH](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype.destroy=function(){e.PopupServiceImpl.superclass.destroy.call(this)},e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR="oj-focus-within",e.PopupServiceImpl._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],e.PopupServiceImpl._REFRESH_DELAY=10,e.ZOrderUtils={},e.ZOrderUtils.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},e.ZOrderUtils._STATUS_DATA="oj-popup-status",e.ZOrderUtils.getStatus=function(i){i instanceof Element&&(i=t(i));var n=i.data(e.ZOrderUtils._STATUS_DATA);return isNaN(n)?e.ZOrderUtils.STATUS.UNKNOWN:n},e.ZOrderUtils.setStatus=function(i,n){i instanceof Element&&(i=t(i)),n>e.ZOrderUtils.STATUS.UNKNOWN&&n<=e.ZOrderUtils.STATUS.CLOSE&&i.data(e.ZOrderUtils._STATUS_DATA,n)},e.ZOrderUtils.getFirstAncestorLayer=function(t){if(!t)return e.ZOrderUtils.getDefaultLayer();for(var i=t;i&&i.length>0&&i.attr(e.ZOrderUtils._SURROGATE_ATTR)!==e.ZOrderUtils._DEFAULT_LAYER_ID;){if(e.ZOrderUtils._hasSurrogate(i[0]))return i;i=i.parent()}return e.ZOrderUtils.getDefaultLayer()},e.ZOrderUtils.getDefaultLayer=function(){var i=t(document.getElementById(e.ZOrderUtils._DEFAULT_LAYER_ID));return i.length>0?i:((i=t("<div>")).attr("role","presentation"),i.attr("id",e.ZOrderUtils._DEFAULT_LAYER_ID),i.prependTo(t(document.body)),i)},e.ZOrderUtils.addToAncestorLayer=function(i,r,o,s,a,l){var u=i[0];if(e.ZOrderUtils._hasSurrogate(u.parentNode))throw new Error("JET Popup is already open - id: "+u.getAttribute("id"));
var c=e.ZOrderUtils.getFirstAncestorLayer(a===e.PopupService.LAYER_LEVEL.TOP_LEVEL?null:r),d=t("<div>"),p=i.attr("id");e.StringUtils.isEmptyOrUndefined(p)?d.uniqueId():d.attr("id",[p,"layer"].join("_")),d.attr("role","presentation"),d.addClass(s),i.after(d),e.ZOrderUtils._createSurrogate(d,l),n.subtreeDetached(u),i.appendTo(d),i.data(e.ZOrderUtils._LAYER_ID_DATA,d.attr("id")),d.appendTo(c),n.subtreeAttached(u),e.ZOrderUtils.applyModality(d,o)},e.ZOrderUtils._getSurrogate=function(t){var i=t.attr(e.ZOrderUtils._SURROGATE_ATTR);if(i)return document.getElementById(i)},e.ZOrderUtils.applyEvents=function(i,r,o){o||(o=t(e.ZOrderUtils._getSurrogate(i))),i.data(e.ZOrderUtils._EVENTS_DATA,r),o.length>0&&r&&t.isFunction(r[e.PopupService.EVENT.POPUP_REMOVE])&&n.setComponentOption(o[0],"beforeDestroy",r[e.PopupService.EVENT.POPUP_REMOVE])},e.ZOrderUtils.getEvents=function(t){return t.data(e.ZOrderUtils._EVENTS_DATA)},e.ZOrderUtils._createSurrogate=function(i,n){var r="script";n&&(r="oj-surrogate");var o=t(document.createElement(r)),s=i.attr("id");e.StringUtils.isEmptyOrUndefined(s)||o.attr("id",[s,"surrogate"].join("_")),n&&o.attr("data-oj-binding-provider","none"),o.insertBefore(i),n||o.ojSurrogate();var a=o.attr("id");return i.attr(e.ZOrderUtils._SURROGATE_ATTR,a),o},e.ZOrderUtils._removeSurrogate=function(i){var r=i.attr(e.ZOrderUtils._SURROGATE_ATTR);i.removeAttr(e.ZOrderUtils._SURROGATE_ATTR);var o=t(document.getElementById(r)),s=o.length>0;return s&&(i.insertAfter(o),n.setComponentOption(o[0],"beforeDestroy",null),o.remove()),s},e.ZOrderUtils.getOpenPopupLayer=function(i){var n=i.parent();if(!n||0===n.length){var r=i.data(e.ZOrderUtils._LAYER_ID_DATA);n=t(document.getElementById(r))}return n},e.ZOrderUtils.removeFromAncestorLayer=function(t){var i=e.ZOrderUtils.getOpenPopupLayer(t);e.ZOrderUtils.preOrderVisit(i,e.ZOrderUtils._closeDescendantPopupsCallback),e.ZOrderUtils._removeOverlayFromAncestorLayer(i),i.removeData(e.ZOrderUtils._EVENTS_DATA),i.removeData(e.ZOrderUtils._MODALITY_DATA),t.removeData(e.ZOrderUtils._LAYER_ID_DATA);var r=t[0];n.subtreeDetached(r),e.ZOrderUtils._removeSurrogate(i)&&r&&r.parentElement?(e.DomUtils.unwrap(t,i),n.subtreeAttached(r)):i.remove()},e.ZOrderUtils._closeDescendantPopupsCallback=function(i,n){if(n.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var r=i.data(e.ZOrderUtils._EVENTS_DATA);return r&&t.isFunction(r[e.PopupService.EVENT.POPUP_CLOSE])&&r[e.PopupService.EVENT.POPUP_CLOSE](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.applyModality=function(t,i){var n=t.data(e.ZOrderUtils._MODALITY_DATA);t.data(e.ZOrderUtils._MODALITY_DATA,i),e.StringUtils.isEmptyOrUndefined(n)?e.PopupService.MODALITY.MODAL===i?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t):n!==i&&(i!==n&&i===e.PopupService.MODALITY.MODAL?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t)),i===e.PopupService.MODALITY.MODAL?t.attr("aria-modal","true"):t.removeAttr("aria-modal")},e.ZOrderUtils.hasModalDialogOpen=function(){for(var i=e.ZOrderUtils.getDefaultLayer().children(),n=i.length-1;n>-1;n--)if(t(i[n]).hasClass(e.ZOrderUtils._OVERLAY_SELECTOR))return!0;return!1},e.ZOrderUtils._addOverlayToAncestorLayer=function(i){var n=t("<div>");n.addClass(e.ZOrderUtils._OVERLAY_SELECTOR),n.addClass(i[0].className),n.attr("role","presentation");var r=i.attr("id");e.StringUtils.isEmptyOrUndefined(r)?n.uniqueId():n.attr("id",[r,"overlay"].join("_")),i.before(n);var o=n.attr("id");i.attr(e.ZOrderUtils._OVERLAY_ATTR,o)},e.ZOrderUtils._removeOverlayFromAncestorLayer=function(i){var n=i.attr(e.ZOrderUtils._OVERLAY_ATTR);e.StringUtils.isEmptyOrUndefined(n)||(i.removeAttr(e.ZOrderUtils._OVERLAY_ATTR),t(document.getElementById(n)).remove())},e.ZOrderUtils.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},e.ZOrderUtils._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},e.ZOrderUtils.postOrderVisit=function(t,i,n){var r=n;n||(r={}),r.level=0,r.type=e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER,e.ZOrderUtils._visitTree(t,i,r)},e.ZOrderUtils.preOrderVisit=function(t,i,n){var r=n;n||(r={}),r.level=0,r.type=e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER,e.ZOrderUtils._visitTree(t,i,r)},e.ZOrderUtils._visitTree=function(i,n,r){for(var o=r.level,s=i.children(),a=s.length-1;a>-1;a--){var l=t(s[a]);if(e.ZOrderUtils._hasSurrogate(l[0])){var u;if(r.type===e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER){if((u=n(l,r))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return u;if(u===e.ZOrderUtils.VISIT_RESULT.REJECT)break}if(r.level=o+1,u=e.ZOrderUtils._visitTree(l,n,r),r.level=o,u===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return u;if(r.type===e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER){if((u=n(l,r))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return u;if(u===e.ZOrderUtils.VISIT_RESULT.REJECT)break}}}return e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils._hasSurrogate=function(t){return!(!t||1!==t.nodeType||!t.hasAttribute(e.ZOrderUtils._SURROGATE_ATTR))},e.ZOrderUtils.hasPopupsOpen=function(){return e.ZOrderUtils.getDefaultLayer().children().length>0},e.ZOrderUtils.getOpenPopupCount=function(){var t={popupCount:0},i=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(i,e.ZOrderUtils._openPopupCountCallback,t),t.popupCount},e.ZOrderUtils._openPopupCountCallback=function(t,i){return i.popupCount+=1,e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.findOpenPopups=function(){var i={},n=[];i.popups=n;var r=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(r,e.ZOrderUtils._openPopupsCallback,i),n=i.popups,t(n)},e.ZOrderUtils._openPopupsCallback=function(t,i){return i.popups.push(t[0]),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.isAboveTopModalLayer=function(i){if(!i||!e.ZOrderUtils.hasPopupsOpen())return!0;var n=function(){var i={topLayer:null},n=e.ZOrderUtils.getDefaultLayer();if(e.ZOrderUtils.preOrderVisit(n,function(i,n){if(n.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var r=n.topLayer;return r?e.ZOrderUtils.compareStackingContexts(t(i),t(r))>0&&(n.topLayer=i):n.topLayer=i,e.ZOrderUtils.VISIT_RESULT.ACCEPT},i),i.topLayer)return i.topLayer[0]}();if(!n)return!0;var r=function(i){var n={topModalPopup:null};if(i.hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)&&(n.topModalPopup=t(i)),e.ZOrderUtils.postOrderVisit(t(i),function(t,i){return t[0].hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)?(i.topModalPopup=t,e.ZOrderUtils.VISIT_RESULT.COMPLETE):e.ZOrderUtils.VISIT_RESULT.ACCEPT},n),n.topModalPopup)return n.topModalPopup[0]}(n);return!r||e.DomUtils.isAncestorOrSelf(r,i)||e.ZOrderUtils.compareStackingContexts(t(r),t(i))<0},e.ZOrderUtils.compareStackingContexts=function(i,n){function r(i,n){var r,o=["absolute","relative","fixed"],s=i.parents(),a=[];for(r=s.length-1;r>-1;r--)a.push(t(s[r]));(s=a).push(i);var l=[],u=0;for(r=0;r<s.length;r++){var c=s[r],d=c.css("position"),p=e.DomUtils.getCSSLengthAsFloat(c.css("opacity")),h=e.DomUtils.getCSSLengthAsInt(c.css("z-index")),m=t.inArray(c[0],c.parent().children());t.inArray(d,o)>-1&&h>0?(l.push({weight:[u,h,m],order:[m]}),u+=1):p<1?(l.push({weight:[u,1,m],order:[m]}),u+=1):n&&l.push({weight:[0,0,m],order:[m]})}return l}function o(e,t){for(var i=Math.max(e.length,t.length),n=0;n<i;n++){var r=n<e.length?e[n]:0,o=n<t.length?t[n]:0;if(r!==o)return r<o?-1:1}return 0}e.Assert.assertPrototype(i,t),e.Assert.assertPrototype(n,t);var s,a,l=r(i,!1),u=r(n,!1),c=Math.max(l.length,u.length);for(s=0;s<c;s++)if(0!==(a=o(s<l.length?l[s].weight:[-1],s<u.length?u[s].weight:[-1])))return a;for(l=r(i,!0),u=r(n,!0),c=Math.max(l.length,u.length),s=0;s<c;s++)if(0!==(a=o(s<l.length?l[s].order:[-1],s<u.length?u[s].order:[-1])))return a;return 0},e.ZOrderUtils.eatEvent=function(e){e.stopPropagation(),e.preventDefault()},e.ZOrderUtils.isPopupOpen=function(t){var i=t.parent();return!(!i||1!==i.length||!e.ZOrderUtils._hasSurrogate(i[0]))},e.ZOrderUtils._EVENTS_DATA="oj-popup-events",e.ZOrderUtils._MODALITY_DATA="oj-popup-modality",e.ZOrderUtils._DEFAULT_LAYER_ID="__oj_zorder_container",e.ZOrderUtils._SURROGATE_ATTR="data-oj-surrogate-id",e.ZOrderUtils._LAYER_ID_DATA="oj-popup-layer-id",e.ZOrderUtils._OVERLAY_ATTR="data-oj-overlayid",e.ZOrderUtils._OVERLAY_SELECTOR="oj-component-overlay",e.__registerWidget("oj.ojSurrogate",t.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var e=this.options.beforeDestroy;this.options.beforeDestroy=null,e&&e()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}}),e.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),e.SimpleTapRecognizer=function(e){this._tapCallback=e,this.Init()},e.Object.createSubclass(e.SimpleTapRecognizer,e.Object,"oj.SimpleTapRecognizer"),e.SimpleTapRecognizer.prototype.Init=function(){e.SimpleTapRecognizer.superclass.Init.call(this);var t=this._eventHandler.bind(this);this._eventHandlerCallback=t;for(var i=document.documentElement,n=0;n<e.SimpleTapRecognizer._TOUCHEVENTS.length;n++)i.addEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[n],t,!0)},e.SimpleTapRecognizer.prototype._eventHandler=function(t){var i=this._tapCallback,n=t.type;if("touchstart"===n)this._touchStartEvent=t,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===n||"touchcancel"===n)this._touchStartEvent=null;else if("touchend"===n){if(this._touchStartEvent){var r=this._touchStartEvent._tapStart;isNaN(r)?i(this._touchStartEvent):(new Date).getTime()-r<e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD&&i(this._touchStartEvent)}this._touchStartEvent=null}},e.SimpleTapRecognizer.prototype.destroy=function(){this._tapCallback=null;var t=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var i=document.documentElement,n=0;n<e.SimpleTapRecognizer._TOUCHEVENTS.length;n++)i.removeEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[n],t,!0)},e.SimpleTapRecognizer._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD=700,e.PopupLiveRegion=function(){this.Init()},e.Object.createSubclass(e.PopupLiveRegion,e.Object,"oj.PopupLiveRegion"),e.PopupLiveRegion.prototype.Init=function(){e.PopupLiveRegion.superclass.Init.call(this),isNaN(e.PopupLiveRegion._refCounter)?e.PopupLiveRegion._refCounter=1:e.PopupLiveRegion._refCounter+=1},e.PopupLiveRegion.prototype.destroy=function(){if(!isNaN(e.PopupLiveRegion._refCounter)&&(e.PopupLiveRegion._refCounter-=1,e.PopupLiveRegion._refCounter<1)){var i=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));i.length>0&&i.remove()}},e.PopupLiveRegion.prototype.announce=function(i){if(!e.StringUtils.isEmpty(i)){var n=e.PopupLiveRegion._getLiveRegion();n.children().remove(),t("<div>").text(i).appendTo(n)}},e.PopupLiveRegion._getLiveRegion=function(){var i=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));return 0===i.length&&((i=t("<div>")).attr({id:e.PopupLiveRegion._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),i.addClass("oj-helper-hidden-accessible"),i.appendTo(document.body)),i},e.PopupLiveRegion._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion",e.PopupSkipLink=function(i,n,r,o,s){e.Assert.assertPrototype(i,t),e.Assert.assertString(n),e.Assert.assertFunction(r),e.Assert.assertStringOrNull(o),this._options={insertBefore:!1,preventKeyEvents:!0},s&&(this._options=Object.assign({},this._options,s)),this._sibling=i,this._message=n,this._callback=r,this._id=o,this.Init()},e.Object.createSubclass(e.PopupSkipLink,e.Object,"oj.PopupSkipLink"),e.PopupSkipLink.prototype.Init=function(){e.PopupSkipLink.superclass.Init.call(this);var i=this._sibling,n=this._callback,r=this._message,o=this._options.insertBefore,s=this._options.preventKeyEvents;this._message=null;var a=this._id;this._id=null;var l=t(document.getElementById(a));l.length<1&&(l=t("<a>").attr({tabindex:"-1",href:"#",role:"link"})),l.attr("id",a),l.addClass("oj-helper-hidden-accessible"),l.text(r),o?l.insertBefore(i):l.insertAfter(i),l.on("click",e.PopupSkipLink._activateHandler.bind(this,n)),s&&l.on("keydown keyup keypress",e.PopupSkipLink._keyHandler),i.data(e.PopupSkipLink._SKIPLINK_ATTR,l)},e.PopupSkipLink._activateHandler=function(t,i){e.ZOrderUtils.eatEvent(i),window.setImmediate(t)},e.PopupSkipLink._keyHandler=function(i){i.keyCode===t.ui.keyCode.ENTER&&e.ZOrderUtils.eatEvent(i)},e.PopupSkipLink.prototype.destroy=function(){var t=this._sibling;if(delete this._sibling,delete this._callback,t){var i=t.data(e.PopupSkipLink._SKIPLINK_ATTR);t.removeData(e.PopupSkipLink._SKIPLINK_ATTR),i&&(i.off("click keydown keyup keypress"),i.remove())}},e.PopupSkipLink.prototype.getLink=function(){var t,i=this._sibling;return i&&(t=i.data(e.PopupSkipLink._SKIPLINK_ATTR)),t},e.PopupSkipLink._SKIPLINK_ATTR="oj-skiplink",e.PopupWhenReadyMediator=function(e,t,i,n){this._element=e,this._operation=t,this._widgetName=i,this._isCustomElement=!!n,this.Init()},e.Object.createSubclass(e.PopupWhenReadyMediator,e.Object,"oj.PopupWhenReadyMediator"),e.PopupWhenReadyMediator.prototype.Init=function(){e.PopupWhenReadyMediator.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,n=["oj"];this._isCustomElement?(n.push(t.charAt(0).toUpperCase()),n.push(t.slice(1))):n.push(t);var r=n.join("");this._eventType=r,this._element.on(r,this._callback);var o=i.getContext(this._element[0]).getBusyContext(),s={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},a=o.addBusyState(s);this.AddPromiseExecutor(a),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},e.PopupWhenReadyMediator.prototype._getBusyStateDescription=function(e,t,i){return i+" identified by '"+e.attr("id")+"' is busy animating on the '"+t+"' operation."},e.PopupWhenReadyMediator.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=null;var i=e||this._operation;this._operation=null;for(var n=0;n<t.length;n++)try{t[n](i)}catch(e){r.error("Error resolving whenReady promises:\n%o",e)}this._whenReadyPromise=Promise.resolve("none")},e.PopupWhenReadyMediator.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var e=this._eventType;this._element.off(e,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},e.PopupWhenReadyMediator.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},e.PopupWhenReadyMediator.prototype._eventHandler=function(e){e.target===this._element[0]&&(this._element.off(e.type,this._callback),this._deliverResolved(),this._callback=null)},e.PopupWhenReadyMediator.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},e.PopupWhenReadyMediator.prototype.AddPromiseExecutor=function(e,t){this._resolvedQueue&&this._resolvedQueue.push(e)},e.PopupWhenReadyMediator.prototype.isOperationPending=function(e,t,i,n){var o=!1,s=this._widgetName,a=this._getPendingOperation();return t===a?(r.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,t),o=!0):"none"!==a&&(r.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,t,a),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[i].apply(this,n)}.bind(e)),o=!0),o},e.PositionUtils={},e.PositionUtils.normalizeHorizontalAlignment=function(i,n){for(var r=t.extend({},i),o=0;o<e.PositionUtils._ALIGN_RULE_PROPERTIES.length;o++){var s=e.PositionUtils._ALIGN_RULE_PROPERTIES[o],a=r[s];if(a)if(e.StringUtils.isString(a))r[s]=a.replace("start",n?"right":"left").replace("end",n?"left":"right").replace("<",n?"+":"-").replace(">",n?"-":"+");else for(var l=0;l<e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES.length;l++){var u=e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES[l],c=a[u];e.StringUtils.isString(c)&&(a[u]=c.replace("start",n?"right":"left").replace("end",n?"left":"right").replace("<",n?"+":"-").replace(">",n?"-":"+"))}}return r},e.PositionUtils.normalizePositionOf=function(e,t,i){return"event"===e?i:null==e||"launcher"===e?t:e},e.PositionUtils._normalizeEventForPosition=function(e){t.each(["pageX","pageY"],function(t,i){if(e&&void 0===e[i]&&e.originalEvent){var n,r=e.originalEvent,o=r.type;if(n="touchstart"===o||"touchmove"===o?"touches":"touchend"===o?"changedTouches":null){var s=r[n][0];s&&(e[i]=s[i])}}})},e.PositionUtils._ALIGN_RULE_PROPERTIES=["my","at"],e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],e.PositionUtils.isAligningPositionClipped=function(t){if(t.target&&t.target.height>0&&t.target.width>0){var i=t.target.element;return!e.PositionUtils.isWithinViewport(i)}return!1},e.PositionUtils.isWithinViewport=function(i){function n(t,i){var n;if(["hidden","scroll","auto"].indexOf(i.overflowY)>-1){if(t.bottom-i.top<-1)return!1;if(n="auto"===i.overflowX&&i.scrollWidth>i.innerWidth||"scroll"===i.overflowX?e.DomUtils.getScrollBarWidth():0,i.bottom-n-t.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(i.overflowX)>-1&&(n="auto"===i.overflowY&&i.scrollHeight>i.innerHeight||"scroll"===i.overflowY?e.DomUtils.getScrollBarWidth():0,t.right-(i.left+("rtl"===e.DomUtils.getReadingDirection()?n:0))<-1||t.left-(i.right-("ltr"===e.DomUtils.getReadingDirection()?n:0))>-1))}function r(e){var i=e[0];if(1===i.nodeType){var n=t.extend({},i.getBoundingClientRect());return n.overflowX=e.css("overflow-x"),n.overflowY=e.css("overflow-y"),n.innerHeight=e.innerHeight(),n.innerWidth=e.innerWidth(),n.scrollHeight=i.scrollHeight,n.scrollWidth=i.scrollWidth,n}return{height:0,width:0}}function o(t){return["fixed","absolute","relative"].indexOf(t.css("position"))>-1&&(Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("top")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("bottom")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("left")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("right")))>0)}if(!i)return!1;if(t.isWindow(i[0])||o(i))return!0;for(var s,a=r(i),l=!0,u=i.parent();l&&u&&u.length>0&&"BODY"!==u[0].nodeName&&1===u[0].nodeType&&!o(u);){if("visible"!==(s=u).css("overflow-x")||"visible"!==s.css("overflow-y")){var c=r(u);c.height>0&&c.width>0&&(l=n(a,c))}u=u.parent()}return l},e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},e.PositionUtils._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",e.PositionUtils.captureTransformOriginAnimationEffectsOption=function(t,i){var n=[i.horizontal,i.vertical].join("-");t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA,n)},e.PositionUtils.addTransformOriginAnimationEffectsOption=function(t,i){var n,r;e.StringUtils.isString(i)?(r=!0,n=i):(r=!1,n=JSON.stringify(i));var o=/#myPosition/g;if(n.match(o)){var s=t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA);e.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var a=e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES[s];n=n.replace(o,a),i=r?n:JSON.parse(n)}return i},e.PositionUtils._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,e.PositionUtils._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,e.PositionUtils._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,e.PositionUtils._parsePositionNmnemonic=function(t,i){var n=[null,Number.NaN],r=e.PositionUtils._JQUI_MNEMONIC_GRP_REGX.exec(t);if(r[1]&&i.test(r[1])&&(n[0]=r[1],r[2])){var o=parseInt(r[3],10);isNaN(o)||(o*="-"===r[2]?-1:1,n[1]=o)}return n},e.PositionUtils._parseJSON=function(t){if(e.StringUtils.isString(t)&&/^{/.test(t)&&/}$/.test(t))try{return JSON.parse(t)}catch(e){}return null},e.PositionUtils._coerceMyAtToJet=function(i,n,r,o){var s=e.PositionUtils._parseJSON(n);s&&(n=s),(s=e.PositionUtils._parseJSON(r))&&(r=s),o||(o={});var a,l=t.extend({},o),u={x:0,y:0};if(r&&"x"in r&&"y"in r&&(u.x=e.DomUtils.getCSSLengthAsInt(r.x),u.y=e.DomUtils.getCSSLengthAsInt(r.y)),e.StringUtils.isString(n)){var c=n.split(/\s/);c.length>0&&!e.StringUtils.isEmpty(c[0])&&(a=e.PositionUtils._parsePositionNmnemonic(c[0],e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(l.horizontal=a[0],isNaN(a[1])||(u.x=a[1])),c.length>1&&!e.StringUtils.isEmpty(c[1])&&(a=e.PositionUtils._parsePositionNmnemonic(c[1],e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(l.vertical=a[0],isNaN(a[1])||(u.y=a[1]))}else n&&("horizontal"in n&&(a=e.PositionUtils._parsePositionNmnemonic(n.horizontal,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(l.horizontal=a[0],isNaN(a[1])||(u.x=a[1])),"vertical"in n&&(a=e.PositionUtils._parsePositionNmnemonic(n.vertical,e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(l.vertical=a[0],isNaN(a[1])||(u.y=a[1])));var d={};return d[i]=l,d.offset=u,d},e.PositionUtils._coerceCollisionToJet=function(t,i){var n=i;return e.PositionUtils._COLLISION_ENUM_TST_REGX.test(t)&&(n=t),{collision:n}},e.PositionUtils._coerceOfToJet=function(i,n){var r=e.PositionUtils._parseJSON(i);r&&(i=r);var o=n;return e.StringUtils.isString(i)?o=i:t.isWindow(i)?o="window":i instanceof Element||i instanceof t?((i=t(i)).uniqueId(),o="#"+function(e){for(var t=[],i=/\w|_|-/,n=0;n<e.length;n++){var r=e.substring(n,n+1);i.test(r)?t.push(r):t.push("\\"+r)}return t.join("")}(i.attr("id"))):i instanceof Event||i instanceof t.Event?("pageX"in i||"pageY"in i)&&((o={}).x=e.DomUtils.getCSSLengthAsFloat(i.pageX),o.y=e.DomUtils.getCSSLengthAsFloat(i.pageY)):i&&("x"in i||"y"in i)&&((o={}).x=e.DomUtils.getCSSLengthAsFloat(i.x),o.y=e.DomUtils.getCSSLengthAsFloat(i.y)),{of:o}},e.PositionUtils.coerceToJet=function(i,n){i||(i={});var r=e.PositionUtils._parseJSON(i);r&&(i=r),n||(n={});var o=n.my,s=n.at,a=n.collision,l=n.of,u=e.PositionUtils._coerceMyAtToJet("my",i.my,i.offset,o),c=e.PositionUtils._coerceMyAtToJet("at",i.at,null,s),d={offset:{x:u.offset.x+c.offset.x,y:u.offset.y+c.offset.y}};return delete u.offset,delete c.offset,t.extend({},u,c,d,e.PositionUtils._coerceCollisionToJet(i.collision,a),e.PositionUtils._coerceOfToJet(i.of,l),function(e,i){return{using:t.isFunction(e)?e:i}}(i.using,void 0))},e.PositionUtils.coerceToJqUi=function(i){function n(e,t){var n=[];if(i[e][t]?n.push(i[e][t]):n.push("center"),"my"===e&&i.offset){var r="horizontal"===t?"x":"y",o=i.offset[r];isNaN(o)||0===o||(n.push(o>0?"+":""),n.push(Math.floor(o).toString()))}return n.join("")}var r={};["my","at"].forEach(function(e){if(i[e]){var t=[];t.push(n(e,"horizontal")),t.push(" "),t.push(n(e,"vertical")),r[e]=t.join("")}});var o=i.of;if(e.StringUtils.isString(o))r.of="window"===o?window:o;else if(o&&!e.StringUtils.isString(o)&&"x"in o&&"y"in o){var s=o.x,a=o.y,l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,s,a,s,a,!1,!1,!1,!1,0,null),r.of=t.Event(l,{pageX:s,pageY:a})}else r.of=o;return i.collision&&(r.collision=i.collision),i.using&&(r.using=i.using),r},t.ui.position.flipcenter={left:function(i,n){var r=i.left;t.ui.position.flip.left.call(this,i,n);var o=n.within,s=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,l=i.left-n.collisionPosition.marginLeft,u=s-l,c=l+n.collisionWidth-a-s;(u>0||c>0)&&("right"===n.at[0]?r-=n.targetWidth/2:"left"===n.at[0]&&(r+=n.targetWidth/2),r-=("rtl"===e.DomUtils.getReadingDirection()?-1:1)*(n.elemWidth/2),i.left=Math.max(0,r))},top:function(e,i){var n=e.top;t.ui.position.flip.top.call(this,e,i);var r=i.within,o=r.isWindow?r.scrollTop:r.offset.top,s=i.within.height,a=e.top-i.collisionPosition.marginTop,l=o-a,u=a+i.collisionHeight-s-o;(l>0||u>0)&&("top"===i.at[1]?n+=i.targetHeight/2:"bottom"===i.at[1]&&(n-=i.targetHeight/2),n+=i.elemHeight/2,e.top=Math.max(0,n))}};var o=t.ui.position.flip.left;t.ui.position.flip={left:o.bind(this),top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-a,c=l+t.collisionHeight-s-a;i="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,n="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0;var d,p,h=-2*t.offset[1];u<0?((d=e.top+i+n+h+t.collisionHeight-s-o)<0||d<Math.abs(u))&&c<0&&u>c&&(e.top+=i+n+h):c>0&&((p=e.top-t.collisionPosition.marginTop+i+n+h-a)>0||Math.abs(p)<c)&&(e.top+=i+n+h)}}}),define("ojs/ojpopup",["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","promise","ojs/ojpopupcore"],function(e,t,i,n,r,o){"use strict";var s,a,l={properties:{autoDismiss:{type:"string",enumValues:["focusLoss","none"],value:"focusLoss"},chrome:{type:"string",enumValues:["default","none"],value:"default"},initialFocus:{type:"string",enumValues:["auto","firstFocusable","none","popup"],value:"auto"},modality:{type:"string",enumValues:["modal","modeless"],value:"modeless"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"bottom"}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flip"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},tail:{type:"string",enumValues:["none","simple"],value:"none"},translations:{type:"object",value:{},properties:{ariaCloseSkipLink:{type:"string"},ariaFocusSkipLink:{type:"string"},ariaLiveRegionInitialFocusFirstFocusable:{type:"string"},ariaLiveRegionInitialFocusFirstFocusableTouch:{type:"string"},ariaLiveRegionInitialFocusNone:{type:"string"},ariaLiveRegionInitialFocusNoneTouch:{type:"string"}}}},methods:{open:{},close:{},isOpen:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojBeforeOpen:{},ojOpen:{},ojBeforeClose:{},ojClose:{},ojFocus:{},ojAnimateStart:{},ojAnimateEnd:{}},extension:{}};s=["oj-left","oj-center","oj-right","oj-top","oj-middle","oj-bottom"],a={"right-top":"oj-right oj-top","right-middle":"oj-right oj-middle","right-bottom":"oj-right oj-bottom","left-top":"oj-left oj-top","left-middle":"oj-left oj-middle","left-bottom":"oj-left oj-bottom","center-top":"oj-center oj-top","center-middle":"oj-left oj-middle","center-bottom":"oj-center oj-bottom"},e.__registerWidget("oj.ojPopup",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{animation:null,autoDismiss:"focusLoss",chrome:"default",initialFocus:"auto",position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flip"},tail:"none",modality:"modeless",role:"tooltip",beforeOpen:null,open:null,beforeClose:null,close:null,focus:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var i=this._getRootStyle(),n=this.element;n.hide().addClass(i).attr("aria-hidden","true"),n.addClass("oj-component");var r=t("<div>");r.addClass([i,"content"].join("-")),r.attr("role","presentation"),r.append(n[0].childNodes),r.appendTo(n),this._content=r,this._setChrome(),this._setupFocus(n);var o=this.options;o.position=e.PositionUtils.coerceToJet(o.position)},_AfterCreate:function(){this._super(),this.element.uniqueId(),this._createTail()},_destroy:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyTail(),delete this._popupServiceEvents;var t=this.element;t.hide().attr("aria-hidden","true").removeUniqueId();var i=this._content;delete this._content,t.append(i[0].childNodes),i.remove();var n=this._closeDelayTimer;n&&(delete this._closeDelayTimer,n()),this._super()},open:function(t,i){if(!this._isOperationPending("open",[t,i])){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly();var n=this.element,r=e.ZOrderUtils.getStatus(n);if(r===e.ZOrderUtils.STATUS.CLOSE||r===e.ZOrderUtils.STATUS.UNKNOWN)if(e.ZOrderUtils.setStatus(n,e.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen")){this._setWhenReady("open"),this._setLauncher(t);var o=this._launcher,s=this.options;(i=i||s.position).of||(this._hasPositionOfLauncherOverride=!0,i.of=o),this._setPosition(i),this._setAutoDismiss(s.autoDismiss),this._addDescribedBy(),this._IsCustomElement()&&n[0].hasAttribute("role")||n.attr("role",s.role);var a=this._getPositionAsJqUi(),l=this._getRootStyle(),u=[l,"layer"].join("-"),c=s.tail;"none"!==c&&(u+=" "+[l,"tail",c].join("-"));var d={};d[e.PopupService.OPTION.POPUP]=n,d[e.PopupService.OPTION.LAUNCHER]=o,d[e.PopupService.OPTION.POSITION]=a,d[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),d[e.PopupService.OPTION.LAYER_SELECTORS]=u,d[e.PopupService.OPTION.MODALITY]=s.modality,d[e.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),e.PopupService.getInstance().open(d)}else e.ZOrderUtils.setStatus(this.element,r)}},_beforeOpenHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],n=t[e.PopupService.OPTION.POSITION];i.show(),i.position(n);var r=this.options.animation;if(r&&r.open){var s=r.actionPrefix,a=s?[s,"open"].join("-"):"open";return o.startAnimation(i[0],a,e.PositionUtils.addTransformOriginAnimationEffectsOption(i,r.open),this)}},_afterOpenHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],n=t[e.PopupService.OPTION.LAUNCHER];this._initVoiceOverAssist(),this._trigger("open"),this._intialFocus(),this._on(i,{keydown:this._keyHandler}),n&&n.length>0&&this._on(n,{keydown:this._keyHandler})},_GetContextMenu:function(){if(!this._IsCustomElement())return this._super();var t=e.BaseCustomElementBridge.getSlotMap(this._content[0]).contextMenu;return t&&t.length>0?t[0]:void 0},close:function(){if(!this._isOperationPending("close",[])){var t=this.element,i=e.ZOrderUtils.getStatus(t);if(i===e.ZOrderUtils.STATUS.OPEN)if(e.ZOrderUtils.setStatus(t,e.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose")||this._ignoreBeforeCloseResultant){this._setWhenReady("close");var n=this._launcher;this._off(t,"keydown"),n&&n.length>0&&this._off(n,"keydown"),this._restoreFocus(),this._destroyVoiceOverAssist();var r={};r[e.PopupService.OPTION.POPUP]=t,e.PopupService.getInstance().close(r)}else e.ZOrderUtils.setStatus(t,i)}},_beforeCloseHandler:function(t){var i=t[e.PopupService.OPTION.POPUP],n=this.options.animation;if(!this._ignoreBeforeCloseResultant&&n&&n.close){var r=n.actionPrefix,s=r?[r,"close"].join("-"):"close";return o.startAnimation(i[0],s,e.PositionUtils.addTransformOriginAnimationEffectsOption(i,n.close),this).then(function(){i.hide()})}i.hide()},_afterCloseHandler:function(e){this._removeDescribedBy(),this._setAutoDismiss(),delete this._launcher,this._trigger("close"),this._hasPositionOfLauncherOverride&&(this.options.position.of=null,delete this._hasPositionOfLauncherOverride)},isOpen:function(){var t=e.ZOrderUtils.getStatus(this.element);return t===e.ZOrderUtils.STATUS.OPENING||t===e.ZOrderUtils.STATUS.OPEN||t===e.ZOrderUtils.STATUS.BEFORE_CLOSE||t===e.ZOrderUtils.STATUS.CLOSING},refresh:function(){if(this._super(),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._reposition()){var t=this.element;e.PopupService.getInstance().triggerOnDescendents(t,e.PopupService.EVENT.POPUP_REFRESH)}},_setOption:function(t,i){var n=this.options;switch(t){case"tail":i!==n.tail&&this._setTail(i);break;case"chrome":i!==n.chrome&&this._setChrome(i);break;case"position":return this._setPosition(i),void this.refresh();case"autoDismiss":
e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&i!==n.autoDismiss&&this._setAutoDismiss(i);break;case"modality":if(e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var r=this.element,o={};o[e.PopupService.OPTION.POPUP]=r,o[e.PopupService.OPTION.MODALITY]=i,e.PopupService.getInstance().changeOptions(o)}}this._superApply(arguments)},_getRootStyle:function(){return"oj-popup"},_setTail:function(e){this._destroyTail(),this._createTail(e),this._reposition()},_createTail:function(i){var n=i||this.options.tail;if("none"!==n){var r=this._getRootStyle(),o=[r,"tail"].join("-"),s=[o,n].join("-"),a=t("<div>").hide();a.addClass(o).addClass(s),a.attr("role","presentation"),this._tailId=a.attr("id",this._getSubId("tail")).attr("id");var l=this.element;if(a.appendTo(l),l.addClass(s),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var u=[r,"layer"].join("-");u+=" "+s;var c={};c[e.PopupService.OPTION.POPUP]=l,c[e.PopupService.OPTION.LAYER_SELECTORS]=u,e.PopupService.getInstance().changeOptions(c)}}},_getTail:function(){var e=this._tailId;return e?t(document.getElementById(e)):null},_destroyTail:function(){var t=this._getTail();t&&t.remove(),delete this._tailId;var i=this.options.tail,n=this._getRootStyle(),r=[n,"tail",i].join("-"),o=this.element;if(o.removeClass(r),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var s=[n,"layer"].join("-"),a={};a[e.PopupService.OPTION.POPUP]=o,a[e.PopupService.OPTION.LAYER_SELECTORS]=s,e.PopupService.getInstance().changeOptions(a)}},_setChrome:function(e){var t=e||this.options.chrome,i=[this._getRootStyle(),"no-chrome"].join("-"),n=this.element;"default"===t&&n.hasClass(i)?n.removeClass(i):"none"!==t||n.hasClass(i)||n.addClass(i)},_setLauncher:function(i){var n=i;if(n?"string"===t.type(n)?n=t(n):1===n.nodeType&&(n=t(n)):n=t(document.activeElement),n instanceof t&&n.length>1)for(var r=this.element,o=0;o<n.length;o++){var s=n[0];if(!e.DomUtils.isAncestorOrSelf(r[0],s)){n=t(s);break}}else n instanceof t&&!(n instanceof t&&0===n.length)||(n=t(document.activeElement));this._launcher=n},_setPosition:function(t){var i=this.options;t&&(i.position=e.PositionUtils.coerceToJet(t,i.position))},_getPositionAsJqUi:function(){var i=this.options,n=e.PositionUtils.coerceToJqUi(i.position),r="rtl"===this._GetReadingDirection(),o=(n=e.PositionUtils.normalizeHorizontalAlignment(n,r)).using;return o=t.isFunction(o)?o:null,n.using=this._usingHandler.bind(this,o),n},_resolveBusyStateAndCloseImplicitly:function(e){e(),delete this._closeDelayTimer,this._closeImplicitly()},_resolveBusyStateAndCancelDelayedClosure:function(e,t){window.clearTimeout(e),t()},_usingHandler:function(t,n,r){var o=r.element.element;if(n.top!==o.css("top")||n.left!==o.css("left")){var l=this._getTail();if(l){l.hide();for(var u=0;u<s.length;u++)l.removeClass(s[u]),o.removeClass(s[u]);if(l.removeAttr("style"),r.target&&0===r.target.height&&0===r.target.width){var c="rtl"===this._GetReadingDirection(),d=e.PositionUtils.normalizeHorizontalAlignment(this.options.position,c).my;if(!e.StringUtils.isEmptyOrUndefined(d)){var p="center"===d.horizontal?d.horizontal:r.horizontal,h="center"===d.vertical?"middle":d.vertical;r.horizontal=p,r.vertical=h}}var m,f,g=[r.horizontal,r.vertical].join("-"),_=a[g];if(l.addClass(_),o.addClass(_),l.show(),"left"===r.horizontal?(m=l.outerWidth(),m-=m+e.DomUtils.getCSSLengthAsInt(l.css("left")),n.left+=m-2):"right"===r.horizontal&&(m=l.outerWidth(),m-=m+e.DomUtils.getCSSLengthAsInt(l.css("right")),n.left-=m-2),"top"===r.vertical?(f=l.outerHeight(),f-=f+e.DomUtils.getCSSLengthAsInt(l.css(r.vertical)),n.top+=f-2):"bottom"===r.vertical&&(f=l.outerHeight(),f-=f+e.DomUtils.getCSSLengthAsInt(l.css(r.vertical)),n.top-=f-2),o.css(n),"center"===r.horizontal&&"middle"!==r.vertical){var v=o.width(),y=Math.round((v/2-l.outerWidth()/2)/v*100);l.css({left:y+"%"})}else if("middle"===r.vertical){var E=o.height(),b=Math.round((E/2-l.outerHeight()/2)/E*100);l.css({top:b+"%"})}}else o.css(n);if(e.PositionUtils.captureTransformOriginAnimationEffectsOption(o,r),t&&t(n,r),"focusLoss"===this.options.autoDismiss&&e.PositionUtils.isAligningPositionClipped(r)){this._ignoreRestoreFocus=!0;var S=i.getContext(this.element[0]).getBusyContext(),O={description:["ojPopup identified by '",this.element.attr("id"),"' is pending implicit closure."].join("")},C=S.addBusyState(O),T=window.setTimeout(this._resolveBusyStateAndCloseImplicitly.bind(this,C),0);this._closeDelayTimer=this._resolveBusyStateAndCancelDelayedClosure.bind(this,T,C)}}},_reposition:function(){var i=this.element,n=this._getPositionAsJqUi();if(e.StringUtils.isString(n.of)){var r=t(n.of);if(0===r.length)return!1;n.of=r}return i.position(n),!0},_intialFocus:function(e){var t=this._deriveInitialFocus();(e||"none"!==t)&&(this.GetFocusElement().focus(),this._trigger("focus"))},GetFocusElement:function(){var i=document.activeElement;if(i&&this._isFocusInPopup(i))return i;var n,r=this._deriveInitialFocus();if("none"===r&&(r="popup"),"firstFocusable"===r){for(var o=this._content.find(":focusable"),s=0;s<o.length;s++)if(e.FocusUtils.isFocusable(o[s])){n=t(o[s]);break}n||(r="popup")}if("popup"===r){var a=this._closeSkipLink;a?n=a.getLink():(n=this.element).attr("tabindex","-1")}return n[0]},_deriveInitialFocus:function(){var t=this.options,i=t.initialFocus;return"auto"===i&&(i="modal"===t.modality?e.DomUtils.isTouchSupported()?"popup":"firstFocusable":"none"),i},_isFocusInPopup:function(t,i){if(t||(t=document.activeElement),!t)return!1;var n=this.element;return i&&(n=n.parent()),e.DomUtils.isAncestorOrSelf(n[0],t)},_isFocusInLauncher:function(t){t||(t=document.activeElement);var i=this._launcher;return e.DomUtils.isAncestorOrSelf(i[0],t)},_restoreFocus:function(){this._ignoreRestoreFocus?delete this._ignoreRestoreFocus:this._isFocusInPopup(null,!0)&&this._launcher.focus()},_keyHandler:function(e){if(!e.isDefaultPrevented()){var i=this._content,n=e.target;if(e.keyCode===t.ui.keyCode.ESCAPE&&(this._isFocusInPopup(n)||this._isFocusInLauncher(n)))e.preventDefault(),this.close();else if(117===e.keyCode)this._isFocusInPopup(n)?"modeless"===this.options.modality?(e.preventDefault(),this._launcher.focus()):this.close():this._isFocusInLauncher(n)&&(e.preventDefault(),this._intialFocus(!0));else if(e.keyCode===t.ui.keyCode.TAB&&this._isFocusInPopup(n)){var r=i.find(":tabbable");if(r.length>0){var o=r[0],s=r[r.length-1],a=this.element;o!==n&&a[0]!==n||!e.shiftKey?s!==n||e.shiftKey||(e.preventDefault(),s===o?(a.attr("tabindex","-1"),a.focus()):t(o).focus()):(e.preventDefault(),o===s&&o===n?(a.attr("tabindex","-1"),a.focus()):t(s).focus())}else e.preventDefault(),"modeless"===this.options.modality?this._launcher.focus():this.close()}}},_setAutoDismiss:function(t){var i=this._focusLossCallback,n=this._getPopupServiceEvents();if(i&&(delete n[e.PopupService.EVENT.POPUP_AUTODISMISS],delete this._focusLossCallback),"focusLoss"===t&&(i=this._dismissalHandler.bind(this),this._focusLossCallback=i,n[e.PopupService.EVENT.POPUP_AUTODISMISS]=i),e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var r=this.element,o={};o[e.PopupService.OPTION.POPUP]=r,o[e.PopupService.OPTION.EVENTS]=n,e.PopupService.getInstance().changeOptions(o)}},_dismissalHandler:function(t){if(e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var i=this._launcher,n=this.element.parent(),r=t.target,o=this._focusSkipLink;if(o){var s=o.getLink();if(s&&e.DomUtils.isAncestorOrSelf(s[0],r))return}if(!e.DomUtils.isAncestorOrSelf(i[0],r)&&!e.DomUtils.isAncestorOrSelf(n[0],r)){if(e.FocusUtils.isFocusable(r)){if("mousedown"===t.type||"touchstart"===t.type)return;this._ignoreRestoreFocus=!0}this.close()}}},_addDescribedBy:function(){var e=this._launcher,i=this.element.attr("id"),n=e.attr("aria-describedby"),r=n?n.split(/\s+/):[];r.push(i),n=t.trim(r.join(" ")),e.attr("aria-describedby",n)},_removeDescribedBy:function(){var e=this._launcher,i=this.element;if(e&&0!==e.length){var n=i.attr("id"),r=e.attr("aria-describedby"),o=r?r.split(/\s+/):[],s=t.inArray(n,o);-1!==s&&o.splice(s,1),(r=t.trim(o.join(" ")))?e.attr("aria-describedby",r):e.removeAttr("aria-describedby")}},_initVoiceOverAssist:function(){var t,i=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID,n=this._liveRegion;n||(n=new e.PopupLiveRegion,this._liveRegion=n);var r=this._deriveInitialFocus();if(t=i?this.getTranslatedString("none"===r?"ariaLiveRegionInitialFocusNoneTouch":"ariaLiveRegionInitialFocusFirstFocusableTouch"):this.getTranslatedString("none"===r?"ariaLiveRegionInitialFocusNone":"ariaLiveRegionInitialFocusFirstFocusable"),n.announce(t),i){var o=this._getSubId("focusSkipLink"),s=this._launcher,a=this._intialFocus.bind(this,!0);t=this.getTranslatedString("ariaFocusSkipLink"),this._focusSkipLink=new e.PopupSkipLink(s,t,a,o);var l=this._content,u=this._getSubId("closeSkipLink");a=this._closeImplicitly.bind(this),t=this.getTranslatedString("ariaCloseSkipLink"),this._closeSkipLink=new e.PopupSkipLink(l,t,a,u)}},_destroyVoiceOverAssist:function(){this._liveRegion.destroy(),delete this._liveRegion;var e=this._focusSkipLink;e&&(e.destroy(),delete this._focusSkipLink);var t=this._closeSkipLink;t&&(t.destroy(),delete this._closeSkipLink)},_getSubId:function(t){var i=this.element.attr("id");return e.StringUtils.isEmptyOrUndefined(i)&&(i=this.uuid),[i,t].join("_")},_surrogateRemoveHandler:function(){var t=this.element;e.ZOrderUtils.getStatus(t)===e.ZOrderUtils.STATUS.OPEN&&t.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var t={};this._popupServiceEvents=t,t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojPopup",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_setupFocus:function(e){var i=this;this._focusable({applyHighlight:!0,setupHandlers:function(n,r){i._on(e,{focus:function(e){n(t(e.currentTarget))},blur:function(e){r(t(e.currentTarget))}})}})},_NotifyDetached:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),r.setDefaultOptions({ojPopup:{modality:r.createDynamicPropertyGetter(function(){return(n.parseJSONFromFontFamily("oj-popup-option-defaults")||{}).modality}),animation:r.createDynamicPropertyGetter(function(){return(n.parseJSONFromFontFamily("oj-popup-option-defaults")||{}).animation})}}),l.extension._WIDGET_NAME="ojPopup",e.CustomElementBridge.register("oj-popup",{metadata:l})}),define("ojs/ojlabel",["ojs/ojcore","jquery","hammerjs","ojs/ojlogger","ojs/ojcontext","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojpopup"],function(e,t,i,n,r){"use strict";var o={properties:{for:{type:"string"},help:{type:"object",value:{definition:null,source:null},properties:{definition:{type:"string"},source:{type:"string"}}},labelId:{type:"string"},showRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{tooltipHelp:{type:"string"},tooltipRequired:{type:"string"}}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};e.__registerWidget("oj.ojLabel",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<label>",widgetEventPrefix:"oj",options:{for:null,help:{definition:null,source:null},labelId:null,showRequired:!1,rootAttributes:null},_BUNDLE_KEY:{_TOOLTIP_HELP:"tooltipHelp",_TOOLTIP_REQUIRED:"tooltipRequired"},widget:function(){return this.uiLabel},refresh:function(){this._super(),this._refreshRequired(),this._refreshHelp(),this._addIdsToDom()},_InitOptions:function(e,t){this._super(e,t),this._isCustomElement=this._IsCustomElement(),this._checkRequiredOption()},_ComponentCreate:function(){this._super(),this._touchEatClickNamespace=this.eventNamespace+"TouchEatClick",this._touchEatContextMenuNamespace=this.eventNamespace+"TouchEatContextMenu",this._helpDefPopupNamespace=this.eventNamespace+"HelpDefPopup",this._bTouchSupported=e.DomUtils.isTouchSupported(),this._drawOnCreate()},_AfterCreate:function(){var e,t,i,o=this,s=this.options.for,a=this.options.showRequired;if(this.OuterWrapper&&(e=this.OuterWrapper.getAttribute("data-oj-input-id"),t=this.OuterWrapper.getAttribute("data-oj-set-id")),e?this.element[0].setAttribute("for",e):t&&(this._targetElement=document.getElementById(t),i=this._targetElement,this._needsHelpIcon()&&o._addHelpSpanIdOnTarget(o.helpSpanId,i),o.options.showRequired&&o._addRequiredDescribedByOnCustomFormElement(i)),s&&this._isCustomElement){var l=r.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label id='"+this.OuterWrapper.id+"' is looking for its form component with id "+s});setTimeout(function(){if(o._targetElement=document.getElementById(s),o._targetElement){if(i=o._targetElement,o._needsHelpIcon()&&o._addHelpSpanIdOnTarget(o.helpSpanId,i),a&&o._addRequiredDescribedByOnCustomFormElement(i),!e)if(o._isElementCustomElement(i)){var t=o.OuterWrapper.id;o._addElementAttribute(i,t,"labelled-by")}else o.element[0].setAttribute("for",s)}else n.info("could not find an element with forOption "+s);l()},0)}else this._isCustomElement&&this.options.labelId&&(this._targetElement=this._getTargetElementFromLabelledAttr("aria-labelledby",this.options.labelId),(i=this._targetElement)&&this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,i))},_SaveAttributes:function(e){this._IsCustomElement()||(this._savedClasses=e.attr("class"))},_RestoreAttributes:function(){this._IsCustomElement()||(this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class"))},_NotifyDetached:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_NotifyHidden:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_GetTranslationsSectionName:function(){return this._IsCustomElement(),"oj-ojLabel"},_WatchedAttributeChanged:function(e,t,i){switch(this._superApply(arguments),e){case"data-oj-input-id":this.element[0].setAttribute("for",i);break;case"data-oj-set-id":this._targetElement=document.getElementById(i);var n=this._targetElement,o=this._needsHelpIcon(),s=this.options.showRequired;if(o||s){var a=r.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label is writing described-by on its target."}),l=this;setTimeout(function(){o&&l._addHelpSpanIdOnTarget(l.helpSpanId,n),l.options.showRequired&&l._addRequiredDescribedByOnCustomFormElement(n),a()},0)}}},_drawOnCreate:function(){var e,i=null;this.OuterWrapper?(this.uiLabel=t(this.OuterWrapper).append(this.element.wrap(this._createOjLabelGroupDom()).parent()),this.uiLabel.addClass("oj-label oj-component")):this.uiLabel=this.element.wrap(this._createRootDomElement()).closest(".oj-component"),this._addIdsToDom(),e=this.element[0].id,this.helpSpanId=e+"_helpIcon",this.requiredSpanId=e+"_requiredIcon",this._isCustomElement||this._moveLabelStyleClassesToRootDom(),this.options.showRequired&&this._createRequiredIconSpanDom(),this._needsHelpIcon()&&(i=this._createIconSpan(this.helpSpanId,!0),this._createHelp(i))},_addRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._addElementAttribute(e,this.requiredSpanId,"described-by")},_removeRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._removeElementAttribute(e,this.requiredSpanId,"described-by")},_addHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._addElementAttribute(t,e,i)},_removeHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._removeElementAttribute(t,e,i)},_getAriaAttributeForTarget:function(e){return this._isElementCustomElement(e)?"described-by":"group"===e.getAttribute("role")?"aria-labelledby":"aria-describedby"},_getTargetElementFromLabelledAttr:function(e,t){var i;return i="["+e+"~='"+t+"']",document.querySelector(i)},_isElementCustomElement:function(t){return e.Assert.assertDomElement(t),-1!==t.tagName.indexOf("-")},_isElementCustomElementAriaRequiredUnsupported:function(t){var i;e.Assert.assertDomElement(t);var n,r=["oj-radioset","oj-checkboxset"],o=r.length,s=!1;n=t.tagName.toLowerCase();for(var a=0;a<o&&!s;a++)i=r[a],0===n.indexOf(i)&&(s=!0);return s},_addElementAttribute:function(e,t,i){var n,r,o=e.getAttribute(i);-1===(r=o?o.split(/\s+/):[]).indexOf(t)&&r.push(t),n=r.join(" ").trim(),e.setAttribute(i,n)},_removeElementAttribute:function(e,t,i){var n,r,o,s=e.getAttribute(i);-1!==(r=(o=s?s.split(/\s+/):[]).indexOf(t))&&o.splice(r,1),(n=o.join(" ").trim())?e.setAttribute(i,n):e.setAttribute(i,"")},_createHelp:function(e){var i=this.options.help.definition,n=this.options.help.source,r=this._createHelpIconAnchorDomElement(i,n);t(e).prepend(r),this._attachHelpDefToIconAnchor(),this._focusable({element:r,applyHighlight:!0})},_createRequiredIconSpanDom:function(){this._createIconSpan(this.requiredSpanId,!1).appendChild(this._createRequiredIconDomElement())},_checkRequiredOption:function(){var e=this.options.showRequired;if("boolean"!=typeof e)throw new Error("Option 'showRequired' has invalid value set: "+e)},_addIdsToDom:function(){this._isCustomElement&&(this.OuterWrapper.id||t(this.OuterWrapper).uniqueId(),this._refreshLabelId()),null==this.element.attr("id")&&this.element.uniqueId()},_moveLabelStyleClassesToRootDom:function(){var e,t,i,n=this.element.attr("class");if(n){i=(e=n.split(/\s+/)).length;for(var r=0;r<i;r++)(t=e[r]).indexOf("-label")>0&&(this.uiLabel.addClass(t),this.element.removeClass(t))}},_createIconSpan:function(e,t){var i=document.createElement("span");return i.setAttribute("id",e),t?this.uiLabel.find(".oj-label-group").prepend(i):this.element.before(i),i},_createRootDomElement:function(){var e,t,i=this.options.rootAttributes,n="oj-label oj-component";return i&&(e=i.class),e&&(n=n+" "+e),(t=document.createElement("div")).className=n,t.appendChild(this._createOjLabelGroupDom()),t},_createOjLabelGroupDom:function(){var e;return(e=document.createElement("div")).className="oj-label-group",e},_createRequiredIconDomElement:function(){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),t=document.createElement("span");return t.className="oj-label-required-icon oj-component-icon",t.setAttribute("role","img"),t.setAttribute("title",e),t.setAttribute("aria-label",e),t},_createHelpIconAnchorDomElement:function(t,i){var n;if((n=document.createElement("a")).setAttribute("tabindex","0"),n.setAttribute("target","_blank"),n.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext",i)try{e.DomUtils.validateURL(i),n.setAttribute("href",i)}catch(e){throw new Error(e+". The source option ("+i+") is invalid.")}else n.setAttribute("role","img");return t?n.setAttribute("aria-label",t):n.setAttribute("aria-label",this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP)),n},_attachHelpDefToIconAnchor:function(){var e,t,i,n=this;0!==(t=this.widget().find(".oj-label-help-icon-anchor")).length&&(this._bTouchSupported&&(this._eatClickOnHelpIconListener&&this.widget().off(this._touchEatClickNamespace),this._eatClickOnHelpIconListener=function(){return!1},t.on("contextmenu"+this._touchEatContextMenuNamespace,!1)),this._openPopupForHelpDefCallbackListener=function(r){null==e&&(e=n._createHelpDefPopupDiv(),i={my:"start bottom",at:"end top",collision:"flipcenter",of:t},e.ojPopup({position:i,modality:"modeless",animation:{open:null,close:null}})),n._handleOpenHelpDefPopup(r,e,t)},this._closePopupForHelpDefCallbackListener=function(){n._handleCloseHelpDefPopup()},this._addShowHelpDefinitionEventHandlers(t))},_createHelpDefPopupDiv:function(){var e,i,n,r,o=this.options.help.definition;return r=o||this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP),this._helpDefPopupDivId?(n=t(document.getElementById(this._helpDefPopupDivId))).length&&n.find(".oj-help-popup-container").first().text(r):((i=document.createElement("div")).className="oj-help-popup",i.style.display="none",(n=t(i)).uniqueId(),this._helpDefPopupDivId=n.prop("id"),(e=document.createElement("div")).className="oj-help-popup-container",i.appendChild(e),t(e).text(r),document.getElementsByTagName("body")[0].appendChild(i)),n},_addShowHelpDefinitionEventHandlers:function(t){var n;t.on("focusin"+this._helpDefPopupNamespace+" mouseenter"+this._helpDefPopupNamespace,this._openPopupForHelpDefCallbackListener),t.on("mouseleave"+this._helpDefPopupNamespace,this._closePopupForHelpDefCallbackListener),this._bTouchSupported&&(this.options.help.source?(n={recognizers:[[i.Press,{time:e.DomUtils.PRESS_HOLD_THRESHOLD}]]},t.ojHammer(n),this._on(t,{press:this._openPopupForHelpDefCallbackListener})):(n={recognizers:[[i.Tap],[i.Press,{time:e.DomUtils.PRESS_HOLD_THRESHOLD}]]},t.ojHammer(n),this._on(t,{press:this._openPopupForHelpDefCallbackListener,tap:this._openPopupForHelpDefCallbackListener})))},_handleOpenHelpDefPopup:function(t,i,n){if(!i.ojPopup("isOpen"))if(this._bTouchSupported){if("press"===t.type){var r=this.widget();r.on("click"+this._touchEatClickNamespace,this._eatClickOnHelpIconListener);var o=this;i.on("ojclose",function(){r.off(o._touchEatClickNamespace)})}else i.off("ojclose");"press"!==t.type&&"tap"!==t.type&&(e.DomUtils.recentTouchStart()||"focusin"!==t.type&&"mouseenter"!==t.type)||i.ojPopup("open",n)}else i.ojPopup("open",n)},_handleCloseHelpDefPopup:function(){null!=this._helpDefPopupDivId&&t(document.getElementById(this._helpDefPopupDivId)).ojPopup("close")},_removeHelpDefIconEventListeners:function(e){this._bTouchSupported&&(this.widget().off(this._touchEatClickNamespace),e.off(this._touchEatContextMenuNamespace),this._eatClickOnHelpIconListener=null,this._eatContextMenuOnHelpIconListener=null,e.ojHammer("destroy")),e.off(this._helpDefPopupNamespace),this._openPopupForHelpDefCallbackListener=null,this._closePopupForHelpDefCallbackListener=null},_removeHelpDefPopup:function(){var e;null!=this._helpDefPopupDivId&&((e=t(document.getElementById(this._helpDefPopupDivId)))&&(e.ojPopup("destroy"),e.remove()),this._helpDefPopupDivId=null)},_needsHelpIcon:function(){var e,t,i=this.options,n=i.help.source;return(t=""!==n&&null!=n)||(t=""!==(e=i.help.definition)&&null!=e),t},_refreshHelp:function(){var e,t,i=this.helpSpanId,n=this._targetElement;1===(t=this.uiLabel.find(".oj-label-help-icon")).length&&(this._removeHelpDefIconEventListeners(t),this._removeHelpDefPopup(),t.remove()),e=document.getElementById(i),this._needsHelpIcon()?(null==e&&(e=this._createIconSpan(i,!0)),this._createHelp(e),this._isCustomElement&&this._addHelpSpanIdOnTarget(i,n)):null!==e&&(e.parentNode.removeChild(e),this._isCustomElement&&this._removeHelpSpanIdOnTarget(i,n))},_refreshRequired:function(){var e,t,i=this.requiredSpanId;e=document.getElementById(i),this.options.showRequired?e?(t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),this.uiLabel.find(".oj-label-required-icon").attr("title",t)):(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement(this._targetElement)):(null!==(e=document.getElementById(i))&&e.parentNode.removeChild(e),this._isCustomElement&&this._removeRequiredDescribedByOnCustomFormElement(this._targetElement))},_refreshFor:function(e,t){var i=this.element[0],n=this.OuterWrapper.id;if(e){i.removeAttribute("for"),this.OuterWrapper.removeAttribute("data-oj-input-id");var r=document.getElementById(e);if(r){var o=r.getAttribute("labelled-by");if(o)if(o===n)r.removeAttribute("labelled-by");else{var s=o.split(/\s+/).filter(function(e){return e!==n}).join(" ");r.setAttribute("labelled-by",s)}}}if(this._targetElement=document.getElementById(this.options.for),this._targetElement){var a=this._targetElement;this._isElementCustomElement(a)?(this._addElementAttribute(a,n,"labelled-by"),this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,a),this.options.showRequired&&this._addRequiredDescribedByOnCustomFormElement(a)):i.setAttribute("for",t)}},_refreshLabelId:function(){var e,t;(e=this.options.labelId)?this.element.attr("id",e):(t=this.uiLabel.attr("id"))&&this.element.attr("id",t+"|label")},_setOption:function(e,t){var i=this.options[e];switch(this._superApply(arguments),e){case"showRequired":this._refreshRequired();break;case"help":this._refreshHelp();break;case"for":this._isCustomElement&&this._refreshFor(i,t);break;case"labelId":this._refreshLabelId()}},getNodeBySubId:function(e){var t;return(t=this._super(e))||"oj-label-help-icon"===e.subId&&(t=this.widget().find(".oj-label-help-icon")[0]),t||null},getSubIdByNode:function(e){var t=null;return null!=e&&e===this.widget().find(".oj-label-help-icon")[0]&&(t={subId:"oj-label-help-icon"}),t||this._superApply(arguments)},_destroy:function(){var t=this.uiLabel.find(".oj-label-help-icon");return this._removeHelpDefIconEventListeners(t),this._removeHelpDefPopup(),this.helpSpanId=null,this.requiredSpanId=null,this._isCustomElement=null,e.DomUtils.unwrap(this.element,this.uiLabel),this._super()}}),o.extension._WIDGET_NAME="ojLabel",o.extension._INNER_ELEM="label",o.extension._GLOBAL_TRANSFER_ATTRS=["accesskey"],o.extension._WATCHED_ATTRS=["data-oj-input-id","data-oj-set-id"],e.CustomElementBridge.register("oj-label",{metadata:o})}),define("ojs/ojlabelledbyutils",["ojs/ojcore","jquery","ojs/ojlabel"],function(e,t){"use strict";var i={CUSTOM_LABEL_ELEMENT_ID:"|label",_updateLabelledBy:function(e,t,n,r){var o,s,a,l,u=i.CUSTOM_LABEL_ELEMENT_ID;if(this._IsCustomElement())if(!t&&n)for(s=n.split(/\s+/),l=0;l<s.length;l++)o=s[l],i._addAriaLabelledBy(r,o+u),i._addSetIdOnLabel(o,e.id);else if(t&&!n)for(s=t.split(/\s+/),l=0;l<s.length;l++)o=s[l],i._removeAriaLabelledBy(r,o+u),i._removeDescribedByWithPrefix(e,o+"|");else if(t&&n){for(s=n.split(/\s+/),a=t.split(/\s+/),l=0;l<a.length;l++)o=a[l],-1===n.indexOf(o)&&(i._removeAriaLabelledBy(r,o+u),i._removeDescribedByWithPrefix(e,o+"|"));for(l=0;l<s.length;l++)o=s[l],-1===t.indexOf(o)&&(i._addAriaLabelledBy(r,o+u),i._addSetIdOnLabel(o,e.id))}},_addAriaLabelledBy:function(e,t){e.each(function(){var e,i=this.getAttribute("aria-labelledby");e=i?i.split(/\s+/):[],-1===e.indexOf(t)&&e.push(t),null==(i=e.join(" ").trim())?this.removeAttribute("aria-labelledBy"):this.setAttribute("aria-labelledBy",i)})},_addSetIdOnLabel:function(e,t){var i=document.getElementById(e);i&&!i.getAttribute("data-oj-set-id")&&i.setAttribute("data-oj-set-id",t)},_removeAriaLabelledBy:function(e,t){var i;e.each(function(){var e,n;-1!==(e=(n=(i=this.getAttribute("aria-labelledby"))?i.split(/\s+/):[]).indexOf(t))&&n.splice(e,1),(i=n.join(" ").trim())?this.setAttribute("aria-labelledby",i):this.removeAttribute("aria-labelledby")})},_removeDescribedByWithPrefix:function(e,t){var i;(i=((i=e.getAttribute("described-by"))?i.split(/\s+/):[]).filter(function(e){return-1===e.indexOf(t)}).join(" ").trim())?e.setAttribute("described-by",i):e.removeAttribute("described-by")},_updateDescribedBy:function(e,t){var i,n,r,o;if(this._IsCustomElement())if(!e&&t)for(n=t.split(/\s+/),o=0;o<n.length;o++)i=n[o],this._addAriaDescribedBy(i);else if(e&&!t)for(n=e.split(/\s+/),o=0;o<n.length;o++)i=n[o],this._removeAriaDescribedBy(i);else if(e&&t){for(n=t.split(/\s+/),r=e.split(/\s+/),o=0;o<r.length;o++)i=r[o],-1===t.indexOf(i)&&this._removeAriaDescribedBy(i);for(o=0;o<n.length;o++)i=n[o],-1===e.indexOf(i)&&this._addAriaDescribedBy(i)}},_addAriaDescribedBy:function(e){this._GetContentElement().each(function(){var t,i=this.getAttribute("aria-describedby");t=i?i.split(/\s+/):[],-1===t.indexOf(e)&&t.push(e),null==(i=t.join(" ").trim())?this.removeAttribute("aria-describedby"):this.setAttribute("aria-describedby",i)})},_removeAriaDescribedBy:function(e){this._GetContentElement().each(function(){var t,i,n;-1!==(i=(n=(t=this.getAttribute("aria-describedby"))?t.split(/\s+/):[]).indexOf(e))&&n.splice(i,1),(t=n.join(" ").trim())?this.setAttribute("aria-describedby",t):this.removeAttribute("aria-describedby")})}};return i}),define("ojs/ojeditablevalue",["ojs/ojcore","jquery","hammerjs","ojs/ojtranslation","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojmessaging","ojs/ojvalidation-base","ojs/ojlogger","ojs/ojlabelledbyutils","ojs/ojjquery-hammer","promise","ojs/ojpopup","ojs/ojlabel"],function(e,t,i,n,r,o,s,a,l,u,c,d){"use strict";e.EditableValueUtils={},e.EditableValueUtils.validationContext={COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11},e.EditableValueUtils.validateMethodOptions={doValueChangeCheck:!1,validationContext:e.EditableValueUtils.validationContext.VALIDATE_METHOD},e.EditableValueUtils.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.CONVERTER_OPTION_CHANGE},e.EditableValueUtils.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.DISABLED_OPTION_CHANGE},e.EditableValueUtils.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.REQUIRED_OPTION_CHANGE},e.EditableValueUtils.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.READONLY_OPTION_CHANGE},e.EditableValueUtils.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.REFRESH_METHOD},e.EditableValueUtils.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:e.EditableValueUtils.validationContext.VALIDATORS_OPTION_CHANGE},e.EditableValueUtils.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},e.EditableValueUtils.getAttributeValue=function(e,t){var i,n={};if(e&&t){var r=e[0];switch(t){case"disabled":i=r.hasAttribute("disabled")?!!r.disabled:void 0;break;case"pattern":i=r.pattern||void 0;break;case"placeholder":i=r.placeholder||void 0;break;case"readonly":i=r.hasAttribute("readonly")?!!r.readOnly:void 0;break;case"required":if(r.hasAttribute("required")){var o=r.required;i=void 0===o||!!o}else i=void 0;break;case"title":i=r.hasAttribute("title")?r.title:void 0;break;case"value":i=e.val()||void 0;break;case"min":case"max":default:i=r.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},e.EditableValueUtils.initializeOptionsFromDom=function(t,i,n,r){for(var o={},s=0;s<t.length;s++){var a,l,u=t[s],c=u.attribute,d=u.option||c,p=u.coerceDomValue,h=u.validateOption,m=n.element,f=n.options[d];void 0===i[d]&&(f=n.options[d],(l=e.EditableValueUtils.getAttributeValue(m,c)).fromDom&&(a=l.value,p&&("boolean"==typeof p?a=e.EditableValueUtils.coerceDomValueForOption(d,a):"function"==typeof p&&(a=p.call(n,a))),o[d]=a));var g=d in o?o[d]:f;h&&"boolean"==typeof h&&e.EditableValueUtils.validateValueForOption(d,g)}null!=r&&r(o),n.option(o,{_context:{writeback:!0,internalSet:!0}})},e.EditableValueUtils.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":null!==t&&"boolean"!=typeof t&&(i=!0);
break;case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},e.EditableValueUtils.coerceDomValueForOption=function(e,t){var i=t;switch(e){case"required":i=!!t}return i},e.EditableValueUtils.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),r=0,o=n.length;r<o;++r)e[0].classList.add(n[r]);var s=t.style;if(s){var a=e[0],l=a.getAttribute("style");l?a.setAttribute("style",l+";"+s):a.setAttribute("style",s)}}},e.EditableValueUtils.hasNoLabelFlag=function(e){return e[0].hasAttribute("data-oj-no-labelledby")},e.EditableValueUtils._getOjLabelAriaLabelledBy=function(t,i){var n,r=e.EditableValueUtils._getCustomOjLabelElements(t);if(r){n="";for(var o=0;o<r.length;o++){var s=r[o],a=s.getAttribute("label-id");if(!a){var l=s.querySelector("label");l?a=l.getAttribute("id"):(s.setAttribute("label-id",i),a=i)}n+=a,o+1<r.length&&(n+=" ")}}return n},e.EditableValueUtils._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var r=i[n],o=document.getElementById(r);o?t.push(o):c.info("Cannot find oj-label with id "+o)}return t},e.EditableValueUtils._setInputId=function(t,i,n){if(i){e.EditableValueUtils.setSubIdForCustomLabelFor(t,i);var r=e.EditableValueUtils._getCustomOjLabelElements(n);if(r)for(var o=t.id,s=0;s<r.length;s++)r[s].setAttribute("data-oj-input-id",o)}},e.EditableValueUtils._labelledByChangedForInputComp=function(t,i){var n=e.EditableValueUtils._getCustomOjLabelElements(t);if(n)for(var r=0;r<n.length;r++)n[r].setAttribute("data-oj-input-id",i),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},e.EditableValueUtils.validate=function(){var e;if(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()){if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});e=Promise.resolve(e?"valid":"invalid")}return e},e.EditableValueUtils.setSubIdForCustomLabelFor=function(e,t){e.setAttribute("id",t+"|input")},e.EditableValueUtils._refreshRequired=function(e){var t,i,n,r=this._AriaRequiredUnsupported();this._refreshTheming("required",e),r||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),this._IsCustomElement()||(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),r&&(t=this._getAriaLabelledById(this.element))&&(e?this._addAriaDescribedBy(t+"_requiredIcon"):this._removeAriaDescribedBy(t+"_requiredIcon"))))},e.EditableValueUtils._AfterSetOptionRequired=function(t){this._refreshRequired(this._IsRequired()),this._runMixedValidationAfterSetOption(e.EditableValueUtils.requiredOptionOptions)},e.EditableValueUtils._AfterSetOptionValidators=function(){var t;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),t=this._GetDisplayValue(),this._SetValue(t,null,e.EditableValueUtils.validatorsOptionOptions))},e.EditableValueUtils._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},e.EditableValueUtils._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then(function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()})}else this._ResetConverter()},e.EditableValueUtils._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},e.EditableValueUtils._ResetConverter=function(){var t;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),t=this._GetDisplayValue(),this._SetValue(t,null,e.EditableValueUtils.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},e.EditableValueUtils._GetNormalizedValidatorsFromOption=function(){var t,i,n,r,o,s,a=!0,l=[];if(n=this.options.validators)for(t=0;t<n.length;t++)"object"==typeof(i=n[t])?(i.validate&&"function"==typeof i.validate||(a=!1),a||(s=i.type)&&"string"==typeof s&&((o=u.Validation.validatorFactory(s))?((r=e.CollectionUtils.copyInto({},i.options)||{}).converter=r.converter||this._GetConverter(),r.label=r.label||this._getLabelText(),i=o.createValidator(r)):c.error("Unable to locate a validatorFactory for the requested type: "+s)),l.push(i)):c.error("Unable to parse the validator provided:"+i);return l},e.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):c.error("Unable to parse the validator provided:"+t);return n},e.EditableValueUtils._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:(t=u.IntlConverterUtils.getConverterInstance(e))instanceof Promise&&(i=t),i)return i.then(function(e){return n._converter=e,n._converter||null});this._converter=t}return this._converter||null},e.EditableValueUtils._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),o="The page is waiting for async validators for displayValue "+e;i&&i.id&&(o+=' for "'+i.id+'" '),o+="to finish.",t=n.addBusyState({description:o}),this._resolveBusyStateAsyncMap.set(e,t)}},e.EditableValueUtils._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},e.EditableValueUtils._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),o="The page is waiting for async validator hint for counter "+e;i&&i.id&&(o+=' for "'+i.id+'" '),o+="to finish.",t=n.addBusyState({description:o}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},e.EditableValueUtils._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},e.EditableValueUtils._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=r.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},e.EditableValueUtils._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},e.EditableValueUtils._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=o.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},e.EditableValueUtils._SetInputType=function(t){var i="text",n=e.AgentUtils.getAgentInfo();if(n.os===e.AgentUtils.OS.ANDROID||n.os===e.AgentUtils.OS.IOS||n.os===e.AgentUtils.OS.WINDOWSPHONE)if(t.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var r=this._GetConverter();if(r&&r.resolvedOptions){var o=r.resolvedOptions();t.indexOf(o.virtualKeyboardHint)>=0&&(i=o.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)};var p="invalidShown";e.__registerWidget("oj.editableValue",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var i,n,r,o=null;return null!=e&&null!=(i=t(e).closest("a.oj-label-help-icon"))&&null!=(n=i.closest(".oj-label"))&&(r=n.find("label")[0])&&r===this._GetLabelElement()[0]&&(o={subId:"oj-label-help-icon"}),o},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var t,i,n,r=[],o=this.options.messagesHidden,s=o.length>0;for(t=0;t<o.length;t++)(i=o[t])instanceof e.ComponentMessage?(i._forceDisplayToShown(),n=i.clone()):n=new l(i.summary,i.detail,i.severity),r.push(n);s&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",r),this._setValidOption(p,null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:e.EditableValueUtils.validationContext,_VALIDATE_METHOD_OPTIONS:e.EditableValueUtils.validateMethodOptions,_InitOptions:function(e,t){this._super(e,t)},_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach(function(i){i in t&&e.removeAttr(i)})}},_AfterCreate:function(){var t,i,n=this;if(this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this.widget().uniqueId(),this._IsCustomElement()){if(this.options.labelledBy){var r=e.EditableValueUtils._getCustomOjLabelElements(this.options.labelledBy);if(r)for(i=0;i<r.length;i++)r[i].classList.add(this._GetDefaultStyleClass()+"-label")}}else this._createOjLabel();if(t=this.options.describedBy){var o=t.split(/\s+/);for(i=0;i<o.length;i++)this._addAriaDescribedBy(o[i])}this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var s=this._GetConverter();s instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._converterChangedCounter=0,this._loadingConverter(s).then(function(){n._AfterCreateConverterCached(),n._clearBusyStateAsyncConverterLoading()})):(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:function(e){this._IsCustomElement()||this._RestoreAllAttributes(e)},_AfterSetOption:function(t,i){switch(t){case"disabled":this._AfterSetOptionDisabledReadOnly(t,e.EditableValueUtils.disabledOptionOptions);break;case"displayOptions":this._initComponentMessaging();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(t,this.options[t]);break;case"messagesCustom":this._messagesCustomOptionChanged(i),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._placeholderOptionChanged(i);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"value":this._AfterSetOptionValue(t,i)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,r=!1;n&&(r=!!n.originalEvent,i=n.doNotClearMessages||!1),r||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!this.options.disabled},_destroy:function(){var e,i,n=this._super();if(this._clearAllMessages(null,!0),this._getComponentMessaging().deactivate(),this.widget().removeUniqueId(),this.$label)for(i=this.$label.length,e=0;e<i;e++)this.$label[e]&&null!=s.__GetWidgetConstructor(this.$label[e])&&t(this.$label[e]).ojLabel("destroy");return n},GetFocusElement:function(){return this._GetContentElement()[0]},_setOption:function(t,i,n){var r,o,s,a,l=!1;switch(t){case"messagesHidden":case"messagesShown":case"rawValue":l=!0;break;case"describedBy":o=this.options.describedBy,s=i,this._updateDescribedBy(o,s);break;case"labelledBy":if(i){var u=e.EditableValueUtils._getCustomOjLabelElements(i);if(u)for(a=0;a<u.length;a++)u[a].classList.add(this._GetDefaultStyleClass()+"-label")}}return l?(c.error(t+" option cannot be set"),this):(r=this._superApply(arguments),this._AfterSetOption(t,n),r)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){var i;if(this.$label)return this.$label;if(e.EditableValueUtils.hasNoLabelFlag(this.widget()))return null;var n=this._getAriaLabelledByElement(this.element);if(null!==n&&0!==n.length)return n;var r=this.element[0].id;return void 0!==r&&0!==(n=t("label[for='"+r+"']")).length?n:0!==(i=this.element.closest("[aria-labelledby]")).length&&null!==(n=this._getAriaLabelledByElement(i))&&0!==n.length?n:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetConverter:function(){return null},_GetImplicitSyncValidators:function(){return this._implicitSyncValidators||(this._implicitSyncValidators={}),this._implicitSyncValidators},_GetImplicitAsyncValidators:function(){return this._implicitAsyncValidators||(this._implicitAsyncValidators={}),this._implicitAsyncValidators},_GetDisplayValue:function(e){return this._GetContentElement().val()},_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:function(){return[]},_GetAllSyncValidators:function(){var e,t,i,n,r;if(!this._allValidators){e=[],i=this._GetImplicitSyncValidators(),n=[];var o,s=Object.keys(i),a=s.length;if(a>0){for(t=0;t<a;t++)o=s[t],n.push(i[o]);e=e.concat(n)}(r=this._GetNormalizedValidatorsFromOption()).length>0&&(e=e.concat(r)),this._allValidators=e}return this._allValidators||[]},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._allAsyncValidators&&(this._allAsyncValidators.length=0),this._allAsyncValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS))},_getAllAsyncValidators:function(){var e,t,i,n,r;if(!this._allAsyncValidators){e=[],t=this._GetImplicitAsyncValidators(),i=[];var o,s=Object.keys(t),a=s.length;if(a>0){for(n=0;n<a;n++)o=s[n],i.push(t[o]);e=e.concat(i)}(r=this._GetNormalizedAsyncValidatorsFromOption()).length>0&&(e=e.concat(r)),this._allAsyncValidators=e}return this._allAsyncValidators||[]},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._getAllAsyncValidators(),n=[];if(i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=n._getMessagingContent(n._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then(function(){n._clearBusyStateAsyncValidatorHint(e)}))},_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,r=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS);t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,r).then(function(){n._clearBusyStateAsyncValidatorHint(e)})):i.update(r)},_addAsyncValidatorsHintsMessagingContent:function(e,t){function i(e){return e.then(function(e){var i,n={};return a._asyncValidatorHintCounter===r?(null!==e&&(s.push(e),n.validatorHint=t.validatorHint.concat(s),o.update(n)),i="resolved"):i="ignore",{v:e,status:i}},function(e){return{e:e,status:"rejected"}})}var n,r=this._asyncValidatorHintCounter,o=this._getComponentMessaging(),s=[],a=this,l=[];for(n=0;n<e.length;n++)l.push(e[n].hint);return new Promise(function(e){Promise.all(l.map(i)).then(function(){e(s)})})},_IsRequired:function(){return!1},_HandleChangeEvent:function(e){var t=this._GetDisplayValue();this._SetValue(t,e)},_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_Refresh:function(e,t,i){var n,r;switch(e){case"converter":var o=this.options.value;this._refreshComponentDisplayValue(o,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":this._IsCustomElement()||this.$label&&(n=this.options.help.definition,r=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:r}),this._refreshDescribedByForLabel());break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:function(e){this.options.placeholder=e},_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(""),this._SetPlaceholder("")},_SetValue:function(e,t,i){var n,r,o,s=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,a=this,l=!1;return void 0===e?(c.warn("Attempt to set a value of undefined"),!1):(s&&e===a._getLastDisplayValue()?c.level>c.LEVEL_WARN&&c.info((e.toString,e.toString())):(n=e+"_"+(this._asyncValidatorValidateCounter+1),(r=this._AsyncValidate(e,t,i,n))instanceof Promise?l=r.then(function(e){return o=e,a._afterAsyncValidateUpdateValue(e,t,i)}).then(function(){return a._clearBusyState(n),void 0!==o}):(this._afterAsyncValidateUpdateValue(r,t,i),l=void 0!==r)),l)},_ParseValueShowErrors:function(e,t){var i;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",i,t),this._setValidOption(p,t)}},_AsyncValidate:function(e,t,i,n){var r,o,s,a=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,l=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,u=i&&i.doNotClearMessages||!1;if(void 0!==e){if(this._CanSetValue()){u||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,a===this._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),o=this._parseValue(e,t,!0)):o=e,(s=this._asyncValidateValue(o,t,l))instanceof Promise?(this._setBusyState(n),s.then(function(e){if("valid"===e)return o})):s}catch(e){r=this._processValidationErrors(e,l),this._updateMessagesOption("messagesShown",r,t),this._setValidOption(p,t)}}else c.level>c.LEVEL_WARN&&c.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.");return s}c.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,r=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),r=!0),r},_CompareOptionValues:function(t,i,n){return"value"===t||"rawValue"===t?e.Object.compareValues(i,n):0===t.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return e.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{ALL:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var t,i=this.options.messagesShown;t=i.length,this._clearMessages("messagesHidden");for(var n=t-1;n>=0;n--)i[n]instanceof e.ComponentMessage&&i.splice(n,1);i.length!==t&&this._setMessagesOption("messagesShown",i,null,!0)},_setMessagesOption:function(e,t,i,n){var r={},o=0===t.length&&0===this.options[e].length;!n&&o||(r._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(r._context.readOnly=!0),r.changed=n||!o,this._resetValid(),this.option(e,t,r),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};"pending"===e&&"valid"!==this._determineValidFromMessagesOptions()||(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,r=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new l(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,r.push(i);return r},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._addAriaDescribedBy(e+"_helpIcon")}},_refreshDescribedByForLabel:function(){var e,t=this.options.help.definition,i=this.options.help.source,n=this.$label[0];n&&(e=n.id),e&&(null!=i||null!=t?this._addAriaDescribedBy(e+"_helpIcon"):this._removeAriaDescribedBy(e+"_helpIcon"))},_doRefresh:function(){var t,i=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i?(t=this._GetDisplayValue(),this._SetValue(t,null,e.EditableValueUtils.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(e.EditableValueUtils.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){var i=e[0].getAttribute("aria-labelledby");return void 0!==i?t("label[id='"+i+"']"):null},_getAriaLabelledById:function(e){var t=null,i=this._getAriaLabelledByElement(e);return null!==i&&0!==i.length&&(t=i[0].getAttribute("id")),t},_getMessages:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var t=e.EditableValueUtils._getCustomOjLabelElements(this.options.labelledBy),i=null;if(t)for(var n=0;n<t.length;n++)n>0&&(i+=" "),i=t[n].textContent;return i},_getValidityState:function(){return this._validityState?this._validityState:(this._validityState=new e.ComponentValidity(this.isValid(),this._getMessages()),this._validityState)},_hasInvalidMessages:function(){return!l.isValid(this._getMessages())},_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var t,i,n=this.options.messagesShown,r=0;r<n.length;r++)(i=n[r])instanceof e.ComponentMessage&&i._isMessageAddedByComponent()&&(t=t||[]).push(i);return void 0!==t&&!l.isValid(t)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._IsCustomElement()&&(this._initAsyncValidatorMessagingHint(),this._asyncValidatorValidateCounter=0)},_messagesCustomOptionChanged:function(t){var i,n,r=t?t._context:null,o=this.options.messagesCustom,s=this.options.messagesShown,a=[];for(i=0;i<s.length;i++)(n=s[i])instanceof e.ComponentMessage&&n._isMessageAddedByComponent()&&a.push(n);for(i=0;i<o.length;i++)a.push(o[i]);this._setMessagesOption("messagesShown",a,r?r.originalEvent:null,t&&t.changed)},_placeholderOptionChanged:function(e){var t=!(e&&e._context||{}).internalMessagingSet,i=this.options.placeholder;this._SetPlaceholder(i),t?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,r,o;if("object"==typeof t&&Array.isArray(t))for(o=this.options[e],r=t.length,n=0;n<r;n++)o.push(t[n]);this._setMessagesOption(e,o,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,r){var o,s,a=n||{};switch(t&&(a.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:a.writeback=!0,a.doNotClearMessages=!0}if(a.internalSet=!0,r&&r.targetOptions){o={},s=!1;for(var l=0;l<r.targetOptions.length;l++)o[r.targetOptions[l]]=e,s=s||"value"===r.targetOptions[l]}else o={value:e},s=!0;this.option(o,{_context:a}),s&&this._AfterSetOptionValue("value",{_context:a})},_resetValid:function(){this._valid=void 0},_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i="valid";return t&&0!==t.length&&!l.isValid(t)?i=p:e&&0!==e.length&&!l.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&(i.format&&"function"==typeof i.format?t=i.format(e):c.level>c.LEVEL_WARN&&c.info("converter does not support the format method.")),t},_getComponentMessaging:function(){return this._componentMessaging||(this._componentMessaging=new e.ComponentMessaging(this)),this._componentMessaging},_getHintsForAllValidators:function(e){var t,i,n=[],r="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r),t=0;t<e.length;t++)r="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r);return n},_getImplicitRequiredValidator:function(){var t,i,n={};return null==this._implicitReqValidator&&(i={hint:(n=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:n.messageSummary||null,messageDetail:n.messageDetail||null},t=u.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REQUIRED),this._implicitReqValidator=t?t.createValidator(i):null),this._implicitReqValidator},_getMessagingContent:function(e){var t,i,n,r={},o="",s=[];if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n=this._getMessages(),this._getValidityState().update(this.isValid(),n),r.validityState=this._getValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(o=i.getHint()||""),r.converterHint=o),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.ALL&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS||(t=this._GetAllSyncValidators(),s=this._getHintsForAllValidators(t)||[],r.validatorHint=s),e===this._MESSAGING_CONTENT_UPDATE_TYPE.ALL||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var a;if(this._IsCustomElement()){var l=this.options.help;null!=l&&(a=l.instruction)}else a=this.options.title;r.title=a||""}return r},_messagesEquals:function(e,i){var n,r=-1,o=!0,s=t.extend([],e),a=t.extend([],i);return s.length===a.length&&(s.forEach(function(e){e instanceof l?n=e:(n=new l(e.summary,e.detail,e.severity),n=Object.freeze?Object.freeze(n):n),r=-1,a.forEach(function(e,t){l.getSeverityLevel(n.severity)===l.getSeverityLevel(e.severity)&&n.summary===e.summary&&n.detail===e.detail&&(r=t)}),r>-1?a.splice(r,1):o=!1}),o)},_parseValue:function(e,t,i){var n=this._GetConverter(),r=e;if(n&&"object"==typeof n)if(n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption("pending",t),r=n.parse(e)}catch(e){throw e}else c.level>c.LEVEL_WARN&&c.info("converter does not support the parse method.");return r},_addValidationError:function(t,i){var r,o,s,a;t instanceof e.ConverterError||t instanceof e.ValidatorError?(o=(s=t.getMessage()).severity||l.SEVERITY_LEVEL.ERROR,a=s.summary||n.getTranslatedString("oj-message.error"),r=s.detail||n.getTranslatedString("oj-converter.detail")):t.summary||t.detail?(o=l.SEVERITY_LEVEL.ERROR,a=t.summary||n.getTranslatedString("oj-message.error"),r=t.detail||n.getTranslatedString("oj-converter.detail")):(o=l.SEVERITY_LEVEL.ERROR,a=n.getTranslatedString("oj-message.error"),r=t.message||n.getTranslatedString("oj-converter.detail")),i.push({summary:a,detail:r,severity:o})},_processValidationErrors:function(t,i,n){var r,o=[],s=t._messages||[],a={};a.context=i||0,a.display=n||e.ComponentMessage.DISPLAY.SHOWN,0===s.length&&this._addValidationError(t,s);for(var l=0;l<s.length;l++)r=s[l],o.push(this._createComponentMessage(r.summary,r.detail,r.severity,a));return o||null},_createComponentMessage:function(t,i,n,r){var o;return o=new e.ComponentMessage(t,i,n,r),o=Object.seal?Object.seal(o):o},_refreshComponentDisplayValue:function(e,t){var i;return(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]));
},_runDeferredValidation:function(e){this._CanSetValue()?this._validateValueForRequiredOnly(this.options.value,e):c.level>c.LEVEL_WARN&&c.info("Deferred validation skipped as component is readonly or disabled."),this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(r){t||this._afterConverterFormatFailure(r),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=n.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption(p,null)},_loadingConverter:function(t){var i=this,n=e.EditableValueUtils._getShowLoadingDelay(),r=this._converterChangedCounter,o=setTimeout(function(){r===i._converterChangedCounter&&i._SetLoading()},n);return t.then(function(e){return i._ClearLoading(),clearTimeout(o),e})},_validateValueForRequiredOnly:function(t,i){var n,r;if(this._IsRequired()){r=this._getImplicitRequiredValidator();try{this._setValidOption("pending",null),r.validate(e.StringUtils.trim(t))}catch(t){(n=this._processValidationErrors(t,i,e.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}},_validateValue:function(t,i,n){var r,o,s,a,l=this._GetAllSyncValidators(),u=this._IsRequired(),d=!1,h=[];if((u||l.length>0)&&this._setValidOption("pending",i),u){s=this._getImplicitRequiredValidator();try{s.validate(e.StringUtils.trim(t))}catch(e){this._addValidationError(e,h),this._setValidOption(p,i),d=!0}}for(r=0;r<l.length;r++)if("object"==typeof(s=l[r]))if(s.validate&&"function"==typeof s.validate)try{s.validate(t)}catch(e){this._addValidationError(e,h),d||(this._setValidOption(p,i),d=!0)}else c.level>c.LEVEL_WARN&&c.info("validator does not support the validate method.");return h.length>0&&((a=new Error)._messages=h,o=this._processValidationErrors(a,n),this._updateMessagesOption("messagesShown",o,i)),0===h.length},_asyncValidateValue:function(t,i,n){function r(e){return e.then(function(e){var i;return m._asyncValidatorValidateCounter===f?i="resolved":(c.level>c.LEVEL_WARN&&c.info("Validate ignored because new value came in before async validator finished for "+t),i="ignore"),{v:e,status:i}},function(e){var r;return m._asyncValidatorValidateCounter===f?(a=m._processValidationErrors(e,n),m._updateMessagesOption("messagesShown",a,i),d||(m._setValidOption(p,i),d=!0),r="rejected"):(c.level>c.LEVEL_WARN&&c.info("Validate ignored because new value came in before async validator finished for "+t),r="ignore"),{e:e,status:r}})}var o,s,a,l,u=this._getAllAsyncValidators(),d=!1,h=u.length>0,m=this,f=this._asyncValidatorValidateCounter;if(h&&this._setValidOption("pending",i),l=this._validateValue(t,i,n),!h)return l&&this._setValidOption(m._determineValidFromMessagesOptions(),i),l?t:void 0;var g=[];for(o=0;o<u.length;o++)g.push(u[o].validate(e.StringUtils.trim(t)));return new Promise(function(e){Promise.all(g.map(r)).then(function(t){t.filter(function(e){return"ignore"===e.status}).length>0?s="ignoreValidation":(s=d?p:"valid",m._setValidOption(m._determineValidFromMessagesOptions(),i)),e(s)})})},_updateDescribedBy:d._updateDescribedBy,_addAriaDescribedBy:d._addAriaDescribedBy,_removeAriaDescribedBy:d._removeAriaDescribedBy,_setBusyState:e.EditableValueUtils._SetBusyState,_clearBusyState:e.EditableValueUtils._ClearBusyState,_setBusyStateAsyncValidatorHint:e.EditableValueUtils._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:e.EditableValueUtils._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:e.EditableValueUtils._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:e.EditableValueUtils._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:e.EditableValueUtils._AfterCreateConverterCached},!0),s.setDefaultOptions({editableValue:{displayOptions:s.createDynamicPropertyGetter(function(e){var t={messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:["inline"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"]};return t[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:s.createDynamicPropertyGetter(function(e){return e.isCustomElement?{instruction:""}:{definition:null,source:null}})}}),e.InlineMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.INLINE,e.InlineMessagingStrategy),e.Object.createSubclass(e.InlineMessagingStrategy,e.MessagingStrategy,"oj.InlineMessagingStrategy"),e.InlineMessagingStrategy.prototype.reactivate=function(t){e.InlineMessagingStrategy.superclass.reactivate.call(this,t),this._updateInlineMessage()},e.InlineMessagingStrategy.prototype.shouldUpdate=function(e){return!(!e||void 0===e.validityState)},e.InlineMessagingStrategy.prototype.update=function(){e.InlineMessagingStrategy.superclass.update.call(this),this._updateInlineMessage()},e.InlineMessagingStrategy.prototype.deactivate=function(){this._removeMessagingContentRootDom(),e.InlineMessagingStrategy.superclass.deactivate.call(this)},e.InlineMessagingStrategy.prototype._getDefaultAnimation=function(){if(!e.InlineMessagingStrategy._defaultAnimation){var t=(o.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;t=t||{},e.InlineMessagingStrategy._defaultAnimation=t}return e.InlineMessagingStrategy._defaultAnimation},e.InlineMessagingStrategy.prototype._replaceAnimationOptions=function(t,i){var n,r;e.StringUtils.isString(t)?(r=!0,n=t+""):(r=!1,n=JSON.stringify(t));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s];n=n.replace(new RegExp(a,"g"),i[a])}return r?n:JSON.parse(n)},e.InlineMessagingStrategy.prototype._determineAnimation=function(e,t){var i,n,r,o=this._getDefaultAnimation();if(o){var s,a=e[0],l=a.innerHTML,u=a.offsetHeight;a.innerHTML=t,s=a.offsetHeight,a.innerHTML=l,"noanimation"!=(i=s>u?"open":s<u?"close":"noanimation")&&(n=o[i])&&(r=this._replaceAnimationOptions(n,{"#oldHeight":u+"px","#newHeight":s+"px"}))}return{action:i,effect:r}},e.InlineMessagingStrategy.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=r.getContext(i).getBusyContext(),o="The page is waiting for inline message ";i&&i.id&&(o+='for "'+i.id+'" '),o+="to open/close",this._resolveBusyState=n.addBusyState({description:o})}},e.InlineMessagingStrategy.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},e.InlineMessagingStrategy.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;t._inInlineMessagingAnimation?this._currentContentToShow=e:(this._currentContentToShow=null,this._setBusyState(),this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),r=n.action,o=n.effect;"noanimation"===r?(i[0].innerHTML=e,t._clearBusyState()):("close"===r?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===r&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,a.startAnimation(i[0],"inline-"+r,o,t.GetComponent()).then(function(){var n;t._inInlineMessagingAnimation=!1,"close"===r&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):t._clearBusyState()}))}else t._clearBusyState()},0))},e.InlineMessagingStrategy.prototype._updateInlineMessage=function(){var e;(e=this._buildInlineHtml())&&null==this.$messagingContentRoot&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):e?this.$messagingContentRoot[0].innerHTML=e:this._removeMessagingContentRootDom())},e.InlineMessagingStrategy.prototype._createInlineMessage=function(){this.$messagingContentRoot=t(this._getInlineContentHtml()),this._addAriaDescribedBy(this.$messagingContentRoot),this._addAriaLive(this.$messagingContentRoot),this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},e.InlineMessagingStrategy.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},e.InlineMessagingStrategy.prototype._removeMessagingContentRootDom=function(){if(null!=this.$messagingContentRoot){var e=this.$messagingContentRoot[0];this._removeAriaDescribedBy(this.$messagingContentRoot),e.parentNode.removeChild(e),this.$messagingContentRoot=null}},e.InlineMessagingStrategy.prototype._addAriaDescribedBy=function(i){var n,r,o,s,a=(r=this.GetLauncher())[0];e.Assert.assertPrototype(r,t),e.Assert.assertPrototype(i,t),o=i.uniqueId()[0].getAttribute("id"),(s=(n=a.getAttribute("aria-describedby"))?n.split(/\s+/):[]).push(o),null==(n=s.join(" ").trim())?a.removeAttribute("aria-describedby"):a.setAttribute("aria-describedby",n)},e.InlineMessagingStrategy.prototype._addAriaLive=function(i){e.Assert.assertPrototype(i,t),i[0].setAttribute("aria-live","polite")},e.InlineMessagingStrategy.prototype._removeAriaDescribedBy=function(i){var n,r,o,s,a;o=this.GetLauncher(),e.Assert.assertPrototype(o,t),e.Assert.assertPrototype(i,t),s=i[0].getAttribute("id"),-1!==(r=(a=(n=o[0].getAttribute("aria-describedby"))?n.split(/\s+/):[]).indexOf(s))&&a.splice(r,1),(n=a.join(" ").trim())?o[0].setAttribute("aria-describedby",n):o[0].removeAttribute("aria-describedby")},e.InlineMessagingStrategy.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},e.InlineMessagingStrategy.prototype._buildMessagesHtml=function(t){var i,n,r="";return this.HasMessages()&&(n=this.GetMessages(),i=this.GetMaxSeverity(),r=e.PopupMessagingStrategyUtils.buildMessagesHtml(t,n,i,!0)),r},e.PopupMessagingStrategy=function(e){this.Init(e)},e.ComponentMessaging.registerMessagingStrategy(e.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,e.PopupMessagingStrategy),e.Object.createSubclass(e.PopupMessagingStrategy,e.MessagingStrategy,"oj.PopupMessagingStrategy"),e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",e.PopupMessagingStrategy._OPEN_NAMESPACE=".ojPopupMessagingOpen",e.PopupMessagingStrategy._CLOSE_NAMESPACE=".ojPopupMessagingClose",e.PopupMessagingStrategy.prototype.activate=function(t){e.PopupMessagingStrategy.superclass.activate.call(this,t),this._initMessagingPopup()},e.PopupMessagingStrategy.prototype.reactivate=function(t){e.PopupMessagingStrategy.superclass.reactivate.call(this,t),this._updatePopupIfOpenOrComponentHasFocus()},e.PopupMessagingStrategy.prototype.update=function(){e.PopupMessagingStrategy.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},e.PopupMessagingStrategy.prototype.deactivate=function(){this._unregisterLauncherEvents(),this._destroyTooltip(),e.PopupMessagingStrategy.superclass.deactivate.call(this)},e.PopupMessagingStrategy.prototype.close=function(){this._closePopup()},e.PopupMessagingStrategy.prototype._closePopup=function(){this._queueAction(function(e){return this._isPopupInitialized()?(e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close")):void(e&&e(!0))}.bind(this))},e.PopupMessagingStrategy.prototype._initMessagingPopup=function(){this._openPopupCallback||this._registerLauncherEvents()},e.PopupMessagingStrategy.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},e.PopupMessagingStrategy.prototype._removeAnimateEventListeners=function(e){e.off("ojanimatestart.notewindow"),e.off("ojanimateend.notewindow")},e.PopupMessagingStrategy.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,o=r.getContext(n).getBusyContext(),s="The page is waiting for note window ";return n&&n.id&&(s+='for "'+n.id+'" '),s+="to "+e,o.addBusyState({description:s})},e.PopupMessagingStrategy.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var r=this._setBusyState(t);e.one("oj"+t,function(){n&&e.ojPopup("option","animation",n),r(),i(!0)})},e.PopupMessagingStrategy.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then(function(){t._actionCount-=1}),i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then(function(){return i(e)})):(this._actionCount=1,this._actionPromise=i(e))}else e(null)},e.PopupMessagingStrategy.prototype._openPopup=function(t){this._queueAction(function(i){var n,r,o;if(this._canOpenPopup()&&(r=this._buildPopupHtml(),!e.StringUtils.isEmptyOrUndefined(r))){var s=this._getPopupElement(),a=s.ojPopup("isOpen");if((n=e.PopupMessagingStrategyPoolUtils.getPopupContentNode(s)).innerHTML="",n.innerHTML=r,!a)return o=this.GetLauncher(),t&&"press"===t.type&&this._openPopupOnPressEvent(o),i&&this._setActionResolver(s,"open",i),void s.ojPopup("open",o);a&&s.ojPopup("refresh")}i&&i(!0)}.bind(this))},e.PopupMessagingStrategy.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(){setTimeout(function(){this._inPressEvent=!1},50)})},e.PopupMessagingStrategy.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},e.PopupMessagingStrategy.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},e.PopupMessagingStrategy.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var t,i,n,r;t=this._buildPopupHtml(),null!=this.GetLauncher()&&(n=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(r=this._getPopupElement()).ojPopup("isOpen")&&(t?((i=e.PopupMessagingStrategyPoolUtils.getPopupContentNode(r)).innerHTML="",i.innerHTML=t,r.ojPopup("refresh")):r.ojPopup("close")):n&&t&&this._openPopup(void 0))},e.PopupMessagingStrategy.prototype._unregisterLauncherEvents=function(){var t=this.GetLauncher();t.off(e.PopupMessagingStrategy._OPEN_NAMESPACE),t.off(e.PopupMessagingStrategy._CLOSE_NAMESPACE),t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),e.DomUtils.isTouchSupported()&&(t.ojHammer().off("press"),t.ojHammer("destroy"),t.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},e.PopupMessagingStrategy.prototype._registerLauncherEvents=function(){var t,n,r,o,s,a,l,u,c=this.GetLauncher();(o=(r=e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?r.events:e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT.default.events).open&&((l=this._openPopupCallback)||(l=this._openPopup.bind(this),this._openPopupCallback=l),u=o.open.indexOf("press"),a=this._getNamespacedEvents(o.open.replace("press",""),e.PopupMessagingStrategy._OPEN_NAMESPACE),c.on(a,l),e.DomUtils.isTouchSupported()&&-1!==u&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},c.on("contextmenu",this._eatContextMenuOnOpenPopupListener),s={recognizers:[[i.Press,{time:750}]]},c.ojHammer(s).on("press",l))),o.close&&((n=this._closePopupCallback)||(n=this._closePopup.bind(this),this._closePopupCallback=n),t=this._getNamespacedEvents(o.close,e.PopupMessagingStrategy._CLOSE_NAMESPACE),c.on(t,n))},e.PopupMessagingStrategy.prototype._getNamespacedEvents=function(e,t){var i,n,r;if(""===e||""===t)return e;r=(i=e.split(" ")).length,n=[];for(var o=0;o<r;o++)i[o]&&n.push(i[o]+t);return n.join(" ")},e.PopupMessagingStrategy.prototype._getPopupPosition=function(){var t,i,n;return(t=(i=e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?i.position:e.PopupMessagingStrategy._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===t?n=this.GetLauncher():"launcher-wrapper"===t&&(n=this.GetLauncher().parent())),n||(n=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:n}},e.PopupMessagingStrategy.prototype._getPopupElement=function(){var t,i;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(t=e.PopupMessagingStrategyPoolUtils.getNextFreePopup(),i=this._getPopupPosition(),t.ojPopup("option","position",i),t.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),t.ojPopup("option","close",this._popupCloseCallback.bind(this)),t.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var n=(o.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;n.actionPrefix="notewindow",t.ojPopup("option","animation",n),this._addAnimateEventListeners(t)}else t.ojPopup("option","animation",null);return this.$messagingContentRoot=t,this.$messagingContentRoot},e.PopupMessagingStrategy.prototype._popupOpenCallback=function(e){var i=t(e.target),n=this;window.setTimeout(function(){s.isComponentInitialized(i,"ojPopup")?i.ojPopup("option","autoDismiss","focusLoss"):delete n.$messagingContentRoot},10)},e.PopupMessagingStrategy.prototype._popupBeforeCloseCallback=function(){this._resolveBusyState=this._setBusyState("close")},e.PopupMessagingStrategy.prototype._popupCloseCallback=function(i){var n=this.GetLauncher(),r=t(i.target);this._removeAnimateEventListeners(r),s.isComponentInitialized(r,"ojPopup")&&(r.ojPopup("option","autoDismiss","none"),r.ojPopup("option","open",null),r.ojPopup("option","close",null),r.ojPopup("option","beforeClose",null)),n&&n[0]&&(n[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),n[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,e.PopupMessagingStrategyPoolUtils.getPopupContentNode(r).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},e.PopupMessagingStrategy.prototype._destroyTooltip=function(){this._closePopup(),e.PopupMessagingStrategyPoolUtils.destroyFreePopup()},e.PopupMessagingStrategy.prototype._buildPopupHtml=function(){var t=!1,i=this.GetComponent().document[0],n=[],r="";return this.ShowMessages()&&n.push(this._buildMessagesHtml(i)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&n.push(this._buildHintsHtml(i)),n.forEach(function(n){n&&(t?r=r.concat(e.PopupMessagingStrategyUtils.getSeparatorHtml(i)):t=!0,r=r.concat(n))}),r},e.PopupMessagingStrategy.prototype._buildMessagesHtml=function(t){var i,n="",r=this.GetMaxSeverity();return this.HasMessages()&&(i=this.GetMessages(),n=e.PopupMessagingStrategyUtils.buildMessagesHtml(t,i,r,!1)),n},e.PopupMessagingStrategy.prototype._buildHintsHtml=function(t){var i,n,r=[],o="";if(this.ShowConverterHint()&&(i=(r=this.GetConverterHint()).length?r[0]:"",o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_CONVERTER,i,!1,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(r=this.GetValidatorHints(),n=0;n<r.length;n++)o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_VALIDATOR,r[n],!1,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(o+=e.PopupMessagingStrategyUtils.buildHintHtml(t,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,e.PopupMessagingStrategy._SELECTOR_FORMCONTROL_HINT)),o?"<div class='oj-form-control-hints'>"+o+"</div>":""},e.PopupMessagingStrategy.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&s.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},e.PopupMessagingStrategyUtils={},e.PopupMessagingStrategyUtils.buildHintHtml=function(t,i,n,r,o){var s;if(n){s=t.createElement("div");for(var a=o.split(" "),l=0,u=a.length;l<u;++l)s.classList.add(a[l]);s.classList.add(i),e.PopupMessagingStrategyUtils._appendTextDom(s,e.PopupMessagingStrategyUtils._getTextDom(t,n,r))}return s?s.outerHTML:""},e.PopupMessagingStrategyUtils.getSeverityTranslatedString=function(e){var t;switch(e){case l.SEVERITY_LEVEL.FATAL:t=n.getTranslatedString("oj-message.fatal");break;case l.SEVERITY_LEVEL.ERROR:t=n.getTranslatedString("oj-message.error");break;case l.SEVERITY_LEVEL.WARNING:t=n.getTranslatedString("oj-message.warning");break;case l.SEVERITY_LEVEL.INFO:t=n.getTranslatedString("oj-message.info");break;case l.SEVERITY_LEVEL.CONFIRMATION:t=n.getTranslatedString("oj-message.confirmation")}return t},e.PopupMessagingStrategyUtils.getSeparatorHtml=function(e){var i;return(i=t(e.createElement("hr")))?i.get(0).outerHTML:""},e.PopupMessagingStrategyUtils.buildMessagesHtml=function(t,i,n,r){var o,s,a,u,c,d,p,h,m="",f=[],g={};for(s=0;s<i.length;s++)c=(u=i[s])instanceof l?u:new l(u.summary,u.detail,u.severity),g[d=l.getSeverityLevel(c.severity)]||(g[d]=[]),g[d].push(c);for(s=n;s>=l.SEVERITY_LEVEL.CONFIRMATION;s--)for(f=g[s]||[],a=0;a<f.length;a++)u=f[a],d=l.getSeverityLevel(u.severity),p=e.PopupMessagingStrategyUtils.getSeverityTranslatedString(d),h=u.summary||p,o=u.detail||"",m=m.concat(e.PopupMessagingStrategyUtils.buildMessageHtml(t,h,o,d,r));return m},e.PopupMessagingStrategyUtils.buildMessageHtml=function(t,i,n,r,o){var s,a,l,u,c,d=e.PopupMessagingStrategyUtils.getSeverityTranslatedString(r);if((l=t.createElement("div")).classList.add(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE),o)for(var p=e.PopupMessagingStrategyUtils._getSeveritySelector(r).split(" "),h=0,m=p.length;h<m;++h)l.classList.add(p[h]);u=t.createElement("span");for(var f=e.PopupMessagingStrategyUtils._getSeverityIconSelector(r).split(" "),g=0,_=f.length;g<_;++g)u.classList.add(f[g]);if(null==d?u.removeAttribute("title"):u.setAttribute("title",d),u.setAttribute("role","img"),l.appendChild(u),(s=t.createElement("span")).classList.add(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONTENT),(c=t.createElement("div")).classList.add(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_SUMMARY),c.textContent=i,s.appendChild(c),n){var v=e.PopupMessagingStrategyUtils._getTextDom(t,n,!0);(a=t.createElement("div")).classList.add(e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_DETAIL),e.PopupMessagingStrategyUtils._appendTextDom(a,v),s.appendChild(a)}return l.appendChild(s),l.outerHTML},e.PopupMessagingStrategyUtils._getSeverityIconSelector=function(t){var i;switch(t){case l.SEVERITY_LEVEL.FATAL:case l.SEVERITY_LEVEL.ERROR:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR_ICON;break;case l.SEVERITY_LEVEL.WARNING:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING_ICON;break;case l.SEVERITY_LEVEL.INFO:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO_ICON;break;case l.SEVERITY_LEVEL.CONFIRMATION:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION_ICON}return e.PopupMessagingStrategyUtils._DEFAULT_STATUS_ICON_SELECTORS+i},e.PopupMessagingStrategyUtils._getSeveritySelector=function(t){var i;switch(t){case l.SEVERITY_LEVEL.FATAL:case l.SEVERITY_LEVEL.ERROR:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR;break;case l.SEVERITY_LEVEL.WARNING:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING;break;case l.SEVERITY_LEVEL.INFO:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO;break;case l.SEVERITY_LEVEL.CONFIRMATION:default:i=e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION}return i},e.PopupMessagingStrategyUtils._getTextDom=function(t,i,n){var r=null;return e.StringUtils.isString(i)&&(n&&e.DomUtils.isHTMLContent(i)?r=e.DomUtils.cleanHtml(i.substring(6,i.length-7)):(r=t.createElement("span")).textContent=i),r},e.PopupMessagingStrategyUtils._appendTextDom=function(t,i){e.StringUtils.isString(i)?t.innerHTML=i:t.appendChild(i)},e.PopupMessagingStrategyUtils._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE="oj-message",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_DETAIL="oj-message-detail",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONTENT="oj-message-content",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_ERROR="oj-message-error",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_WARNING="oj-message-warning",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_INFO="oj-message-info",e.PopupMessagingStrategyUtils._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",e.PopupMessagingStrategyPoolUtils={},e.PopupMessagingStrategyPoolUtils.getNextFreePopup=function(){var i,n=e.PopupMessagingStrategyPoolUtils._getPool(),r=n.find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING);return 0===r.length?((i=t(e.PopupMessagingStrategyPoolUtils._getPopupContentHtml()))[0].style.display="none",i.appendTo(n),i.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})):i=t(r[0]),i},e.PopupMessagingStrategyPoolUtils.getPopupContentNode=function(t){return t.find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER)[0]},e.PopupMessagingStrategyPoolUtils.destroyFreePopup=function(){var t;if(e.PopupMessagingStrategyPoolUtils._getFreePoolCount()>0){var i=(t=e.PopupMessagingStrategyPoolUtils.getNextFreePopup())[0];t.ojPopup("destroy"),i.parentNode.removeChild(i)}},e.PopupMessagingStrategyPoolUtils._getPool=function(){var i=t("#"+e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID);if(i.length>0)return i;var n=(i=t("<div>"))[0];return n.setAttribute("id",e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID),n.setAttribute("role","presentation"),document.body.appendChild(n),i},e.PopupMessagingStrategyPoolUtils._getFreePoolCount=function(){return e.PopupMessagingStrategyPoolUtils._getPool().find("."+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING).length},e.PopupMessagingStrategyPoolUtils._getPopupContentHtml=function(){return'<div class="'+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING+'"><div class="'+e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER+'"></div></div>'},e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",e.PopupMessagingStrategyPoolUtils._SELECTOR_MESSAGING="oj-messaging-popup",e.PopupMessagingStrategyPoolUtils._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool"}),define("ojs/ojinputtext",["ojs/ojcore","jquery","ojs/ojvalidation-base","ojs/ojlogger","ojs/ojeditablevalue"],function(e,t,i,n){"use strict";var r={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{refresh:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}},o={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},clearIcon:{type:"string",enumValues:["always","conditional","never"],value:"never"},converter:{type:"object",properties:{type:{type:"string"},options:{type:"object"}}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",
value:""}}},labelHint:{type:"string",value:""},labelledBy:{type:"string"},list:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","email","number","search","tel","text","url"],value:"auto"}},methods:{refresh:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}},s={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object",properties:{type:{type:"string"},options:{type:"object"}}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},resizeBehavior:{type:"string",enumValues:["both","horizontal","none","vertical"],value:"none"},rows:{type:"number",extension:{_COPY_TO_INNER_ELEM:!0}},translations:{type:"object",value:{},properties:{regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0}},methods:{refresh:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}};e.__registerWidget("oj.inputBase",t.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"spellcheck"}],_INPUT_HELPER_KEY:"",_BLUR_HANDLER_KEY:"blur",_KEYDOWN_HANDLER_KEY:"keydown",_KEYUP_HANDLER_KEY:"keyup",_COMPOSITIONSTART_HANDLER_KEY:"compositionstart",_COMPOSITIONEND_HANDLER_KEY:"compositionend",_INPUT_HANDLER_KEY:"input",_DROP_HANDLER_KEY:"drop",options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,labelledBy:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,validators:[]},_SaveAttributes:function(e){var t=this._superApply(arguments);return this._processAttrCheck(),t},_InitOptions:function(t,i){this._super(t,i),this._IsCustomElement()||e.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,i,this)},_ComponentCreate:function(){var e=this._superApply(arguments),t=this.options.readOnly;return this._rtl="rtl"===this._GetReadingDirection(),"boolean"==typeof t&&this.element.prop("readonly",t),this._DoWrapElement()?(this._wrapElementInRootDomElement(),this._DoWrapElementAndTriggers()&&this._WrapElement(),this._focusable({element:this._wrapper,applyHighlight:!0})):this._focusable({element:this.element,applyHighlight:!0}),this._defaultRegExpValidator={},this._defaultRegExpAsyncValidator={},this._eventHandlers=null,e},_AfterCreate:function(){var i=this._superApply(arguments),n=this;return this._refreshRequired(this.options.required),this._CLASS_NAMES&&this.element.addClass(this._CLASS_NAMES),this._attachDetachEventHandlers(),this._AppendInputHelper(),t.each(["disabled","readOnly"],function(e,t){n.options[t]&&n._processOptions(t,n.options[t])}),this._IsCustomElement()&&e.EditableValueUtils._setInputId(this._GetContentElement()[0],this.widget()[0].id,this.options.labelledBy),i},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:e.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:e.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:e.EditableValueUtils._ResetConverter,_GetConverter:e.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:e.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_processOptions:function(e,t){"disabled"===e&&this.element.prop("disabled",t),"readOnly"===e&&(this.element.prop("readonly",t),this._refreshStateTheming("readOnly",t)),"disabled"!==e&&"readOnly"!==e||this._attachDetachEventHandlers()},_setOption:function(t,i,n){var r=this._superApply(arguments);if("disabled"===t||"readOnly"===t)this._processOptions(t,i);else if("pattern"===t)this._defaultRegExpValidator[e.ValidatorFactory.VALIDATOR_TYPE_REGEXP]=this._getImplicitRegExpValidator(),this._AfterSetOptionValidators();else if("labelledBy"===t&&this.options.labelledBy){var o=this._GetContentElement()[0].id;this._labelledByChangedForInputComp(this.options.labelledBy,o)}return r},_AfterSetOption:function(t,i,n){switch(this._superApply(arguments),t){case"readOnly":this._AfterSetOptionDisabledReadOnly(t,e.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(t);break;case"validators":this._AfterSetOptionValidators(t);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(t);break;case"converter":this._AfterSetOptionConverter(t)}},_destroy:function(){var t=this._superApply(arguments);return this.element.off("blur drop keydown keyup compositionstart compositionend input"),this._inputHelper&&this._inputHelper.remove(),this._DoWrapElement()&&!this._IsCustomElement()&&(this._DoWrapElementAndTriggers()?e.DomUtils.unwrap(this.element,this._wrapper):e.DomUtils.unwrap(this.element)),t},_SetLoading:function(){this._super(),this.element.prop("readonly",!0),this._refreshStateTheming("readOnly",!0)},_ClearLoading:function(){this._super(),this.element.prop("readonly",this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly)},_attachDetachEventHandlers:function(){if(this.options.readOnly||this.options.disabled){if(this._eventHandlers)for(var e=[this._BLUR_HANDLER_KEY,this._KEYDOWN_HANDLER_KEY,this._KEYUP_HANDLER_KEY,this._COMPOSITIONSTART_HANDLER_KEY,this._COMPOSITIONEND_HANDLER_KEY,this._INPUT_HANDLER_KEY,this._DROP_HANDLER_KEY],i=0,n=e.length;i<n;i++)this._eventHandlers[e[i]]&&(this.element.off(e[i],this._eventHandlers[e[i]]),delete this._eventHandlers[e[i]])}else{this._eventHandlers={};var r=t.proxy(this._onBlurHandler,this),o=t.proxy(this._onKeyDownHandler,this),s=t.proxy(this._onKeyUpHandler,this),a=t.proxy(this._onCompositionStartHandler,this),l=t.proxy(this._onCompositionEndHandler,this),u=t.proxy(this._onInputHandler,this),c=function(){this.focus()};this.element.on(this._BLUR_HANDLER_KEY,r),this.element.on(this._KEYDOWN_HANDLER_KEY,o),this.element.on(this._KEYUP_HANDLER_KEY,s),this.element.on(this._COMPOSITIONSTART_HANDLER_KEY,a),this.element.on(this._COMPOSITIONEND_HANDLER_KEY,l),this.element.on(this._INPUT_HANDLER_KEY,u),this.element.on(this._DROP_HANDLER_KEY,c),this._eventHandlers[this._BLUR_HANDLER_KEY]=r,this._eventHandlers[this._KEYDOWN_HANDLER_KEY]=o,this._eventHandlers[this._KEYUP_HANDLER_KEY]=s,this._eventHandlers[this._COMPOSITIONSTART_HANDLER_KEY]=a,this._eventHandlers[this._COMPOSITIONEND_HANDLER_KEY]=l,this._eventHandlers[this._INPUT_HANDLER_KEY]=u,this._eventHandlers[this._DROP_HANDLER_KEY]=c}},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_processAttrCheck:function(){for(var e=this._ATTR_CHECK,t=0,i=e.length;t<i;t++){var n=e[t].attr;"setMandatory"in e[t]&&this.element.attr(n,e[t].setMandatory)}},_onBlurHandler:function(e){this._SetValue(this._GetDisplayValue(),e)},_onKeyDownHandler:function(e){},_onKeyUpHandler:function(e){e.keyCode===t.ui.keyCode.ENTER&&this._SetValue(this._GetDisplayValue(),e)},_onCompositionStartHandler:function(){this._isComposing=!0},_onCompositionEndHandler:function(e){this._isComposing=!1,this._SetRawValue(this._GetContentElement().val(),e)},_onInputHandler:function(e){this._isComposing||this._SetRawValue(this._GetContentElement().val(),e)},_DoWrapElement:function(){return this._WIDGET_CLASS_NAMES},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},_wrapElementInRootDomElement:function(){this.OuterWrapper?(this._wrapper=t(this.OuterWrapper).addClass(this._WIDGET_CLASS_NAMES),this._wrapper.append(this.element)):(t(this.element).wrap(t("<div>").addClass(this._WIDGET_CLASS_NAMES)),this._wrapper=this.element.parent())},_WrapElement:function(){return t(this.element).wrap(t("<div>").addClass(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES)).parent()},_AppendInputHelper:function(){if(this._INPUT_HELPER_KEY&&this._DoWrapElement()){var e=this.element.attr("aria-describedby")||"",i=this._GetSubId(this._INPUT_HELPER_KEY);e+=" "+i,this.element.attr("aria-describedby",e),this._inputHelper=t("<div class='oj-helper-hidden-accessible' aria-hidden='true' id='"+i+"'>"+this._EscapeXSS(this.getTranslatedString(this._INPUT_HELPER_KEY))+"</div>"),this._AppendInputHelperParent().append(this._inputHelper)}},_EscapeXSS:function(e){return t("<span>"+e+"</span>").text()},_AppendInputHelperParent:function(){return this.widget()},_GetImplicitSyncValidators:function(){var i=this._superApply(arguments);return this.options.pattern&&(this._defaultRegExpValidator[e.ValidatorFactory.VALIDATOR_TYPE_REGEXP]=this._getImplicitRegExpValidator()),t.extend(this._defaultRegExpValidator,i)},_GetImplicitAsyncValidators:function(){var e=this._superApply(arguments);return t.extend(this._defaultRegExpAsyncValidator,e)},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_getImplicitRegExpValidator:function(){if(!this.options.pattern)return null;var n={pattern:this.options.pattern,label:this._getLabelText()};return t.extend(n,this.options.translations.regexp||{}),i.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_REGEXP).createValidator(n)},_GetSubId:function(e){return this.uuid+"_"+e},_IsRTL:function(){return this._rtl},refresh:function(){var e=this._superApply(arguments);return this._rtl="rtl"===this._GetReadingDirection(),this._refreshRequired(this.options.required),e},_refreshRequired:e.EditableValueUtils._refreshRequired,_labelledByChangedForInputComp:e.EditableValueUtils._labelledByChangedForInputComp,_ValidateReturnBoolean:e.EditableValueUtils._ValidateReturnBoolean,_ValidateReturnPromise:e.EditableValueUtils._ValidateReturnPromise,getNodeBySubId:function(e){return this._super(e)},validate:e.EditableValueUtils.validate,_AriaRequiredUnsupported:function(){return!1},widget:function(){return this._DoWrapElement()?this._wrapper:this.element}},!0),e.__registerWidget("oj.ojInputPassword",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",options:{converter:null,pattern:"",value:void 0},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputpassword-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}}),e.__registerWidget("oj.ojInputText",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",_ALLOWED_TYPES:["email","number","search","tel","text","url"],_CLICK_HANDLER_KEY:"click",options:{clearIcon:"never",converter:null,list:"",pattern:"",virtualKeyboard:"auto"},_ComponentCreate:function(){var e=this._super(),t=this.options.clearIcon;return this._processClearIconAttr(t),this._AddHoverable(this._wrapper),this._SetInputType(this._ALLOWED_TYPES),e},_processClearIconAttr:function(e){var t=this._wrapper[0],i=t.querySelector("a.oj-inputtext-clear-icon-btn");if("never"===e||this.options.disabled||this.options.readOnly)i&&t.removeChild(i),t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.remove("oj-inputtext-clearicon-conditional");else{var n,r;null===i&&((i=document.createElement("a")).className="oj-inputtext-clear-icon-btn oj-component-icon oj-clickable-icon-nocontext",i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),i.setAttribute("target","_blank"),(n=document.createElement("span")).className="oj-inputtext-clear-icon",i.appendChild(n),t.appendChild(i),i.addEventListener(this._CLICK_HANDLER_KEY,this._onClearIconClickHandler.bind(this))),"always"===e?t.classList.add("oj-inputtext-clearicon-visible"):(t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.add("oj-inputtext-clearicon-conditional"),(r=t.classList.contains("oj-complete")?this.element[0].value:this.options.value)&&""!==r?t.classList.remove("oj-form-control-empty-clearicon"):t.classList.add("oj-form-control-empty-clearicon"))}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"clearIcon":case"value":case"disabled":case"readOnly":this._processClearIconAttr(this.options.clearIcon);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_onInputHandler:function(e){this._super(e);var t=e.target,i=this._wrapper[0];"conditional"===this.options.clearIcon&&(""!==t.value?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon"))},_onClearIconClickHandler:function(e){var t=this.element[0];t.value="",this._SetRawValue(t.value,e),t.focus(),this._wrapper[0].classList.add("oj-form-control-empty-clearicon")},_onBlurHandler:function(t){var i=this._wrapper[0],n=t.relatedTarget;n&&n.classList.contains("oj-inputtext-clear-icon-btn")&&n.parentElement&&e.DomUtils.isAncestorOrSelf(i,n.parentElement)?i.classList.add("oj-focus"):this._super(t)},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputtext-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_SetInputType:e.EditableValueUtils._SetInputType}),e.__registerWidget("oj.ojTextArea",t.oj.inputBase,{version:"1.0.0",defaultElement:"<textarea>",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",options:{converter:null,pattern:"",resizeBehavior:"none",rows:void 0},_AfterCreate:function(){var e=this._superApply(arguments);return this._GetContentElement()[0].style.resize=this.options.resizeBehavior,e},_setOption:function(e,t,i){var n=this._superApply(arguments);return"resizeBehavior"===e&&(this._GetContentElement()[0].style.resize=t),n},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-textarea-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-textarea"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_onKeyUpHandler:function(e){}}),r.extension._WIDGET_NAME="ojInputPassword",r.extension._INNER_ELEM="input",r.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],r.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-input-password",{metadata:r}),o.extension._WIDGET_NAME="ojInputText",o.extension._INNER_ELEM="input",o.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],o.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-input-text",{metadata:o}),s.extension._WIDGET_NAME="ojTextArea",s.extension._INNER_ELEM="textarea",s.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],s.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-text-area",{metadata:s})}),define("ojs/ojchildmutationobserver",["ojs/ojcore","ojs/ojcustomelement"],function(e){"use strict";return function(t,i){var n=t,r=i,o=e.BaseCustomElementBridge.getRegistered(t.tagName)?e.BaseCustomElementBridge.getTrackChildrenOption(t):"none",s=function(t){var i=function(t){for(var i=[],r=0;r<t.length;r++)for(var s=t[r],a="childList"===s.type?s.target:s.target.parentNode;a;)a===n?(i.push(s),a=null):a="nearestCustomElement"!==o||e.ElementUtils.isValidCustomElementName(a.localName)?null:a.parentNode;return i}(t);i.length>0&&r(i)},a=new MutationObserver(s);return{observe:function(){"none"!==o&&a.observe(n,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},disconnect:function(){var e=a.takeRecords();e&&e.length>0&&s(e),a.disconnect()}}}}),define("ojs/ojoption",["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(e,t){"use strict";function i(i){function n(i){var n=e.BaseCustomElementBridge.getSlotMap(i),r=["startIcon","","endIcon"];t.each(n,function(e,n){-1===r.indexOf(e)&&function(e,i){t.each(i,function(t,i){e.removeChild(i)})}(i,n)}),t.each(r,function(e,r){n[r]&&function(e,i){t.each(i,function(t,i){e.appendChild(i)})}(i,n[r])})}this.updateDOM=function(){var e=i.element.customOptionRenderer;n(i.element),e&&"function"==typeof e&&e(i.element)}}var n={properties:{disabled:{type:"boolean",value:!1},value:{type:"any"}},methods:{setProperty:{},getProperty:{},refresh:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};n.properties.customOptionRenderer={},n.extension._CONSTRUCTOR=i,e.CustomElementBridge.register("oj-option",{metadata:n})}),define("ojs/ojbutton",["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojchildmutationobserver","ojs/ojlabelledbyutils","ojs/ojoption"],function(e,t,i,n,r,o){"use strict";var s={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}},a={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"Array<any>",writeback:!0}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}},l={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"any",writeback:!0}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}},u={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};!function(){function s(e,t){c(e,f),e.classList.add(g[t])}function a(e,i){var n,r=e.name,o=e.form;if(r){var s=":radio[name='"+(r=r.replace(/'/g,"\\'"))+"']:oj-button";n=i?i.filter(s):o?t(o).find(s):t(s,e.ownerDocument).filter(function(){return!this.form})}else n=(i?i.filter(e):t(e)).filter(":oj-button");return n}function l(e,t,r){var o=function(e,t,i){for(var r=0;r<i.length;++r){var o=i[r];if(t.indexOf(o)>=0)for(;;e=e.parentNode){var s=n.__GetWidgetConstructor(e,o);if(s)return s}}return null}(t,r,_[e]);return o?o("option","chroming"):(i.parseJSONFromFontFamily("oj-"+e+"-option-defaults")||{}).chroming}function u(e,t){var i=e.className;if(i){for(var n=i.split(" "),r=t.split(" "),o=r.length;o>=0;o--)n.indexOf(r[o])>=0&&r.splice(o,1);r.length>0&&(e.className=i+" "+r.join(" "))}else e.className=t}function c(e,t){var i=e.className;if(i){for(var n=i.split(" "),r=t.split(" "),o=!1,s=0;s<r.length;s++){var a=n.indexOf(r[s]);a>=0&&(n.splice(a,1),o=!0)}o&&(e.className=n.join(" "))}}var d,p,h="oj-button oj-component oj-enabled oj-default",m="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",f="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome",g={full:"oj-button-full-chrome",half:"oj-button-half-chrome",outlined:"oj-button-outlined-chrome"},_={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]};e.__registerWidget("oj.ojButton",t.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"full",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),this._IsCustomElement()||"disabled"in t||this.option("disabled",!!this.element[0].disabled,{_context:{internalSet:!0}}),"label"in t||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement[0].innerHTML,{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||t.icons&&void 0!==t.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.getAttribute("title");var i=this,n=this._isToggle,r=n?"":"oj-active";u(this.rootElement,h),s(this.rootElement,this.options.chroming);var o=function(){r&&i.rootElement.classList.remove(r),i.rootElement.classList.remove("oj-hover"),i._toggleDefaultClasses()};if(e.DomUtils.isTouchSupported()&&this.buttonElement.bind("touchstart"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||(r&&i.rootElement.classList.add(r),i._toggleDefaultClasses(),i.document.one("touchend",o))}).bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,o),this.buttonElement.bind("mouseenter"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||e.DomUtils.recentTouchEnd()||(this===d&&i.rootElement.classList.add("oj-active"),i.rootElement.classList.add("oj-hover"),i.rootElement.classList.remove("oj-default"),i.rootElement.classList.remove("oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){i.rootElement.classList.remove("oj-hover"),i._IsEffectivelyDisabled()||(r&&i.rootElement.classList.remove(r),i._toggleDefaultClasses())}),this._disabledClickHandler=function(e){i._IsEffectivelyDisabled()&&(e.preventDefault(),e.stopImmediatePropagation())},this._ojActionClickHandler=function(e){i._trigger("action",e,{})},this._IsCustomElement()?(this.rootElement.addEventListener("click",this._disabledClickHandler,!0),this.rootElement.addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:t(this.rootElement),applyHighlight:!0,afterToggle:function(){i._toggleDefaultClasses()}}),n&&(this.element.bind("change"+this.eventNamespace,function(e){i._applyCheckedStateFromDom(!0);var t=i._getEnclosingContainerComponent("buttonset"),n=t&&t._getCheckedFromDom(t.$buttons);t&&void 0!==n&&t.option("checked",n,{_context:{writeback:!0,originalEvent:e,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||(p=this,i.document.one("mouseup",function(){p=null}))}).bind("mouseup"+this.eventNamespace,function(){i._IsEffectivelyDisabled()||this===p&&i.element.focus()})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(i._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(e){e.keyCode===t.ui.keyCode.ENTER&&(i._IsEffectivelyDisabled()||i.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(i._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(e){e.keyCode===t.ui.keyCode.ENTER&&(i.element[0].checked||i._IsEffectivelyDisabled()||(i.element[0].checked=!0,i.element.change(),i.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){return!i._IsEffectivelyDisabled()&&void(1!==t.which||e.DomUtils.recentTouchEnd()||(i.rootElement.classList.add("oj-active"),i.rootElement.classList.remove("oj-default"),i.rootElement.classList.remove("oj-focus-only"),d=this,i.document.one("mouseup",function(){d=null})))}).bind("mouseup"+this.eventNamespace,function(){return!i._IsEffectivelyDisabled()&&(i.rootElement.classList.remove("oj-active"),void i._toggleDefaultClasses())}).bind("keydown"+this.eventNamespace,function(e){if(i._IsEffectivelyDisabled())return e.keyCode===t.ui.keyCode.TAB||e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.RIGHT;var n=e.keyCode===t.ui.keyCode.SPACE,r="anchor"===i.type;r&&n&&e.preventDefault(),(n&&!r||e.keyCode===t.ui.keyCode.ENTER)&&(i.rootElement.classList.add("oj-active"),i.rootElement.classList.remove("oj-default"),i.rootElement.classList.remove("oj-focus-only"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){i.rootElement.classList.remove("oj-active"),i._toggleDefaultClasses()}),"anchor"===this.type){var a=this.buttonElement[0].getAttribute("tabindex");(null===a||isNaN(a))&&this.buttonElement[0].setAttribute("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var l=i._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||l&&l._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses(),this._childMutationObserver&&this._childMutationObserver.observe()},_NotifyContextMenuGesture:function(e,i,n){this._OpenContextMenu(i,n,{position:{of:"keyboard"===n?t(this.rootElement):i}})},_addMutationObserver:function(){if(!this._childMutationObserver&&this._IsCustomElement()){var e=this;this._childMutationObserver=new r(this.rootElement,function(t){t.forEach(function(t){var i;if("childList"===t.type){var n=t.addedNodes&&t.addedNodes[0],r=t.target;if(n&&3===n.nodeType&&r&&1===r.nodeType&&r.classList.contains("oj-button-label")){e._childMutationObserver.disconnect(),i=!0;var o=e.buttonElement[0].querySelector(".oj-button-text");o&&(o.textContent=n.textContent),n.parentNode.removeChild(n)}}else"characterData"===t.type&&(e._childMutationObserver.disconnect(),i=!0);i&&(e._setDisplayOptionOnDom(),e._childMutationObserver.observe())})})}},_removeMutationObserver:function(){this._childMutationObserver&&(this._childMutationObserver.disconnect(),this._childMutationObserver=null)},_processSlots:function(){var i,n=this,r=this.element[0],o=r.parentNode,s="OJ-MENU-BUTTON"===o.tagName,a=e.BaseCustomElementBridge.getSlotMap(o);i=s?["startIcon","","endIcon","menu"]:["startIcon","","endIcon"],t.each(i,function(e,i){a[i]&&""!==i&&t.each(a[i],function(e,t){r.appendChild(t)})});for(var l=o.children,u=l.length-1;u>=0;u--){var c=l[u];c!==r&&"contextMenu"!==c.getAttribute("slot")&&o.removeChild(c)}var d=e.BaseCustomElementBridge.getSlotMap(r);t.each(i,function(e,i){d[i]&&t.each(d[i],function(e,o){if(r.appendChild(o),""===i){var s=o,a=s;3===s.nodeType&&(a=document.createElement("span"),s.parentNode.insertBefore(a,s),a.appendChild(s)),a.classList.add("oj-button-text"),n._setTextSpanIdAndLabelledBy(a)}else if("startIcon"===i)o.classList.add("oj-button-icon"),o.classList.add("oj-start");else if("endIcon"===i)o.classList.add("oj-button-icon"),o.classList.add("oj-end");else if("menu"===i&&(t(o).uniqueId(),n.menuSlot="#"+o.id,void 0===d.endIcon)){var l=document.createElement("span");l.className="oj-button-icon oj-end oj-component-icon oj-button-menu-dropdown-icon",l.setAttribute("slot","endIcon"),r.insertBefore(l,o)}})});var p=document.createElement("div");for(p.className="oj-button-label";r.hasChildNodes();)p.appendChild(r.firstChild);r.appendChild(p)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){var e=this.element[0];if("INPUT"===e.tagName&&"checkbox"===e.type)this.type="checkbox",this._isToggle=!0;else if("INPUT"===e.tagName&&"radio"===e.type)this.type="radio",this._isToggle=!0;else if("INPUT"!==e.tagName||"button"!==e.type&&"submit"!==e.type&&"reset"!==e.type)if("BUTTON"===e.tagName)this.type="button";else{if("A"!==e.tagName)throw new Error("JET Button not supported on this element type");this.type="anchor"}else this.type="inputPush";if(this._isToggle){var t="label[for='"+this.element[0].getAttribute("id")+"']";this.buttonElement=this.element.siblings().filter(t)}else this.buttonElement=this.element},_initButtonTypes2:function(){var e=this.element[0];if(this._isToggle){this.buttonElement[0].classList.add("oj-button-label"),e.classList.add("oj-button-input"),e.classList.add("oj-helper-hidden-accessible"),e.setAttribute("data-oj-internal","");var t=document.createElement("span");this.element[0].parentNode.insertBefore(t,this.buttonElement[0]),t.appendChild(this.buttonElement[0]),t.appendChild(this.element[0]),this.rootElement=this.element[0].parentNode,this.rootElement.classList.add("oj-button-jqui"),this.rootElement.classList.add("oj-button-toggle"),e.checked&&(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}else this._IsCustomElement()?(this.rootElement=this.element[0].parentNode,e.classList.add("oj-button-button")):(this.rootElement=this.element[0],e.classList.add("oj-button-jqui"))},widget:function(){return t(this.rootElement)},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1);var t=this.element[0];t.classList.remove("oj-helper-hidden-accessible"),
t.removeAttribute("aria-labelledby"),this.element.removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var i=this._isToggle;i||c(this.rootElement,h+" oj-button-jqui oj-hover oj-active oj-selected "+m+" "+f);var n=this.buttonElement[0].querySelector(".oj-button-text");n&&(this.buttonElement[0].innerHTML=n.innerHTML),i?(this.buttonElement[0].classList.remove("oj-button-label"),e.DomUtils.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttribute("title"),p===this.buttonElement[0]&&(p=null),this.buttonElement.off("blur"),this._removeMutationObserver()},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(e){this._super(e),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var e=this.element[0],t=this._IsEffectivelyDisabled();if(t?(this.rootElement.classList.add("oj-disabled"),this.rootElement.classList.remove("oj-enabled")):(this.rootElement.classList.remove("oj-disabled"),this.rootElement.classList.add("oj-enabled")),"anchor"!==this.type?(e.disabled=t,this.rootElement.removeAttribute("aria-disabled")):(e.setAttribute("aria-disabled",t),this._IsCustomElement()&&this.rootElement.removeAttribute("aria-disabled")),t){var i=this.widget()[0].classList;i.remove("oj-active"),i.remove("oj-default"),i.remove("oj-focus-only"),i.remove("oj-hover"),i.remove("oj-focus"),i.remove("oj-focus-highlight"),d=null,this._dismissMenu(this._getMenuNode())}else this._toggleDefaultClasses()},_setOption:function(e,t,i){var n=this.options[e];switch(this._super(e,t,i),e){case"chroming":s(this.rootElement,t);break;case"disabled":this._manageAnchorTabIndex(n,t),this._updateEffectivelyDisabled();var r=this._getEnclosingContainerElement("toolbar");r.length&&(this._IsCustomElement()?r[0].refresh():r.ojToolbar("refresh"));break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(n)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),s(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(e){"radio"===this.type?(e?a(this.element[0]):this.element).each(function(){var e=t(this).data("oj-ojButton");this.checked?(e.rootElement.classList.add("oj-selected"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only")):(e.rootElement.classList.remove("oj-selected"),e._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")):(this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this._setLabelOnDomAtCreateTime(),t=this._setIconOnDom(!0),i=this._setIconOnDom(!1);this._setDisplayOptionOnDom(e,t,i)}},_setLabelOnDomAtCreateTime:function(){var e=this.buttonElement[0],i=document.createElement("span");if(i.className="oj-button-text",this.keepDomLabel)for(;e.hasChildNodes();)i.appendChild(e.firstChild);else e.innerHTML="",i.textContent=this.options.label;if("button"===this.type){var n=document.createElement("div");n.className="oj-button-label",n.appendChild(i),this.element[0].appendChild(n)}else e.appendChild(i);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(i),t(i)},_setTextSpanIdAndLabelledBy:function(e){t(e).uniqueId(),this.element[0].setAttribute("aria-labelledby",e.getAttribute("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this.buttonElement[0].querySelector(".oj-button-text");e.textContent=this.options.label,this._setDisplayOptionOnDom(t(e))}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var e=this._setIconOnDom(!0),t=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,e,t)}},_setIconOnDom:function(e){var t,i,n,r,o=this.buttonElement[0];"button"===this.type&&(o=this.element.children("div.oj-button-label")[0]),e?(t=".oj-button-icon.oj-start",i="oj-button-icon oj-start",n=this.options.icons.start,r="_lastStartIcon"):(t=".oj-button-icon.oj-end",i="oj-button-icon oj-end",n=this.options.icons.end,r="_lastEndIcon");var s,a,l=o.querySelectorAll(t);if(n)if(l.length){var d=this[r];for(s=0;s<l.length;s++)c(a=l[s],d),u(a,n)}else{var p=document.createElement("span");p.className=i+" "+n,e?o.insertBefore(p,o.firstChild):o.appendChild(p)}else for(s=0;s<l.length;s++)(a=l[s]).parentNode.removeChild(a);return this[r]=n,!!n},_setDisplayOptionOnDom:function(e,i,n){var r=this.buttonElement.children(".oj-button-label");if(!r.length){var o=this._getEnclosingContainerComponent("buttonset");r=this._IsCustomElement()||o&&o._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===e&&(e=r.children(".oj-button-text")),void 0===i&&(i=!!this.options.icons.start||r.children("[slot='startIcon']").length),void 0===n&&(n=!!this.options.icons.end||r.children("[slot='endIcon']").length);var s,a=i&&n,l=i||n,u="icons"===this.options.display;if(l&&u){if(e[0]&&e[0].classList.add("oj-helper-hidden-accessible"),!this.hasTitle){var d=e[0]?e[0].textContent:"";this.rootElement.setAttribute("title",t.trim(d))}this._addMutationObserver()}else e[0]&&e[0].classList.remove("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttribute("title"),this._removeMutationObserver();s=l?u?a?"oj-button-icons-only":"oj-button-icon-only":a?"oj-button-text-icons":i?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",c(this.rootElement,m),this.rootElement.classList.add(s)},_manageAnchorTabIndex:function(e,t){if(!e!=!t&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length){var i=this.element[0];if(t){var n=i.getAttribute("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(n))?n:null,i.setAttribute("tabindex",-1)}else null==this._oldAnchorTabIndex?i.removeAttribute("tabindex"):i.setAttribute("tabindex",this._oldAnchorTabIndex)}},_isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_getEnclosingContainerElement:function(e){return t(this.rootElement).closest(this._selectorMap[e])},_getEnclosingContainerComponent:function(e){var t=this._getEnclosingContainerElement(e)[0],i=n.__GetWidgetConstructor(t,this._constructorMap[e]);return i&&i("instance")},_setupMenuButton:function(e){if(this._getMenuNode()&&"INPUT"===this.element[0].tagName)throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(e),this._getMenuNode()){var i=this;this.element.attr("aria-haspopup",!0).on("keydown"+this.menuEventNamespace,function(e){if(e.which===t.ui.keyCode.DOWN)return i._showMenu(e,"firstItem"),e.preventDefault(),!0;if(e.which===t.ui.keyCode.ESCAPE){var n=!i.rootElement.classList.contains("oj-selected");return i._dismissMenu(i._getMenuNode(),e),n}return!0}).on("click"+this.menuEventNamespace,function(e){var t=i._getMenu();return t.__spaceEnterDownInMenu||i._showMenu(e,"firstItem"),t.__spaceEnterDownInMenu=!1,e.preventDefault(),!0})}},_removeMenuBehavior:function(e){this.element.removeAttr("aria-haspopup").off(this.menuEventNamespace),this._dismissMenu(e),t(e).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var e=this._getMenuOnly(this._getMenuNode());if(!e)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var t,i=this;t=e._IsCustomElement()?"ojClose":"ojclose",e.widget().on(t+this.menuEventNamespace,function(e){i._menuDismissHandler(e)}),this._menuListenerSet=!0}return e},_getMenuOnly:function(e){var i=n.__GetWidgetConstructor(t(e)[0],"ojMenu");return i&&i("instance")},_showMenu:function(e,t){if(!this._IsEffectivelyDisabled()){var i=this._getMenu(),n=i.widget();i.open(e,{launcher:this.element,initialFocus:t}),n.is(":visible")&&(this._menuVisible=!0,n[0].getAttribute("aria-label")||n[0].getAttribute("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,n[0].setAttribute("aria-labelledby",this.element[0].getAttribute("id"))),this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}},_dismissMenu:function(e,t){if(this._menuVisible){var i=this._getMenuOnly(e);i&&(i.__collapseAll(t,!0),i.__dismiss(t))}},_menuDismissHandler:function(){this._setAriaLabelledBy&&(t(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var e,i;if(t(this.rootElement).is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))e=!1,i=!1;else{var n=t(this.rootElement).is(".oj-focus");e=!n,i=n}e?this.rootElement.classList.add("oj-default"):this.rootElement.classList.remove("oj-default"),i?this.rootElement.classList.add("oj-focus-only"):this.rootElement.classList.remove("oj-focus-only")}}),e.__registerWidget("oj.ojButtonset",t.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"full",display:"all",focusManagement:"oneTabstop",labelledBy:null,describedBy:null},_setCheckedOnDom:function(e,i){var n,r=t.type(e),o=this.element[0];if((n="OJ-BUTTONSET-MANY"===o.tagName||i.length>0&&i.filter("input[type=checkbox]").length===i.length)&&"array"!==r)throw new Error("Invalid 'checked' value set on JET Buttonset: "+e);if(!(this._setCheckedOnButtons(e,i,r,n)||null===e||this._IsCustomElement()&&i.length!==o.children.length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+e)},_setCheckedOnButtons:function(e,t,i,n){var r=this._shallowCompare(e,t,n);return this._shouldDeepCompare(e,n,r)&&(r=this._deepCompare(e,t,n,r)),n?r===e.length:1===r},_shallowCompare:function(e,t,i){var n=this,r=0;return t.each(function(){var t=n._getInputValue(this);(i?e.indexOf(t)>-1:t===e)?(this.checked=!0,r+=1):this.checked=!1}),r},_shouldDeepCompare:function(e,t,i){return t?i!==e.length:!i},_deepCompare:function(e,t,i,n){var r=n,o=this;return t.each(function(){var t=o._getInputValue(this);if(i)for(var n=0;n<e.length;n++)o._deepCompareValues(t,e[n])&&(this.checked=!0,r+=1);else o._deepCompareValues(t,e)&&(this.checked=!0,r+=1)}),r},_deepCompareValues:function(i,n){return"object"===t.type(i)&&i.ojCompareValues?0===i.ojCompareValues(i,n):e.Object.compareValues(i,n)},_getInputValue:function(e){return this._IsCustomElement()?this._getOjOptionFromInput(e).value:e.value},_getOjOptionFromInput:function(e){return e.previousElementSibling.children[0]},_getCheckedFromDom:function(e){var t,i=null,n=null,r=this;return e.each(function(){if("input"!==this.tagName.toLowerCase())return t=void 0,!1;var e,o,s=this.type.toLowerCase();if("radio"===s)e=!0,o=this.name.toLowerCase();else{if("checkbox"!==s)return t=void 0,!1;e=!1,o=null}if(void 0!==t&&(e!==i||o!==n||i&&!n))return t=void 0,!1;var a=r._getInputValue(this);void 0===t?(t=e?this.checked?a:null:this.checked?[a]:[],i=e,n=o):this.checked&&(i?t=a:t.push(a))}),t},_CompareOptionValues:function(e,i,n){return"checked"===e?i===n||"array"===t.type(i)&&"array"===t.type(n)&&this._compareArraysAsSets(i,n):this._superApply(arguments)},_compareArraysAsSets:function(e,t){return!e.some(function(e){return t.indexOf(e)<0})&&!t.some(function(t){return e.indexOf(t)<0})},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var e=this,i=this.element[0].querySelectorAll("oj-option");t.each(i,function(t,i){i.customOptionRenderer=e._customOptionRenderer.bind(e)})},_customOptionRenderer:function(e){this._removeOptionDecoration(e),this._addOptionDecoration(e)},_addOptionDecoration:function(e){this._addOptionClasses(e);var i="OJ-BUTTONSET-ONE"===this.element[0].tagName,n=i?"radio":"checkbox",r=e.value,o=e.disabled,s=document.createElement("input"),a=document.createElement("label");t(s).uniqueId(),s.value=r,s.type=n,s.disabled=o;var l=s.id;a.htmlFor=l,i&&(this._name||(this._name="_n_"+l),s.name=this._name),e.parentNode.insertBefore(a,e),a.appendChild(e),a.parentNode.insertBefore(s,a.nextElementSibling),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons),this.$buttons.each(function(){t(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})},_removeOptionDecoration:function(e){var i=e.parentNode;if("LABEL"===i.tagName){this._removeOptionClasses(e);var n=t(i).siblings(".oj-button-input");n.ojButton("destroy"),n.removeUniqueId(),n.remove(),i.parentNode.insertBefore(e,i),i.parentNode.removeChild(i)}},_addOptionClasses:function(t){var i=e.BaseCustomElementBridge.getSlotMap(t),n=i[""]?i[""]:null,r=i.startIcon?i.startIcon[0]:null,o=i.endIcon?i.endIcon[0]:null;if(r&&(r.classList.add("oj-button-icon"),r.classList.add("oj-start")),n)for(var s=0;s<n.length;s++){var a=n[s],l=a;3===a.nodeType&&(l=document.createElement("span"),a.parentNode.insertBefore(l,a),l.appendChild(a)),l.classList.add("oj-button-text")}o&&(o.classList.add("oj-button-icon"),o.classList.add("oj-end"))},_removeOptionClasses:function(t){var i=e.BaseCustomElementBridge.getSlotMap(t),n=i[""]?i[""]:null,r=i.startIcon?i.startIcon[0]:null,o=i.endIcon?i.endIcon[0]:null;if(r&&(r.classList.remove("oj-button-icon"),r.classList.remove("oj-start")),n)for(var s=0;s<n.length;s++)n[s].classList.remove("oj-button-text");o&&(o.classList.remove("oj-button-icon"),o.classList.remove("oj-end"))},_InitOptions:function(e,i){if(this._super(e,i),this.$buttons=this.element.find(this._items),!("checked"in i)){this.initCheckedFromDom=!0;var n=this._getCheckedFromDom(this.$buttons);"array"!==t.type(n)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==n&&this.option("checked",n,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super();var e=this.element[0];e.setAttribute(n._OJ_CONTAINER_ATTR,this.widgetName),e.classList.add("oj-buttonset"),e.classList.add("oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(t,i,{launcher:n,position:{of:"keyboard"===i?n.ojButton("widget"):t}})},_propagateDisabled:function(e){var i=!!e;this.$buttons.each(function(){t(this).data("oj-ojButton").__setAncestorComponentDisabled(i)})},_setRole:function(e){var t=this.element[0];"oneTabstop"===e?t.setAttribute("role","toolbar"):t.removeAttribute("role")},_setOption:function(e,i,n){var r=this.options[e];if(this._superApply(arguments),"disabled"===e)this._propagateDisabled(i),this._refreshTabStop();else if("checked"===e)this._setCheckedOnDom(i,this.$buttons),this.$buttons.each(function(){t(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)});else if("focusManagement"===e)this._setRole(i);else if("chroming"===e)s(this.element[0],i),this.$buttons.ojButton("refresh");else if("display"===e)this.$buttons.ojButton("option",e,i);else if("labelledBy"===e){var o=this.element;this._updateLabelledBy(o[0],r,i,o)}else"describedBy"===e&&this._updateDescribedBy(r,i)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(e){var i=this,n=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),s(n,this.options.chroming),!e||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),e||(this.$buttons=this.element.find(this._items)),this.$buttons.length>1?n.classList.add("oj-buttonset-multi"):n.classList.remove("oj-buttonset-multi"),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){t(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton({display:this.options.display}).end();for(var r=0,o=this.$buttons.length;r<o;r++){var a=this.$buttons.eq(r).ojButton("widget")[0];a.classList.remove("oj-buttonset-first"),a.classList.remove("oj-buttonset-last"),0===r?a.classList.add("oj-buttonset-first"):r===o-1&&a.classList.add("oj-buttonset-last")}this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(e){i._handleKeyDown(e,t(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){t(this).data("oj-ojButton")._IsEffectivelyDisabled()||i._setTabStop(t(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){i._setTabStop(t(this))}),this.$enabledButtons=this.$buttons.filter(function(){return!t(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(e)),this.element.uniqueId(),this._updateLabelledBy(n,null,this.options.labelledBy,this.element);var l=this.options.describedBy;if(l)for(var u=l.split(/\s+/),c=0;c<u.length;c++)this._addAriaDescribedBy(u[c])},_updateLabelledBy:o._updateLabelledBy,_addAriaDescribedBy:o._addAriaDescribedBy,_updateDescribedBy:o._updateDescribedBy,_removeAriaDescribedBy:o._removeAriaDescribedBy,_GetContentElement:function(){return null!=this.$buttons?this.$buttons:(this.$buttons=this.element.find(this._items),this.$buttons)},_refreshTabStop:function(){"oneTabstop"===this.options.focusManagement&&(this.$enabledButtons=this.$buttons.filter(function(){return!t(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(!1))},_initTabindexes:function(e){var i,n=t(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1"),i=e||!n.is(this.$enabledButtons)?this.$enabledButtons.first():n,this._setTabStop(i)},_mapToTabbable:function(e){var t=this.$enabledButtons;return e.map(function(e,i){if("radio"!==i.type||i.checked||""===i.name)return i;var n=a(i,t).filter(":checked");return n.length?n[0]:i})},_setTabStop:function(e){var t=(e=this._mapToTabbable(e))[0],i=this._lastTabStop;t!==i&&(i&&i.setAttribute("tabindex","-1"),e[0]&&e[0].setAttribute("tabindex","0"),this._lastTabStop=t)},_handleKeyDown:function(e,i){switch(e.which){case t.ui.keyCode.UP:case t.ui.keyCode.DOWN:if("radio"!==i[0].getAttribute("type"))break;case t.ui.keyCode.LEFT:case t.ui.keyCode.RIGHT:e.preventDefault();var n=this.$enabledButtons,r=n.length;if(r<2)break;var o=(n.index(i)+(e.which===t.ui.keyCode.DOWN||e.which===t.ui.keyCode.RIGHT!==this.isRtl?1:-1)+r)%r;n.eq(o).focus()}},_destroy:function(){var e=this.element[0];c(e,"oj-buttonset oj-component "+f),e.removeAttribute(n._OJ_CONTAINER_ATTR),e.removeAttribute("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return t(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}}),n.setDefaultOptions({ojButton:{chroming:n.createDynamicPropertyGetter(function(e){return l("button",e.element,e.containers)})},ojButtonset:{chroming:n.createDynamicPropertyGetter(function(e){return l("buttonset",e.element,e.containers)})}})}(),s.extension._WIDGET_NAME="ojButton",s.extension._TRACK_CHILDREN="nearestCustomElement",s.extension._GLOBAL_TRANSFER_ATTRS=["href"],e.CustomElementBridge.register("oj-button",{metadata:s,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}}),u.extension._WIDGET_NAME="ojButton",u.extension._TRACK_CHILDREN="nearestCustomElement",u.extension._GLOBAL_TRANSFER_ATTRS=["href"],e.CustomElementBridge.register("oj-menu-button",{metadata:u,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}}),l.extension._WIDGET_NAME="ojButtonset",l.extension._ALIASED_PROPS={value:"checked"},e.CustomElementBridge.register("oj-buttonset-one",{metadata:l}),a.extension._WIDGET_NAME="ojButtonset",a.extension._ALIASED_PROPS={value:"checked"},e.CustomElementBridge.register("oj-buttonset-many",{metadata:a})}),define("ojs/ojdatetimepicker",["ojs/ojcore","jquery","hammerjs","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojinputtext","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojvalidation-datetime","ojs/ojanimation","ojs/ojlogger","ojs/ojpopup","ojs/ojbutton"],function(e,t,i,n,r,o,s,a,l,u,c,d,p){"use strict";function h(e,t){t=e.parse(t);var i,n=new Date;try{i=u.IntlConverterUtils._dateTime(t,["date","fullYear","month","hours","minutes","seconds"],!0)}catch(e){return p.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}return n.setFullYear(i.fullYear),n.setDate(i.date),n.setMonth(i.month),n.setHours(i.hours),n.setMinutes(i.minutes),n.setSeconds(i.seconds),n.setMilliseconds(0),n}function m(e){return this.options.converter.parse(e)}function f(i,n,r){var o=i.translations.dateTimeRange||{},s=[{category:"hint",entries:["min","max","inRange"]},{category:"messageDetail",entries:["rangeUnderflow","rangeOverflow"]},{category:"messageSummary",entries:["rangeUnderflow","rangeOverflow"]}],a={min:i.min,max:i.max,converter:n,translationKey:{"oj-inputdatetime":"datetime","oj-inputtime":"time","oj-inputdate":"date"}[r]};if(!t.isEmptyObject(o))for(var l=0,u=s.length;l<u;l++){var c=o[s[l].category];if(c){for(var d={},p=s[l].entries,h=0,m=p.length;h<m;h++)d[p[h]]=c[p[h]];a[s[l].category]=d}}return e.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE).createValidator(a)}function g(e,t){for(var i=0;i<e.length;i++){var n=e[i];"SPAN"===n.tagName&&(t?(n.classList.add("oj-disabled"),n.classList.remove("oj-enabled"),n.classList.remove("oj-default")):(n.classList.remove("oj-disabled"),n.classList.add("oj-enabled"),n.classList.add("oj-default")))}}function _(e,t,i){if(!e||t===i.length)return e;var n=t+1;return _(e[i[t]],n,i)||_(e["*"],n,i)}function v(e){var i;i=e._isInLine?e.element[0].parentNode:e.element[0].parentNode.parentNode,e._AddActiveable(t(i))}function y(e){return"native"===e.options.renderMode&&window.cordova&&window.datePicker}function E(e){var t=e.split(":");if(4!==t.length)throw new Error("timeIncrement value should be in the format of hh:mm:ss:SSS");for(var i={hourIncr:parseInt(t[0].substring(0),10),minuteIncr:parseInt(t[1],10),secondIncr:parseInt(t[2],10),millisecondIncr:parseInt(t[3],10)},n=0,r=Object.keys(i),o=0;o<r.length;o++)n+=i[r[o]];if(0===n)throw new Error("timeIncrement must have a non 00:00:00:000 value");return i}function b(i,n){for(var r=i.resolvedOptions(),o={},s=["hour","hour12","minute","second","millisecond","timeFormat","timeZone","timeZoneName","isoStrFormat","dst"],a=0,l=s.length;a<l;a++)s[a]in r&&("timeFormat"===s[a]&&(o.formatType="time"),o[s[a]]=r[s[a]]);var c={};if(t.extend(c,o),delete c.isoStrFormat,delete c.dst,t.isEmptyObject(c))throw new Error("Empty object for creating a time picker converter");return t.extend(o,n||{}),u.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(o)}function S(e,n,r){function o(){V.ojHammer().off("tap",d).off("swipeup",p).off("swipedown",h).off("panstart",m).off("panend pancancel",f).off("panup pandown",g),V.ojHammer("destroy")}function s(){if(R[A+1]){l(1);var e=R.shift();e&&E.removeChild(e);var t=O(j,A,k);t&&E.appendChild(t),R.push(t)}}function a(){if(R[A-1]){l(-1);var e=R.pop();e&&E.removeChild(e);var t=O(j,-A,k);t&&E.insertBefore(t,R[0]),R.unshift(t)}}function l(e){for(var t=0;t<R.length;t++){var i=R[t];i&&i.ojUpdatePosition(t-A-e)}E.setAttribute("aria-valuenow",j.getText(0))}function u(){R.forEach(function(e){e&&E.removeChild(e)}),R=[];for(var e=-A;e<=A;e++){var t=O(j,e,k);t&&E.appendChild(t),R.push(t)}E.setAttribute("aria-valuenow",j.getText(0))}function c(e){var t=e.keyCode;switch(t){case L:j.position+=1,e.preventDefault();break;case w:j.position-=1,e.preventDefault();break;case N:j.keyboardValue=j.keyboardValue.slice(0,-1),e.preventDefault();break;default:(t>47&&t<58||t>95&&t<112||!n&&t>64&&t<91)&&(j.keyboardValue+=e.key)}}function d(e){E.focus();for(var t=(e.gesture.center.y-E.getBoundingClientRect().top)/V.height(),i=0;i<4&&t>D[i];)i+=1;2!==i&&(j.position+=i-2)}function p(e){E.focus();var t=e.gesture.velocityY,i=t*t/M;I=Math.floor(i/V.height()*5),e.preventDefault()}function h(e){E.focus();var t=e.gesture.velocityY,i=t*t/M;I=-Math.floor(i/V.height()*5),e.preventDefault()}function m(e){E.focus(),C=e.gesture.center.y,b=C,T=0,I=0}function f(){E.focus(),I&&(j.position+=I),b=null,C=null,T=null}function g(e){E.focus();var t=e.gesture.center.y,i=Math.round((b-t)/V.height()*5);i!==T&&Math.abs(C-t)>P&&(C=t,j.position+=i-T,T=i),e.preventDefault()}function _(e){e.deltaY&&(e.currentTarget.focus(),e.preventDefault()),e.deltaY<0&&(j.position+=1),e.deltaY>0&&(j.position-=1)}function v(){j.keyboardValue="",E.classList.add("oj-focus")}function y(){E.classList.remove("oj-focus"),j.update()}var E,b,C,T,I,A=7,P=2,D=[.152,.362,.638,.848],M=.007,N=8,L=38,w=40,j=e,R=[],k=!n&&"oj-timepicker-meridian"===r;!function(){(E=document.createElement("div")).classList.add("oj-timepicker-wheel"),r&&E.classList.add(r),E.setAttribute("id","_ojWheel"+S.counter),S.counter+=1,E.setAttribute("tabIndex","0"),E.setAttribute("role","spinbutton"),j.wheel=E}();var U,V=t(E);return E.ojSpinUp=s,E.ojSpinDown=a,E.ojRefresh=u,E.ojDestroy=o,E.ojLinked=function(){return j.linked},U={recognizers:[[i.Pan,{direction:i.DIRECTION_VERTICAL}],[i.Tap],[i.Swipe,{direction:i.DIRECTION_VERTICAL}]]},V.ojHammer(U).on("tap",d).on("swipeup",p).on("swipedown",h).on("panstart",m).on("panend pancancel",f).on("panup pandown",g),E.addEventListener("wheel",_,!1),E.addEventListener("keydown",c,!1),E.addEventListener("focus",v,!1),E.addEventListener("blur",y,!1),u(),E}function O(e,i,n){function r(){o.parentNode.focus()}var o,s,a=!1,l=e.getText(i);if(l){(o=document.createElement("div")).classList.add("oj-timepicker-wheel-item"),o.classList.add("oj-timepicker-wheel-item-position"+i),s=i,e.isDisabled(i)&&(a=!0,o.classList.add("oj-disabled")),o.ojUpdatePosition=function(e){return o.classList.remove("oj-timepicker-wheel-item-position"+s),o.classList.add("oj-timepicker-wheel-item-position"+e),s=e,Promise.resolve()};var u=document.createElement("div");u.textContent=l,u.classList.add("oj-timepicker-wheel-item-content"),n&&u.setAttribute("title",l),o.appendChild(u),Object.defineProperty(o,"ojDisabled",{enumerable:!0,get:function(){return a},set:function(e){e!==a&&(t(o).toggleClass("oj-disabled"),a=e)}}),o.addEventListener("focus",r,!1),u.addEventListener("focus",r,!1)}return o}function C(e,t){function i(){if(t)for(var e=Object.keys(t),i=0;i<e.length;i++){var n=e[i];A[n]=t[n]}}function n(){var e=!1,t=v.value;A.value=a(t);var i,n=v.max;i=l(t)===l(n)?a(n)+1:S,d!==i&&(e=!0,d=i);var r,s=v.min;r=l(t)===l(s)?a(s):0,c!==r&&(e=!0,c=r);var f=v.increment,g=function e(t,i){return 0===i?t:e(i,t%i)}(f,m);g===m?(c=0,d=1,e=!0):A.linked&&f>h?g=f:0===o(g,h)?g/=h:g=1,O!==g&&(O=g,e=!0),u=Math.floor(S/O),p=u>4,A.wheel&&e&&A.wheel.ojRefresh()}function r(){m=h*S,f=T*b}function o(e,t){return(e%t+t)%t}function s(e,t){return Math.floor(e/m)*m+o(t,S)*h+o(e,h)}function a(e){return o(Math.floor(e/h),S)}function l(e){return Math.floor(e/m)}var u,c,d,p,h,m,f,g=[150,100,50,25,16],_=0,v=e,y=0,E=0,b=1,S=1,O=1,C="",T=1,I=!1,A=this;Object.defineProperty(A,"position",{enumerable:!0,get:function(){return y},set:function(e){var t=o(e,u)*O;t>=c&&t<d&&e!==y&&(A.value+=(e-y)*O)}}),Object.defineProperty(A,"value",{enumerable:!0,get:function(){return _},set:function(e){var t=Math.round(e/O)*O;(function(e){return!!p||c<=e&&e<d})(t)&&_!==t&&(_=o(t,S),function(){var e,t=o((e=_,Math.floor(e/O)),u),i=o(A.position,u),n=t-i;p&&(t>i?i+u-t<Math.abs(n)&&(n=t-i-u):t+u-i<Math.abs(n)&&(n=t+u-i)),0!==n&&(y+=n,A.wheel?I||(I=!0,function e(){if(A.wheel){g.forEach(function(e){A.wheel.classList.remove("oj-timepicker-wheel-spin-"+e)});var t,i=Math.abs(y-E);0!==i?(i-=1,i=Math.min(i,g.length-1),t=g[i],A.wheel.classList.add("oj-timepicker-wheel-spin-"+g[i]),y>E&&(E+=1,A.wheel.ojSpinUp()),y<E&&(E-=1,A.wheel.ojSpinDown()),t&&(v.disableSpin?e.call(A):setTimeout(e.bind(A),t))):I=!1}}.call(A)):E=y)}(),A.linked&&(2===S&&(v.disableSpin=!0),v.value=s(v.value,_),v.disableSpin=!1))}}),Object.defineProperty(A,"increment",{enumerable:!0,get:function(){return O},set:function(e){O!==e&&(O=e,r())}}),Object.defineProperty(A,"valueMultiplier",{enumerable:!0,get:function(){return h},set:function(e){h!==e&&(h=e,r())}}),Object.defineProperty(A,"valueRange",{enumerable:!0,get:function(){return S},set:function(e){S!==e&&(S=e,r())}}),Object.defineProperty(A,"displayMultiplier",{enumerable:!0,get:function(){return T},set:function(e){T!==e&&(T=e,r())}}),Object.defineProperty(A,"displayRange",{enumerable:!0,get:function(){return b},set:function(e){b!==e&&(b=e,r())}}),Object.defineProperty(A,"keyboardValue",{enumerable:!0,get:function(){return C},set:function(e){if(C=e,A.parser&&C){var t=A.parser(C);t>=0&&(i=_,n=t,t=Math.floor(i/f)*f+o(n,b)*T+o(i,T),c<=t&&t<d&&(A.value=t)),C.length>=2?C="":setTimeout(function(){C=""},1e3)}var i,n}}),A.getText=function(e){var t,i=o(E,u)+e,n=p||i>=0&&i<u;if(A.formatter&&n){var r=function(e){return t=function(e){return o(o(e,u)*O,S)}(e),o(Math.floor(t/T),b);var t}(E+e);t=A.formatter(r)}return t},A.isDisabled=function(e){var t=o(E+e,u)*O;return 0!==c&&t<c||d!==S&&t>=d},A.update=function(){v.value=s(v.value,_)},A.refresh=n,A.setProperties=i,i()}var T,I,A={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object",value:'oj.Validation.converterFactory(\'datetime\').createConverter({"day":"2-digit","month":"2-digit","year":"2-digit"})',properties:{type:{type:"string"},options:{type:"object"}}},datePicker:{type:"object",properties:{changeMonth:{type:"string",enumValues:["none","select"],value:"select"},changeYear:{type:"string",enumValues:["none","select"],value:"select"},currentMonthPos:{type:"number",value:0},daysOutsideMonth:{type:"string",enumValues:["hidden","selectable","visible"],value:"hidden"},footerLayout:{type:"string",enumValues:["","today"],value:"today"},numberOfMonths:{type:"number",value:1},showOn:{type:"string",enumValues:["focus","image"],value:"focus"},stepBigMonths:{type:"number",value:12},stepMonths:{type:"string|number",value:"numberOfMonths"},weekDisplay:{type:"string",enumValues:["none","number"],value:"none"},yearRange:{type:"string",value:"c-10:c+10"}}},dayFormatter:{type:"function"},dayMetaData:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{
_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{style:{type:"string"},class:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{currentText:{type:"string"},dateRestriction:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},nextText:{type:"string"},prevText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipCalendar:{type:"string"},tooltipCalendarDisabled:{type:"string"},tooltipCalendarTime:{type:"string"},tooltipCalendarTimeDisabled:{type:"string"},weekHeader:{type:"string"}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{hide:{},refresh:{},show:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}},P={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object",value:'oj.Validation.converterFactory(\'datetime\').createConverter({"day": "2-digit", "month": "2-digit", "year": "2-digit", "hour": "2-digit", "minute": "2-digit"})',properties:{type:{type:"string"},options:{type:"object"}}},datePicker:{type:"object",properties:{changeMonth:{type:"string",enumValues:["none","select"],value:"select"},changeYear:{type:"string",enumValues:["none","select"],value:"select"},currentMonthPos:{type:"number",value:0},daysOutsideMonth:{type:"string",enumValues:["hidden","selectable","visible"],value:"hidden"},footerLayout:{type:"string",enumValues:["","today"],value:"today"},numberOfMonths:{type:"number",value:1},showOn:{type:"string",enumValues:["focus","image"],value:"focus"},stepBigMonths:{type:"number",value:12},stepMonths:{type:"string|number",value:"numberOfMonths"},weekDisplay:{type:"string",enumValues:["none","number"],value:"none"},yearRange:{type:"string",value:"c-10:c+10"}}},dayFormatter:{type:"function"},dayMetaData:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{style:{type:"string"},class:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},timePicker:{type:"object",properties:{footerLayout:{type:"string",enumValues:["","now"],value:""},showOn:{type:"string",enumValues:["focus","image"],value:"focus"},timeIncrement:{type:"string",value:"00:05:00:00"}}},translations:{type:"object",value:{},properties:{cancel:{type:"string"},currentText:{type:"string"},dateRestriction:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},done:{type:"string"},nextText:{type:"string"},prevText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipCalendar:{type:"string"},tooltipCalendarDisabled:{type:"string"},tooltipCalendarTime:{type:"string"},tooltipCalendarTimeDisabled:{type:"string"},weekHeader:{type:"string"}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{show:{},showTimePicker:{},hideTimePicker:{},hide:{},refresh:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}},D={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object",value:'oj.Validation.converterFactory(\'datetime\').createConverter({"hour": "2-digit", "minute": "2-digit"})',properties:{type:{type:"string"},options:{type:"object"}}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string",value:["placeholder","notewindow"]},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string",value:["inline"]},validatorHint:{type:"Array<string>|string",value:["notewindow"]}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{style:{type:"string"},class:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},timePicker:{type:"object",properties:{footerLayout:{type:"string",enumValues:["","now"],value:""},showOn:{type:"string",enumValues:["focus","image"],value:"focus"},timeIncrement:{type:"string",value:"00:05:00:00"}}},translations:{type:"object",value:{},properties:{ampmWheelLabel:{type:"string"},cancelText:{type:"string"},currentTimeText:{type:"string"},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},hourWheelLabel:{type:"string"},minuteWheelLabel:{type:"string"},okText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipTime:{type:"string"},tooltipTimeDisabled:{type:"string"}}},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{show:{},hide:{},refresh:{},validate:{},reset:{},showMessages:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{}},extension:{}},M=r.parseJSONFromFontFamily("oj-datetimepicker-config")||{},N=((I=M.dateTimePickerDropDownThresholdWidth)&&(T="(min-width: "+I+")"),window.matchMedia(T||"(min-width: 768px)")),L=N.matches,w=function(){L=N.matches};window.addEventListener("resize",w,!1);var j=e.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({year:"numeric"});e.__registerWidget("oj.ojInputDate",t.oj.inputBase,{widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-only oj-component oj-inputdatetime",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"title"},{attribute:"placeholder"},{attribute:"value",coerceDomValue:m},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"min",coerceDomValue:m},{attribute:"max",coerceDomValue:m}],_TRIGGER_CLASS:"oj-inputdatetime-input-trigger",_TRIGGER_CALENDAR_CLASS:"oj-inputdatetime-calendar-icon",_CURRENT_CLASS:"oj-datepicker-current-day",_DAYOVER_CLASS:"oj-datepicker-days-cell-over",_UNSELECTABLE_CLASS:"oj-datepicker-unselectable",_DATEPICKER_DIALOG_DESCRIPTION_ID:"oj-datepicker-dialog-desc",_DATEPICKER_DESCRIPTION_ID:"oj-datepicker-desc",_CALENDAR_DESCRIPTION_ID:"oj-datepicker-calendar",_MAIN_DIV_ID:"oj-datepicker-div",_INLINE_CLASS:"oj-datepicker-inline",_INPUT_CONTAINER_CLASS:" oj-inputdatetime-input-container",_INLINE_WIDGET_CLASS:" oj-inputdatetime-inline",_ON_CLOSE_REASON_SELECTION:"selection",_ON_CLOSE_REASON_CANCELLED:"cancelled",_ON_CLOSE_REASON_TAB:"tab",_ON_CLOSE_REASON_CLOSE:"close",_KEYBOARD_EDIT_OPTION_ENABLED:"enabled",_KEYBOARD_EDIT_OPTION_DISABLED:"disabled",options:{datePicker:{footerLayout:"",changeMonth:"select",changeYear:"select",currentMonthPos:0,daysOutsideMonth:"hidden",numberOfMonths:1,showOn:"focus",stepMonths:"numberOfMonths",stepBigMonths:12,weekDisplay:"none",yearRange:"c-10:c+10"},converter:e.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit"}),keyboardEdit:"enabled",max:void 0,min:void 0,pickerAttributes:null,renderMode:"jet",dayFormatter:null},_InitBase:function(){this._triggerNode=null,this._inputContainer=null,this._redirectFocusToInputContainer=!1,this._isMobile=!1,this._ignoreShow=!1,this._nativePickerShowing=!1,this._maxRows=4,this._currentDay=0,this._drawMonth=0,this._currentMonth=0,this._drawYear=0,this._currentYear=0,this._datePickerDefaultValidators={},this._nativePickerConverter=null;var e=this.element[0].nodeName.toLowerCase();this._isInLine="div"===e||"span"===e,this._isInLine?(this._createDpDiv(),this._WIDGET_CLASS_NAMES+=this._INLINE_WIDGET_CLASS,this._CLASS_NAMES=""):(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this._INPUT_CONTAINER_CLASS,!0!==this.options.readOnly&&(this._createDpDiv(),this._createPopupDpDiv()))},_createDpDiv:function(){var e=document.createElement("div");e.className="oj-datepicker-popup",e.style.display="none";var i=document.createElement("div");i.id=this._GetSubId(this._MAIN_DIV_ID),i.setAttribute("role","region"),i.setAttribute("aria-describedby",this._GetSubId(this._DATEPICKER_DESCRIPTION_ID)),i.className="oj-datepicker-content",e.appendChild(i),this._dpDiv=function(e){var t=".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){this.classList.remove("oj-hover")}).delegate(t,"mouseover",function(){this.classList.add("oj-hover")}).delegate(t,"focus",function(){this.classList.add("oj-focus")}).delegate(t,"blur",function(){this.classList.remove("oj-focus")})}(t(e)),document.body.appendChild(e)},_createPopupDpDiv:function(){var t=this;this._popUpDpDiv=this._dpDiv.ojPopup({initialFocus:"none",role:"dialog",modality:L?"modeless":"modal",open:function(){t._popUpDpDiv.attr("aria-describedby",t._GetSubId(t._DATEPICKER_DIALOG_DESCRIPTION_ID)),"image"===t.options.datePicker.showOn&&t._dpDiv.find(".oj-datepicker-calendar").focus()},animateStart:function(e,t){"open"===t.action&&(e.preventDefault(),d.slideIn(t.element,{offsetY:t.element.offsetHeight+"px"}).then(t.endCallback))},animation:{open:null,close:null}}).attr("data-oj-internal",""),this.element.attr("data-oj-popup-"+this._popUpDpDiv.attr("id")+"-parent","");var i=this.options.pickerAttributes;i&&e.EditableValueUtils.setPickerAttributes(this._popUpDpDiv.ojPopup("widget"),i)},_ComponentCreate:function(){this._InitBase();var e,t=this._super();return this.options.dayMetaData&&(this.options.dayFormatter=(e=this.options.dayMetaData,function(t){return _(e,0,[t.fullYear,t.month,t.date])})),this._setCurrentDate(this._getDateIso()),this._isInLine?(this.element.append(this._dpDiv),this.element.addClass(this._INLINE_CLASS),this._dpDiv.css("display","block"),this._registerSwipeHandler()):(this._processReadOnlyKeyboardEdit(),!0!==this.options.readOnly&&(this._attachTrigger(),this._registerSwipeHandler())),v(this),t},_AfterCreate:function(){var e,t=this._superApply(arguments);if(this._disableEnable(this.options.disabled),!this._IsCustomElement()){var i=this.$label;this._inputContainer&&i&&1===i.length&&(e=i.attr("id"),this._inputContainer.attr("aria-labelledby",e))}return t},_AfterCreateConverterCached:function(){return this._super()},_setOption:function(t,i,n){var r=null;if("value"===t){if(i||(i=null),r=this._super(t,i,n),this._setCurrentDate(i),this._datepickerShowing()){var o=!(this._isInLine&&this._timePicker&&this._timePicker[0]===document.activeElement);this._updateDatepicker(o)}return r}return"dayMetaData"!==t?(r=this._super(t,i,n),"disabled"===t?this._disableEnable(i):"max"===t||"min"===t?(this._datePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE]=this._getValidator("min"),this._AfterSetOptionValidators()):"readOnly"===t?(this._isInLine||i||null!=this._dpDiv||(this._createDpDiv(),this._createPopupDpDiv(),this._attachTrigger(),this._registerSwipeHandler(),this._AppendInputHelper(),this._setupResizePopupBind()),this._processReadOnlyKeyboardEdit(),i&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._AfterSetOptionDisabledReadOnly("readOnly",e.EditableValueUtils.readOnlyOptionOptions)):"keyboardEdit"===t?this._processReadOnlyKeyboardEdit():"dayFormatter"===t?(this._datePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION]=this._getValidator("dayFormatter"),this._AfterSetOptionValidators()):"converter"===t&&(this._nativePickerConverter=null),"datePicker"===t&&"currentMonthPos"===n.subkey&&this._setCurrentDate(this._getDateIso()),this._datepickerShowing()&&t in{max:!0,min:!0,dayFormatter:!0,datePicker:!0,translations:!0}&&this._updateDatepicker(),r):void this.option("dayFormatter",function(e){return _(i,0,[e.fullYear,e.month,e.date])},n)},_processReadOnlyKeyboardEdit:function(){var e=this.options.readOnly||this._isKeyboardEditDisabled();this.element.prop("readOnly",!!e)},_isKeyboardEditDisabled:function(){return this.options.keyboardEdit===this._KEYBOARD_EDIT_OPTION_DISABLED},_AppendInputHelperParent:function(){return this._triggerNode},_destroy:function(){return this._cleanUpDateResources(),this._super()},_datepickerShowing:function(){return this._isInLine||this._popUpDpDiv&&o.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("isOpen")||this._nativePickerShowing},_SetupResources:function(){return this._isInLine||!0!==this.options.readOnly&&this._setupResizePopupBind(),this._super()},_SetLoading:function(){this._super(),this.element.prop("readOnly",!0),this._hide(this._ON_CLOSE_REASON_CLOSE)},_ClearLoading:function(){this._super(),this._processReadOnlyKeyboardEdit()},_setupResizePopupBind:function(){this._resizePopupBind=function(){o.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("option","modality",L?"modeless":"modal")}.bind(this),window.addEventListener("resize",this._resizePopupBind,!1)},_ReleaseResources:function(){return this._IsCustomElement()&&this._cleanUpListeners(),this._super()},_cleanUpDateResources:function(){var e;e=this._isInLine?this.element[0].parentNode:this.element[0].parentNode.parentNode,this._RemoveActiveable(t(e)),this.element.off("focus touchstart"),this._wrapper.off("touchstart"),this._triggerNode&&this._triggerNode.remove(),this._isInLine&&(this.element.removeProp("disabled"),this.element.removeProp("readonly")),this._cleanUpListeners(),this._animationResolve&&(this._animationResolve(),this._animationResolve=null),this._popUpDpDiv&&o.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("destroy"),this._dpDiv&&this._dpDiv.remove()},_cleanUpListeners:function(){this._resizePopupBind&&window.removeEventListener("resize",this._resizePopupBind),window.removeEventListener("resize",w)},_WrapElement:function(){this._inputContainer=this._superApply(arguments),this._inputContainer.attr({role:"presentation",tabindex:"-1"}),this.element.attr({role:"combobox","aria-haspopup":"true"})},_onElementFocus:function(){var e=this.options.datePicker.showOn;this._redirectFocusToInputContainer?(this._redirectFocusToInputContainer=!1,this._inputContainer.focus()):"focus"===e?this.show():this._datepickerShowing()&&this._hide(this._ON_CLOSE_REASON_CLOSE)},_OnElementTouchStart:function(e){if(e.preventDefault(),"focus"===this.options.datePicker.showOn)if(this._datepickerShowing())this._ignoreShow=!0,this._hide(this._ON_CLOSE_REASON_CLOSE);else{var t=this.element[0]===document.activeElement;this.show(),this._redirectFocusToInputContainer=!0,t&&this._inputContainer.focus()}},_attachTrigger:function(){var e=this.options.datePicker.showOn,i=document.createElement("span");i.className=this._TRIGGER_CLASS;var n=document.createElement("span");n.setAttribute("title",this._GetCalendarTitle()),n.className=this._TRIGGER_CALENDAR_CLASS+" oj-clickable-icon-nocontext oj-component-icon",i.appendChild(n),this.element.on("focus",t.proxy(this._onElementFocus,this)),this.element.on("touchstart",t.proxy(this._OnElementTouchStart,this));var r=this;this._wrapper.on("touchstart",function(){r._isMobile=!0}),"image"===e&&(n.style.display="block",this._IsRTL()?(this.element.css("border-top-left-radius",0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0))),n.addEventListener("click",function(e){r._datepickerShowing()?r._hide(r._ON_CLOSE_REASON_CLOSE):(r.show(),r._dpDiv.find(".oj-datepicker-calendar").focus()),e.preventDefault(),e.stopPropagation()});var o=t(n);this._AddHoverable(o),this._AddActiveable(o),this._triggerIcon=o,this._triggerNode=t(i),this.element[0].parentNode.insertBefore(i,this.element[0].nextElementSibling)},_doCalendarKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.TAB:break;case n.SPACE:case n.ENTER:var o=t("td."+this._DAYOVER_CLASS,this._dpDiv);return o[0]&&this._selectDay(this._currentMonth,this._currentYear,o[0],e),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),i=!0;break;case n.PAGE_UP:e.ctrlKey&&e.altKey?this._adjustDate(-this.options.datePicker.stepBigMonths,"M",!0):e.altKey?this._adjustDate(-1,"Y",!0):this._adjustDate(-this._getStepMonths(),"M",!0),i=!0;break;case n.PAGE_DOWN:e.ctrlKey&&e.altKey?this._adjustDate(+this.options.datePicker.stepBigMonths,"M",!0):e.altKey?this._adjustDate(1,"Y",!0):this._adjustDate(+this._getStepMonths(),"M",!0),i=!0;break;case n.END:this._currentDay=this._getDaysInMonth(this._currentYear,this._currentMonth),this._changeCurrentDay(),i=!0;break;case n.HOME:this._currentDay=1,this._changeCurrentDay(),i=!0;break;case n.LEFT:e.originalEvent&&e.originalEvent.altKey||e.altKey?this._adjustDate(e.ctrlKey?-this.options.datePicker.stepBigMonths:-this._getStepMonths(),"M",!0):this._adjustDate(r?1:-1,"D",!0),i=!0;break;case n.UP:this._adjustDate(-7,"D",!0),i=!0;break;case n.RIGHT:e.originalEvent&&e.originalEvent.altKey||e.altKey?this._adjustDate(e.ctrlKey?+this.options.datePicker.stepBigMonths:+this._getStepMonths(),"M",!0):this._adjustDate(r?-1:1,"D",!0),i=!0;break;case n.DOWN:this._adjustDate(7,"D",!0),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_changeCurrentDay:function(){var e=t("."+this._DAYOVER_CLASS,this._dpDiv),i=this._currentDay+"";1===e.length&&e.removeClass(this._DAYOVER_CLASS);var n=t("table.oj-datepicker-calendar",this._dpDiv);if(1===(e=t("a.oj-enabled:contains("+this._currentDay+")",n).filter(function(){return t(this).text()===i})).length){var r=e.parent();n.addClass("oj-focus-highlight"),n.attr("aria-activedescendant",r.attr("id")+""),r.addClass(this._DAYOVER_CLASS)}},_doMonthViewKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.SPACE:case n.ENTER:var o=t("td."+this._DAYOVER_CLASS,this._dpDiv);return o[0]&&this._selectMonthYear(o[0],"M"),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this.hide(),i=!0;break;case n.PAGE_UP:e.ctrlKey&&e.altKey?this._adjustDate(-this.options.datePicker.stepBigMonths,"M",!0,"month"):e.altKey?this._adjustDate(-1,"Y",!0,"month"):this._adjustDate(-this._getStepMonths(),"M",!0,"month"),i=!0;break;case n.PAGE_DOWN:e.ctrlKey&&e.altKey?this._adjustDate(+this.options.datePicker.stepBigMonths,"M",!0,"month"):e.altKey?this._adjustDate(1,"Y",!0,"month"):this._adjustDate(+this._getStepMonths(),"M",!0,"month"),i=!0;break;case n.END:this._currentMonth=11,this._updateDatepicker(!0,"month"),i=!0;break;case n.HOME:this._currentMonth=0,this._updateDatepicker(!0,"month"),i=!0;break;case n.LEFT:this._adjustDate(r?1:-1,"M",!0,"month"),i=!0;break;case n.UP:this._adjustDate(-3,"M",!0,"month"),i=!0;break;case n.RIGHT:this._adjustDate(r?-1:1,"M",!0,"month"),i=!0;break;case n.DOWN:this._adjustDate(3,"M",!0,"month"),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_doYearViewKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.SPACE:case n.ENTER:var o=t("td."+this._DAYOVER_CLASS,this._dpDiv);return o[0]&&this._selectMonthYear(o[0],"Y"),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this.hide(),i=!0;break;case n.PAGE_UP:e.altKey&&this._adjustDate(-1,"Y",!0,"year"),i=!0;break;case n.PAGE_DOWN:e.altKey&&this._adjustDate(1,"Y",!0,"year"),i=!0;break;case n.END:this._currentYear=10*Math.floor(this._currentYear/10)+9,this._updateDatepicker(!0,"year"),i=!0;break;case n.HOME:this._currentYear=10*Math.floor(this._currentYear/10),this._updateDatepicker(!0,"year"),i=!0;break;case n.LEFT:this._adjustDate(r?1:-1,"Y",!0,"year"),i=!0;break;case n.UP:this._adjustDate(-3,"Y",!0,"year"),i=!0;break;case n.RIGHT:this._adjustDate(r?-1:1,"Y",!0,"year"),i=!0;break;case n.DOWN:this._adjustDate(3,"Y",!0,"year"),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_getDatepickerContent:function(){return this._dpDiv?t(this._dpDiv.find(".oj-datepicker-content")[0]):t()},_isDateTimeSwitcher:function(){return this._dateTimeSwitcherActive},_updateDatepicker:function(e,t,i){var r;this._maxRows=4,(r="year"===t?this._generateViewHTML("Y"):"month"===t?this._generateViewHTML("M"):this._generateViewHTML("D")).html="<div"+(this._isDateTimeSwitcher()?"":" class='oj-datepicker-wrapper'")+">"+r.html+"</div>",this._currentView=t;var o=this._getDatepickerContent();if(i){var s=o.children().first();s.css({position:"absolute",left:0,top:0}),o.prepend(r.html);var a=o.children().first(),l="previous"===i?"end":"start";if(!this._animationResolve){var u=n.getContext(this.element[0]).getBusyContext();this._animationResolve=u.addBusyState({description:"The datepicker id='"+this.element.attr("id")+"' is animating."})}d.startAnimation(a[0],"open",{effect:"slideIn",direction:l});var c=d.startAnimation(s[0],"close",{effect:"slideOut",direction:l,persist:"all"}),p=this;c.then(function(){s&&s.remove(),p._setupNewView(e,t,r.dayOverId),p._animationResolve(),p._animationResolve=null})}else o.empty().append(r.html),this._setupNewView(e,t,r.dayOverId)},_setupNewView:function(e,t,i){this._attachHandlers(),i&&this._dpDiv.find(".oj-datepicker-calendar").attr("aria-activedescendant",i);var n=this._getNumberOfMonths(),r=n[1],o=275;if(this._dpDiv.removeClass("oj-datepicker-multi-2 oj-datepicker-multi-3 oj-datepicker-multi-4").width(""),"year"===t||"month"===t)this._dpDiv.removeClass("oj-datepicker-multi");else{if((r=(n=this._getNumberOfMonths())[1])>1){var s=this._dpDiv.find(".oj-datepicker-calendar"),a=s.find("tbody a"),l=parseFloat(a.css("width")),u=parseFloat(s.css("margin-left"));isNaN(l)||isNaN(u)||(o=l*("number"===this.options.datePicker.weekDisplay?8:7)+2*u),this._dpDiv.addClass("oj-datepicker-multi-"+r).css("width",o*r+(this._isInLine?2:0)+"px")}this._dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("oj-datepicker-multi")}this._datepickerShowing()&&this.element.is(":visible")&&!this.element.is(":disabled")&&(e?this._placeFocusOnCalendar():this._isInLine||this.element[0]===document.activeElement||this.element.focus())},_placeFocusOnCalendar:function(){var e=this._dpDiv.find(".oj-datepicker-calendar");e[0]&&e[0]!==document.activeElement&&e[0].focus()},_adjustDate:function(e,t,i,n,r){if(!this.options.disabled){var o=this._currentMonth,s=this._currentYear;this._adjustInstDate(e+("M"===t?this.options.datePicker.currentMonthPos:0),t),"D"===t&&o===this._currentMonth&&s===this._currentYear?this._changeCurrentDay():this._updateDatepicker(i,n,r)}},_gotoToday:function(){var e=new Date,t=this._GetConverter(),i=t.resolvedOptions();if(void 0!==i.timeZone&&"local"!==i.isoStrFormat){var n=t.parse(e.toISOString());e=u.IntlConverterUtils.isoToLocalDate(n)}this._currentDay=e.getDate(),this._currentMonth=e.getMonth(),this._drawMonth=this._currentMonth,this._currentYear=e.getFullYear(),this._drawYear=this._currentYear,this._adjustDate(null,null,!0,"day")},_selectMonthYear:function(e,i){var n,r=this._getDateIso(),o=e.getAttribute("data-year"),s="";o&&(n=parseInt(o,10),this._currentYear=n,this._drawYear=n,s=n+"_"),"M"===i?(n=parseInt(e.getAttribute("data-month"),10),this._currentMonth=n,this._drawMonth=n,s=n+"_",r=this._validateDatetime(r,{fullYear:this._currentYear,month:this._currentMonth})):r=this._validateDatetime(r,{fullYear:this._currentYear}),t("#"+this._GetSubId(s+this._CALENDAR_DESCRIPTION_ID)).html(this._EscapeXSS(this.options.monthWide[this._drawMonth])+" "+j.format(u.IntlConverterUtils.dateToLocalIso(new Date(this._drawYear,this._drawMonth,1)))),this._adjustDate(0,0,!0,"M"===i?"day":this._toYearFromView)},_selectDay:function(e,i,n,r){if(!t(n).hasClass(this._UNSELECTABLE_CLASS)&&!this.options.disabled){this._isDateTimeSwitcher()||this._hide(this._ON_CLOSE_REASON_SELECTION),this._currentDay=t("a",n).html(),this._currentMonth=e,this._currentYear=i;var o=u.IntlConverterUtils,s=this.options.value,a=new Date(this._currentYear,this._currentMonth,this._currentDay);if(s)try{s=o._dateTime(s,{fullYear:a.getFullYear(),month:a.getMonth(),date:a.getDate()})}catch(e){p.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),s=o.dateToLocalIso(a)}else s=o.dateToLocalIso(a);this._setDisplayAndValue(s,{}),this._isDateTimeSwitcher()&&this._placeFocusOnCalendar()}},_setDisplayAndValue:function(e,t){if(this._isDateTimeSwitcher()){if(this._switcherDateValue=e,this._setCurrentDate(e),this._datepickerShowing()){var i=!(this._isInLine&&this._timePicker&&this._timePicker[0]===document.activeElement);this._updateDatepicker(i)}}else{var n=this._GetConverter().format(e);this._SetDisplayValue(n),this._SetValue(n,t)}},_getDefaultIsoDate:function(){return u.IntlConverterUtils.dateToLocalIso(this._getTodayDate())},_setCurrentDate:function(e){var t;t=this._validateDatetime(e||this._getDefaultIsoDate(),["fullYear","month","date"],!0),this._currentDay=t.date,this._currentMonth=t.month,this._isMultiMonth()||(this._drawMonth=t.month),this._currentYear=t.fullYear,this._drawYear=this._currentYear,this._adjustInstDate()},_getStepMonths:function(){var e=this.options.datePicker.stepMonths;return t.isNumeric(e)?e:this.options.datePicker.numberOfMonths},_isButtonActivated:function(e){return!this.options.disabled&&("click"===e.type||"keydown"===e.type&&(32===e.keyCode||13===e.keyCode))},_gotoPrev:function(e){"year"===this._currentView?this._adjustDate(-10,"Y",!0,"year","previous"):"month"===this._currentView?this._adjustDate(-1,"Y",!0,"month","previous"):this._adjustDate(-e,"M",!0,"day","previous")},_gotoNext:function(e){"year"===this._currentView?this._adjustDate(10,"Y",!0,"year","next"):"month"===this._currentView?this._adjustDate(1,"Y",!0,"month","next"):this._adjustDate(+e,"M",!0,"day","next")},_attachHandlers:function(){var i=this._getStepMonths(),n=this,r=function(e){var i=!1;return"keydown"===e.type&&e.keyCode===t.ui.keyCode.TAB&&(i=!0),i};this._dpDiv.find("[data-handler]").map(function(){var e={prev:function(e){return n._isButtonActivated(e)&&n._gotoPrev(i),r(e)},next:function(e){return n._isButtonActivated(e)&&n._gotoNext(i),r(e)},today:function(e){return n._isButtonActivated(e)&&n._gotoToday(),r(e)},selectDay:function(e){return n._isButtonActivated(e)&&n._selectDay(+this.getAttribute("data-month"),+this.getAttribute("data-year"),this,e),r(e)},selectMonth:function(e){return n._isButtonActivated(e)&&n._selectMonthYear(this,"M"),r(e)},selectYear:function(e){return n._isButtonActivated(e)&&n._selectMonthYear(this,"Y"),r(e)},calendarKey:function(e){"year"===n._currentView?n._doYearViewKeyDown(e):"month"===n._currentView?n._doMonthViewKeyDown(e):n._doCalendarKeyDown(e)},selectMonthHeader:function(e){return n._isButtonActivated(e)&&("month"===n._currentView?n._updateDatepicker(!0,"day"):n._updateDatepicker(!0,"month")),r(e)},selectYearHeader:function(e){return n._isButtonActivated(e)&&("year"===n._currentView?n._updateDatepicker(!0,"day"):(n._toYearFromView=n._currentView,n._updateDatepicker(!0,"year"))),r(e)}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}),this._dpDiv.find(".oj-datepicker-calendar").map(function(){e.DomUtils.makeFocusable({element:t(this),applyHighlight:!0})});var o=this._dpDiv.find(".oj-datepicker-header a, .oj-datepicker-buttonpane a");this._AddHoverable(o),this._AddActiveable(o)},_registerSwipeHandler:function(){if(e.DomUtils.isTouchSupported()){var t=this,n=this._getStepMonths(),r=this._IsRTL(),o={recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]};this._dpDiv.ojHammer(o).on(r?"swiperight":"swipeleft",function(){return t._gotoNext(n),!1}).on(r?"swipeleft":"swiperight",function(){return t._gotoPrev(n),!1})}},_getMinMaxDateIso:function(e){var t=this.options[e];if(t){var i=this._getDateIso();t=u.IntlConverterUtils._minMaxIsoString(t,i)}return t},_generateHeader:function(e,t,i,n,r){
var o=this._IsRTL(),s=this._EscapeXSS(this.getTranslatedString("prevText")),a=n?"<a role='button' href='#' onclick='return false;' class='oj-datepicker-prev-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler='prev' data-event='click keydown' aria-label='"+s+"'></a>":"<a class='oj-datepicker-prev-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title='"+s+"'></a>",l=this._EscapeXSS(this.getTranslatedString("nextText")),u=r?"<a role='button' href='#' onclick='return false;' class='oj-datepicker-next-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler='next' data-event='click keydown' aria-label='"+l+"'></a>":"<a class='oj-datepicker-next-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title='"+l+"'></a>",c="<div class='oj-datepicker-header"+(this.options.disabled?" oj-disabled ":" oj-enabled oj-default ")+"'>";return/all|left/.test(i)&&(c+=o?u:a),/all|right/.test(i)&&(c+=o?a:u),c+=this._generateMonthYearHeader(e,t),c+="</div>"},_generateFooter:function(e,t){var i="",n=this._EscapeXSS(this.getTranslatedString("currentText")),r="<a role='button' href='#' onclick='return false;' class='oj-datepicker-current oj-priority-secondary "+(this.options.disabled?"oj-disabled' disabled":"oj-enabled'")+" data-handler='today' data-event='click keydown'>"+n+"</a>";if(e.length>1){var o=0,s=[{index:e.indexOf("today"),content:this._isInRange(t)?r:""}];for(s.sort(function(e,t){return e.index-t.index});o<s.length&&s[o].index<0;)o+=1;for(;o<s.length;)i+=s[o].content,o+=1;i.length>0&&(i="<div class='oj-datepicker-buttonpane'>"+i+"</div>")}return i},_isMultiMonth:function(){var e=this._getNumberOfMonths();return 1!==e[0]||1!==e[1]},_generateViewHTML:function(e){var t,i=u.IntlConverterUtils,n=["date","month","fullYear"],r=this._GetConverter(),o=new Date;if(!(r instanceof Promise)&&void 0!==(t=r.resolvedOptions()).timeZone&&"local"!==t.isoStrFormat){var s=r.parse(o.toISOString());o=u.IntlConverterUtils.isoToLocalDate(s)}var a,l,c,d=new Date(o.getFullYear(),o.getMonth(),o.getDate()),h=this._IsRTL(),m=this.options.datePicker.footerLayout,f=this._getNumberOfMonths(),g=this.options.datePicker.currentMonthPos,_=this._isMultiMonth(),v=this._getMinMaxDateIso("min"),y=this._getMinMaxDateIso("max"),E=this._drawMonth-g,b=this._drawYear,S=new Date(this._currentYear,this._currentMonth,this._currentDay);c=r instanceof Promise?this._getDateIso():r.parse(this._getDateIso());var O=this._validateDatetime(c,n,!0),C=O.fullYear,T=O.date,I=O.month,A=new Date(C,I,T),P=this.options.disabled,D=this._EscapeXSS(this.getTranslatedString("weekText"));v&&(r instanceof Promise||(v=r.parse(v),a=this._validateDatetime(v,n,!0))),y&&(r instanceof Promise||(y=r.parse(y),l=this._validateDatetime(y,n,!0)));try{c=i._clearTime(c)}catch(e){p.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),c=i._clearTime(this._getDefaultIsoDate())}if(E<0&&(E+=12,b-=1),a){var M=new Date(a.fullYear,a.month,a.date);for(l&&r.compareISODates(y,v)<0&&(M=new Date(l.fullYear,l.month,l.date));new Date(b,E,this._getDaysInMonth(b,E))<M;)(E+=1)>11&&(E=0,b+=1)}if(l){var N=new Date(l.fullYear,l.month-f[0]*f[1]+1,l.date);for(a&&r.compareISODates(y,v)<0&&(N=new Date(a.fullYear,a.month,a.date));new Date(b,E,1)>N;)(E-=1)<0&&(E=11,b-=1)}this._drawMonth=E,this._drawYear=b;var L=this._generateFooter(m,d),w=this.options.datePicker.weekDisplay;return"D"===e?this._generateDayHTMLContent(i,L,w,d,h,f,_,a,l,E,b,S,O,C,T,I,A,P,D):"M"===e?this._generateMonthHTMLContent(L,a,l,E,b,A,P):this._generateYearHTMLContent(i,L,a,l,E,b,A,P)},_generateDayHTMLContent:function(e,t,i,n,r,o,s,a,l,u,c,d,h,m,f,g,_,v,y){for(var E,b=this.options.dayWide,S=this.options.dayNarrow,O=this.options.firstDayOfWeek,C="",T=this.options.dayFormatter,I=null,A=this._canAdjustMonth(-1,c,u)&&!v,P=this._canAdjustMonth(1,c,u)&&!v,D=this.options.datePicker.daysOutsideMonth,M="",N="all",L=0;L<o[0];L++){var w="";this._maxRows=4;for(var j=0;j<o[1];j++){N=0===L?"all":"";var R="";if(s){if(R+="<div class='oj-datepicker-group",o[1]>1)switch(j){case 0:R+=" oj-datepicker-group-first",N=0===L?r?"right":"left":"";break;case o[1]-1:R+=" oj-datepicker-group-last",N=0===L?r?"left":"right":"";break;default:R+=" oj-datepicker-group-middle",N=""}R+="'>"}R+=this._generateHeader(u,c,N,A,P),R+="<table class='oj-datepicker-calendar"+("number"===i?" oj-datepicker-weekdisplay":"")+(v?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(c+"_"+u+"_"+this._CALENDAR_DESCRIPTION_ID)+"'><thead role='presentation'><tr role='row'>";var k="number"===i?"<th class='oj-datepicker-week-col'>"+this._EscapeXSS(this.getTranslatedString("weekHeader"))+"</th>":"";for(E=0;E<7;E++){var U=(E+parseInt(O,10))%7;k+="<th role='columnheader' aria-label='"+b[U]+"'"+((E+O+6)%7>=5?" class='oj-datepicker-week-end'":"")+"><span title='"+b[U]+"'>"+S[U]+"</span></th>"}R+=k+"</tr></thead><tbody role='presentation'>";var V=this._getDaysInMonth(c,u);c===m&&u===g&&(f=Math.min(f,V));var x=(this._getFirstDayOfMonth(c,u)-O+7)%7,B=Math.ceil((x+V)/7),F=s&&this._maxRows>B?this._maxRows:B;this._maxRows=F;for(var H=new Date(c,u,1-x),G=0;G<F;G++){var Y;R+="<tr role='row'>";try{Y=this._GetConverter().calculateWeek(e.dateToLocalIso(H))}catch(e){p.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString")}var W="none"===i?"":"<td class='oj-datepicker-week-col' role='rowheader' aria-label='"+y+" "+Y+"'>"+Y+"</td>";for(E=0;E<7;E++){var Z,K=H.getMonth()!==u,z=H.getTime()===_.getTime(),q="oj-dp-"+this.uuid+"-"+G+"-"+E+"-"+L+"-"+j,$=H.getTime()===d.getTime()&&u===this._currentMonth;$?(C=q,Z=" "+this._DAYOVER_CLASS):Z="";var X=[!0,""],J=H.getFullYear(),Q=H.getMonth(),ee=H.getDate();T&&(I=T({fullYear:J,month:Q+1,date:ee}))&&(X=[!I.disabled,I.className||""],I.tooltip&&X.push(I.tooltip));var te=H.getTime()===_.getTime(),ie=K&&"selectable"!==D||!X[0]||this._outSideMinMaxRange(H,a,l);W+="<td role='gridcell' aria-disabled='"+!!ie+"' aria-selected='"+z+"' id='"+q+"' class='"+((E+O+6)%7>=5?" oj-datepicker-week-end":"")+(K?" oj-datepicker-other-month":"")+Z+(ie||v?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(K&&"hidden"===D?"":" "+X[1]+(z?" "+this._CURRENT_CLASS:"")+(H.getTime()===n.getTime()?" oj-datepicker-today":""))+"'"+(K&&"hidden"===D||!X[2]?"":" title='"+X[2].replace(/'/g,"&#39;")+"'")+(ie?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(K&&"hidden"===D?"&#xa0;":ie||v?"<span class='oj-disabled'>"+H.getDate()+"</span>":"<a role='button' class='oj-enabled"+(te?" oj-selected":"")+(K?" oj-priority-secondary":"")+"' "+($?"":"tabindex='-1' ")+" onclick='return false;' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1)}R+=W+"</tr>"}(u+=1)>11&&(u=0,c+=1),R+="</tbody></table>",s&&(R+="</div>",o[0]>0&&j===o[1]-1&&(R+="<div class='oj-datepicker-row-break'></div>")),w+=R}M+=w}return{html:M+=t,dayOverId:C}},_generateMonthYearHeader:function(e,t){var i=this.options.datePicker.changeMonth,n=this.options.datePicker.changeYear,r=l.isMonthPriorToYear()?"before":"after",o="<div class='oj-datepicker-title'>",s="",a=u.IntlConverterUtils,c=this.options.monthWide,d=this.options.disabled,p=t+"_"+e+"_";c&&("none"===i?s+="<span class='oj-datepicker-month'>"+c[e]+"</span>":(s+="<a role='button' onclick='return false;' href='#' data-handler='selectMonthHeader' data-event='click keydown' class='oj-datepicker-month "+(d?"oj-disabled' disabled":"oj-enabled'")+">",s+=c[e]+"</a>"),"before"===r&&(o+=s+("select"!==i||"select"!==n?"&#xa0;":""))),this.yearshtml||(this.yearshtml="","none"===n?o+="<span class='oj-datepicker-year'>"+j.format(a.dateToLocalIso(new Date(t,e,1)))+"</span>":(o+="<a role='button' onclick='return false;' href='#' data-handler='selectYearHeader' data-event='click keydown' class='oj-datepicker-year "+(d?"oj-disabled' disabled":"oj-enabled'")+">",o+=j.format(a.dateToLocalIso(new Date(t,e,1)))+"</a>",this.yearshtml=null)),c&&"after"===r&&(o+=("select"!==i||"select"!==n?"&#xa0;":"")+s);var h=this._drawYear===t&&this._drawMonth===e;return h&&(o+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(this._DATEPICKER_DIALOG_DESCRIPTION_ID)+"'>",o+=this._EscapeXSS(this.getTranslatedString("picker"))+"</span>"),o+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(p+this._CALENDAR_DESCRIPTION_ID)+"'>",o+=(c?c[e]+" ":"")+j.format(a.dateToLocalIso(new Date(t,e,1)))+"</span>",h&&(o+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(this._DATEPICKER_DESCRIPTION_ID)+"'>"+this._EscapeXSS(this.getTranslatedString("datePicker"))+"</span>"),o+="</div>"},_adjustInstDate:function(e,t){var i=this._drawYear+("Y"===t?e:0),n=this._drawMonth+("M"===t?e:0),r=Math.min(this._currentDay,this._getDaysInMonth(i,n))+("D"===t?e:0),o=new Date(i,n,r);this._currentDay=o.getDate(),this._currentMonth=o.getMonth(),this._drawMonth=this._currentMonth,this._currentYear=o.getFullYear(),this._drawYear=this._currentYear},_generateMonthHTMLContent:function(e,t,i,n,r,o,s){var a=this.options.monthAbbreviated,l="",u=this._canAdjustYear(-1,r)&&!s,c=this._canAdjustYear(1,r)&&!s,d="";this._maxRows=4;var p="";p+=this._generateHeader(n,r,"all",u,c),p+="<table class='oj-datepicker-calendar oj-datepicker-monthview"+(s?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(r+"_"+n+"_"+this._CALENDAR_DESCRIPTION_ID)+"'>",p+="<tbody role='presentation'>";for(var h=new Date(r,0,1),m=0;m<4;m++){p+="<tr role='row'>";for(var f="",g=0;g<3;g++){var _,v=3*m+g,y=h.getMonth()===o.getMonth(),E="oj-dp-"+this.uuid+"-"+m+"-"+g+"-0-0",b=v===this._currentMonth;b?(l=E,_=" "+this._DAYOVER_CLASS):_="";var S=h.getMonth()===o.getMonth(),O=t&&t.fullYear===r,C=i&&i.fullYear===r,T=!((!O||v>=t.month)&&(!C||v<=i.month));f+="<td role='gridcell' aria-disabled='"+!!T+"' aria-selected='"+y+"' id='"+E+"' class='"+_+(T||s?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(y?" "+this._CURRENT_CLASS:"")+"'"+(T?"":" data-handler='selectMonth' data-event='click' data-month='"+h.getMonth()+"' data-year='"+h.getFullYear()+"'")+">"+(T||s?"<span class='oj-disabled'>"+a[v]+"</span>":"<a role='button' class='oj-enabled"+(S?" oj-selected":"")+"' "+(b?"":"tabindex='-1' ")+" onclick='return false;' href='#'>"+a[v]+"</a>")+"</td>",h.setMonth(h.getMonth()+1)}p+=f+"</tr>"}return d+=p+="</tbody></table>",{html:d+=e,dayOverId:l}},_generateYearHTMLContent:function(e,t,i,n,r,o,s,a){var l="",u=this._canAdjustDecade(-1,o)&&!a,c=this._canAdjustDecade(1,o)&&!a,d="";this._maxRows=4;var p="";p+=this._generateHeader(r,o,"all",u,c),p+="<table class='oj-datepicker-calendar oj-datepicker-yearview"+(a?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(o+"_"+r+"_"+this._CALENDAR_DESCRIPTION_ID)+"'>",p+="<tbody role='presentation'>";for(var h=this._getYearRange(o,i,n),m=10*Math.floor(o/10),f=new Date(m,r,1),g=0;g<4;g++){p+="<tr role='row'>";for(var _="",v=0;v<3&&(3!==g||1!==v);v++){var y,E=m+3*g+v,b=f.getFullYear()===s.getFullYear(),S="oj-dp-"+this.uuid+"-"+g+"-"+v+"-0-0",O=E===this._currentYear;O?(l=S,y=" "+this._DAYOVER_CLASS):y="";var C=f.getFullYear()===s.getFullYear(),T=j.format(e.dateToLocalIso(new Date(E,r,1))),I=E<h.startYear||E>h.endYear;_+="<td role='gridcell' aria-disabled='"+!!I+"' aria-selected='"+b+"' id='"+S+"' class='"+y+(I||a?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(b?" "+this._CURRENT_CLASS:"")+"'"+(I?"":" data-handler='selectYear' data-event='click' data-month='"+f.getMonth()+"' data-year='"+f.getFullYear()+"'")+">"+(I||a?"<span class='oj-disabled'>"+T+"</span>":"<a role='button' class='oj-enabled"+(C?" oj-selected":"")+"' "+(O?"":"tabindex='-1' ")+" onclick='return false;' href='#'>"+T+"</a>")+"</td>",f.setFullYear(f.getFullYear()+1)}p+=_+"</tr>"}return d+=p+="</tbody></table>",{html:d+=t,dayOverId:l}},_getYearRange:function(e,t,i){function n(t){var i;return i=t.match(/c[+-].*/)?e+parseInt(t.substring(1),10):t.match(/[+-].*/)?o+parseInt(t,10):parseInt(t,10),isNaN(i)?o:i}var r=this.options.datePicker.yearRange.split(":"),o=(new Date).getFullYear(),s=n(r[0]),a=Math.max(s,n(r[1]||""));return{startYear:s=t?Math.max(s,t.fullYear):s,endYear:a=i?Math.min(a,i.fullYear):a}},_getNumberOfMonths:function(){var e=this.options.datePicker.numberOfMonths;return null==(e="string"==typeof e?parseInt(e,10):e)?[1,1]:"number"==typeof e?[1,e]:e},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i){var n=this._getNumberOfMonths(),r=new Date(t,i+(e<0?e:n[0]*n[1]),1);return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(r)},_canAdjustYear:function(e,t){var i;return e<0?(i=new Date(t+e,12,1)).setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())):i=new Date(t+e,1,1),this._isInRange(i)},_canAdjustDecade:function(e,t){var i,n=10*Math.floor(t/10);return e<0?(i=new Date(n+9+10*e,12,1)).setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())):i=new Date(n+10*e,1,1),this._isInRange(i)},_outSideMinMaxRange:function(e,t,i){var n=t?new Date(t.fullYear,t.month,t.date):null,r=i?new Date(i.fullYear,i.month,i.date):null;return null!==n&&e<n||null!==r&&e>r},_isInRange:function(e){var t,i,n=this._GetConverter(),r=this._getMinMaxDateIso("min"),o=null,s=this._getMinMaxDateIso("max"),a=null,l=this.options.datePicker.yearRange;if(l){var u=l.split(":"),c=(new Date).getFullYear();o=parseInt(u[0],10),a=parseInt(u[1],10),u[0].match(/[+-].*/)&&(o+=c),u[1].match(/[+-].*/)&&(a+=c)}if(r){r=n.parse(r);var d=this._validateDatetime(r,["fullYear","month","date"],!0);t=new Date(d.fullYear,d.month,d.date)}if(s){s=n.parse(s);var p=this._validateDatetime(s,["fullYear","month","date"],!0);i=new Date(p.fullYear,p.month,p.date)}return(!t||e.getTime()>=t.getTime())&&(!i||e.getTime()<=i.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_GetCalendarTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipCalendar"+(this.options.disabled?"Disabled":"")))},_disableEnable:function(e){this._triggerNode&&(g(this._triggerNode[0].children,e),this._triggerNode.find("."+this._TRIGGER_CALENDAR_CLASS).attr("title",this._GetCalendarTitle())),e&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._isInLine&&this._updateDatepicker()},_AppendInputHelper:function(){this._isInLine||!0===this.options.readOnly||this._superApply(arguments)},_onBlurHandler:function(e){this._isInLine||this._superApply(arguments)},_onKeyDownHandler:function(i){if(!this._isInLine){this._superApply(arguments);var n=t.ui.keyCode,r=!1;if(this._datepickerShowing())switch(i.keyCode){case n.TAB:this._hide(this._ON_CLOSE_REASON_TAB);break;case n.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),r=!0;break;case n.UP:case n.DOWN:var o=this._dpDiv.find(".oj-datepicker-calendar")[0];e.FocusUtils.focusFirstTabStop(o)||o.focus(),r=!0}else switch(i.keyCode){case n.UP:case n.DOWN:this._SetValue(this._GetDisplayValue(),i),this.show(),r=!0}return r?(i.preventDefault(),i.stopPropagation(),!1):void 0}},_SetDisplayValue:function(e){if(this._isInLine||this._superApply(arguments),this._setCurrentDate(this._getDateIso()),this._datepickerShowing()){var t=!(this._isInLine&&this._timePicker&&this._timePicker[0]===document.activeElement);this._updateDatepicker(t)}},_GetConverter:function(){return this.options.converter?this._superApply(arguments):t.oj.ojInputDate.prototype.options.converter},_GetElementValue:function(){return this.options.value||""},_GetDefaultStyleClass:function(){return"oj-inputdate"},_GetImplicitSyncValidators:function(){var i=this._superApply(arguments);return null==this.options.min&&null==this.options.max||(this._datePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE]=this._getValidator("min")),null!=this.options.dayFormatter&&(this._datePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION]=this._getValidator("dayFormatter")),t.extend(this._datePickerDefaultValidators,i)},_NotifyDetached:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_NotifyHidden:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_getValidator:function(i){var n=null;if("min"===i||"max"===i)n=f(this.options,this._GetConverter(),this._GetDefaultStyleClass());else if("dayFormatter"===i){var r={dayFormatter:this.options.dayFormatter,converter:this._GetConverter()};t.extend(r,this.options.translations.dateRestriction||{}),n=e.Validation.validatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION).createValidator(r)}return n},_getTodayDate:function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},_getDateIso:function(){return this._isDateTimeSwitcher()&&this._switcherDateValue?this._switcherDateValue:this.options.value||this._getDefaultIsoDate()},getNodeBySubId:function(e){var i=null,n=e&&e.subId,r=this._dpDiv,o=this._getDatepickerContent();if(n)switch(n){case"oj-datepicker-content":i=o[0];break;case"oj-inputdatetime-calendar-icon":i=t(".oj-inputdatetime-calendar-icon",this._triggerNode)[0];break;case"oj-datepicker-prev-icon":i=t(".oj-datepicker-prev-icon",r)[0];break;case"oj-datepicker-next-icon":i=t(".oj-datepicker-next-icon",r)[0];break;case"oj-datepicker-month":i=t(".oj-datepicker-month",r)[0];break;case"oj-datepicker-year":i=t(".oj-datepicker-year",r)[0];break;case"oj-datepicker-current":i=t(".oj-datepicker-current",r)[0];break;case"oj-inputdatetime-date-input":i=this._isInLine?null:this.element[0];break;default:i=null}return i||this._superApply(arguments)},getSubIdByNode:function(e){var i=this._dpDiv,n=null,r=[{selector:".oj-inputdatetime-calendar-icon",ele:this._triggerNode},{selector:".oj-datepicker-prev-icon",ele:i},{selector:".oj-datepicker-next-icon",ele:i},{selector:".oj-datepicker-month",ele:i},{selector:".oj-datepicker-year",ele:i},{selector:".oj-datepicker-current",ele:i}];if(e===i[0])return"oj-datepicker-content";if(!this._isInLine&&e===this.element[0])return"oj-inputdatetime-date-input";for(var o=0,s=r.length;o<s;o++){var a=r[o],l=t(a.selector,a.ele);if(1===l.length&&l[0]===e){n=a.selector.substr(1);break}}return n||this._superApply(arguments)},hide:function(){return this._hide(this._ON_CLOSE_REASON_CLOSE)},_hide:function(e){return y(this)||!this._datepickerShowing()||this._isInLine||(this._popUpDpDiv.ojPopup("close"),this._onClose(e)),this},_onClose:function(e){this._isMobile&&"focus"===this.options.datePicker.showOn?this._inputContainer.focus():("focus"===this.options.datePicker.showOn&&(this._ignoreShow=!0),this.element.focus())},refresh:function(){return this._triggerNode&&this._triggerNode.find("."+this._TRIGGER_CALENDAR_CLASS).attr("title",this._GetCalendarTitle()),this._superApply(arguments)||this},show:function(){if(!(this._datepickerShowing()||this.options.disabled||this.options.readOnly))if(this._ignoreShow)this._ignoreShow=!1;else if(y(this)){this.element.blur();var e={};e.date=h(this._getNativeDatePickerConverter(),this._getDateIso()),e.mode="date",this._ShowNativeDatePicker(e)}else this._ShowHTMLDatePicker()},_getNativeDatePickerConverter:function(){if(null===this._nativePickerConverter){var i=this._GetConverter().resolvedOptions(),n={};t.extend(n,i,{isoStrFormat:"offset"}),this._nativePickerConverter=e.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(n)}return this._nativePickerConverter},_ShowNativeDatePicker:function(e){var i=this._getMinMaxDateIso("min"),n=this._getMinMaxDateIso("max"),r=this._getNativeDatePickerConverter();i&&(e.minDate=h(r,i).valueOf()),n&&(e.maxDate=h(r,n).valueOf());var o=this;o._nativePickerShowing=!0,window.datePicker.show(e,t.proxy(this._OnDatePicked,this),function(e){o._nativePickerShowing=!1,e.startsWith("cancel")?o._onClose(o._ON_CLOSE_REASON_CANCELLED):p.error("Error: native date or time picker failed: "+e)})},_OnDatePicked:function(e){if(this._nativePickerShowing=!1,e){var t=this._validateDatetime(this._getDateIso(),{month:e.getMonth(),date:e.getDate(),fullYear:e.getFullYear()}),i=this._GetConverter().format(t);this._SetValue(i,{})}this._onClose(this._ON_CLOSE_REASON_SELECTION)},_validateDatetime:function(e,t,i){var n;try{n=u.IntlConverterUtils._dateTime(e,t,i)}catch(e){p.info("The value of the InputDate element should be an ISOString, please use a valid ISOString"),n=u.IntlConverterUtils._dateTime(this._getDefaultIsoDate(),t,i)}return n},_ShowHTMLDatePicker:function(){var t=this._IsRTL(),i=this._GetConverter();if(i instanceof Promise?this._switcherPrevValue=this._getDateIso():this._switcherPrevValue=i.parse(this._getDateIso()),this._switcherPrevDay=this._currentDay,this._switcherPrevMonth=this._currentMonth,this._switcherPrevYear=this._currentYear,this._getDatepickerContent().empty(),this._updateDatepicker(),L){var n=e.PositionUtils.normalizeHorizontalAlignment({my:"start top",at:"start bottom",of:this.element,collision:"flipfit"},t);this._popUpDpDiv.ojPopup("open",this.element.parent(),n)}else this._popUpDpDiv.ojPopup("open",this.element.parent(),{my:{horizontal:"center",vertical:"bottom"},at:{horizontal:"center",vertical:"bottom"},of:window,collision:"flipfit"}),this._dpDiv.find(".oj-datepicker-calendar").focus();return this}}),o.setDefaultOptions({ojInputDate:{firstDayOfWeek:o.createDynamicPropertyGetter(function(){return l.getFirstDayOfWeek()}),dayWide:o.createDynamicPropertyGetter(function(){return l.getDayNames("wide")}),dayNarrow:o.createDynamicPropertyGetter(function(){return l.getDayNames("narrow")}),monthWide:o.createDynamicPropertyGetter(function(){return l.getMonthNames("wide")}),monthAbbreviated:o.createDynamicPropertyGetter(function(){return l.getMonthNames("abbreviated")}),datePicker:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).datePicker}),renderMode:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).keyboardEdit})}}),e.__registerWidget("oj.ojInputTime",t.oj.inputBase,{widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-time-only oj-component oj-inputdatetime",_INPUT_CONTAINER_CLASS:"oj-inputdatetime-input-container",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"title"},{attribute:"placeholder"},{attribute:"value",coerceDomValue:m},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"min",coerceDomValue:m},{attribute:"max",coerceDomValue:m}],_TIME_PICKER_ID:"ojInputTime",_TRIGGER_CLASS:"oj-inputdatetime-input-trigger",_TRIGGER_TIME_CLASS:"oj-inputdatetime-time-icon",_ON_CLOSE_REASON_SELECTION:"selection",_ON_CLOSE_REASON_CANCELLED:"cancelled",_ON_CLOSE_REASON_TAB:"tab",_ON_CLOSE_REASON_CLOSE:"close",_KEYBOARD_EDIT_OPTION_ENABLED:"enabled",_KEYBOARD_EDIT_OPTION_DISABLED:"disabled",options:{converter:u.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({hour:"2-digit",minute:"2-digit"}),keyboardEdit:"enabled",max:void 0,min:void 0,datePickerComp:null,pickerAttributes:null,renderMode:"jet",timePicker:{footerLayout:"",timeIncrement:"00:05:00:00",showOn:"focus"}},_InitOptions:function(t,i){this._super(t,i),null!==this.options.datePickerComp||this._IsCustomElement()||e.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,i,this)},_getPrependNode:function(){return this._isIndependentInput()?t("body"):t(".oj-popup-content",this._datePickerComp.widget._popUpDpDiv.ojPopup("widget"))},_InitBase:function(){this._timePickerDefaultValidators={},this._datePickerComp=this.options.datePickerComp,this._inputContainer=null,this._redirectFocusToInputContainer=!1,this._isMobile=!1,this._ignoreShow=!1,this._nativePickerShowing=!1,!0!==this.options.readOnly&&this._createWheelPicker(),this._isIndependentInput()&&(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this._INPUT_CONTAINER_CLASS)},_createWheelPicker:function(){var i=this.options.pickerAttributes,n=document.createElement("div");n.className="oj-timepicker-popup",n.style.display="none";var r=document.createElement("div");r.id=this._GetSubId(this._TIME_PICKER_ID),r.className="oj-timepicker-content",n.appendChild(r),this._wheelPicker=t(n);var o=this._getPrependNode()[0];o.insertBefore(n,o.firstElementChild),this._isIndependentInput()&&(this._popUpWheelPicker=this._wheelPicker.ojPopup({initialFocus:"none",role:"dialog",chrome:"default",modality:L?"modeless":"modal",open:function(){},beforeClose:function(){},animateStart:function(e,t){"open"===t.action&&(e.preventDefault(),d.slideIn(t.element,{offsetY:t.element.offsetHeight+"px"}).then(t.endCallback))},animation:{open:null,close:null}}).attr("data-oj-internal",""),this.element.attr("data-oj-popup-"+this._popUpWheelPicker.attr("id")+"-parent",""),i&&e.EditableValueUtils.setPickerAttributes(this._popUpWheelPicker.ojPopup("widget"),i))},_timepickerShowing:function(){var e;if(this._isIndependentInput())return(e=this._popUpWheelPicker)&&o.isComponentInitialized(e,"ojPopup")&&e.ojPopup("isOpen")||this._nativePickerShowing;var t=this._datePickerComp.widget;return e=t._popUpDpDiv,t._isShowingDatePickerSwitcher()&&o.isComponentInitialized(e,"ojPopup")&&e.ojPopup("isOpen")||this._nativePickerShowing},_ComponentCreate:function(){this._InitBase();var e=this._superApply(arguments);return this._isContainedInDateTimePicker()&&!this._isDatePickerInline()?this._CLASS_NAMES="":v(this),this._processReadOnlyKeyboardEdit(),!0!==this.options.readOnly&&this._isIndependentInput()&&this._attachTrigger(),e},_validateTime:function(e,t,i){var n;try{n=u.IntlConverterUtils._dateTime(e,t,i)}catch(e){p.info("The value of the InputTime element should be an ISOString, please use a valid ISOString");var r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var o=u.IntlConverterUtils.dateToLocalIso(r);n=u.IntlConverterUtils._dateTime(o,t,i)}return n},_AfterCreate:function(){var e,t=this._superApply(arguments);if(this._isIndependentInput()&&(!0!==this.options.readOnly&&g(this._triggerNode[0].children,this.options.disabled),!this._IsCustomElement())){var i=this.$label;this._inputContainer&&i&&1===i.length&&(e=i.attr("id"),this._inputContainer.attr("aria-labelledby",e))}return t},_setOption:function(t,i,n){var r,o=null;return"value"===t?(i||(i=null),o=this._super(t,i,n),this._createWheelPickerDom(!0),o):("timePicker"===t&&void 0===i.footerLayout&&(r=this.options.timePicker.footerLayout),o=this._superApply(arguments),r&&(this.options.timePicker.footerLayout=r),"disabled"===t&&this._isIndependentInput()?(i&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._triggerNode&&(this._triggerNode.find("."+this._TRIGGER_TIME_CLASS).attr("title",this._getTimeTitle()),g(this._triggerNode[0].children,i))):"max"!==t&&"min"!==t||this._isContainedInDateTimePicker()?"readOnly"===t?(this._processReadOnlyKeyboardEdit(),i?this._hide(this._ON_CLOSE_REASON_CLOSE):null==this._wheelPicker&&(this._createWheelPicker(),this._isIndependentInput()&&(this._attachTrigger(),g(this._triggerNode[0].children,this.options.disabled)),this._setupResizePopupBind()),this._AfterSetOptionDisabledReadOnly("readOnly",e.EditableValueUtils.readOnlyOptionOptions)):"keyboardEdit"===t&&this._processReadOnlyKeyboardEdit():(this._timePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE]=f(this.options,this._GetConverter(),this._GetDefaultStyleClass()),this._AfterSetOptionValidators()),t in{max:!0,min:!0,converter:!0,timePicker:!0}&&this._createWheelPickerDom(),o)},_destroy:function(){return this._cleanUpTimeResources(),this._super()},_clearWheelModels:function(){var e=this._timePickerModel;if(e){var t=e.getWheelModel("hour");t&&(t.wheel=void 0),(t=e.getWheelModel("minute"))&&(t.wheel=void 0),(t=e.getWheelModel("ampm"))&&(t.wheel=void 0)}},_destroyHammer:function(){if(this._wheelGroup&&this._wheelGroup.length)for(var e=this._wheelGroup[0].children,t=0;t<e.length;t++)e[t].ojDestroy()},_SetupResources:function(){return!0!==this.options.readOnly&&this._setupResizePopupBind(),this._super()},_setupResizePopupBind:function(){this._resizePopupBind=function(){t(".oj-timepicker-content",this._wheelPicker)[L?"removeClass":"addClass"]("oj-timepicker-fixedheight"),this._isIndependentInput()&&o.isComponentInitialized(this._popUpWheelPicker,"ojPopup")&&this._popUpWheelPicker.ojPopup("option","modality",L?"modeless":"modal")}.bind(this),window.addEventListener("resize",this._resizePopupBind,!1)},_ReleaseResources:function(){return this._IsCustomElement()&&this._cleanUpListeners(),this._super()},_cleanUpTimeResources:function(){this._isIndependentInput()&&(this.element.off("focus touchstart"),this._wrapper.off("touchstart")),this._triggerNode&&this._triggerNode.remove(),this._cleanUpListeners(),this._destroyHammer(),this._wheelPicker&&(this._wheelPicker.remove(),this._clearWheelModels()),this._isIndependentInput()&&this._popUpWheelPicker&&o.isComponentInitialized(this._popUpWheelPicker,"ojPopup")&&this._popUpWheelPicker.ojPopup("destroy")},_cleanUpListeners:function(){this._resizePopupBind&&window.removeEventListener("resize",this._resizePopupBind),window.removeEventListener("resize",w)},_processReadOnlyKeyboardEdit:function(){if(this._isIndependentInput()){var e=this.options.readOnly||this._isKeyboardEditDisabled();this.element.prop("readOnly",!!e)}},_isKeyboardEditDisabled:function(){return this.options.keyboardEdit===this._KEYBOARD_EDIT_OPTION_DISABLED},_AppendInputHelper:function(){this._isIndependentInput()&&this._superApply(arguments)},_onKeyDownHandler:function(e){if(this._isIndependentInput()){this._superApply(arguments);var i=t.ui.keyCode,n=!1;if(this._timepickerShowing())switch(e.keyCode){case i.TAB:this._hide(this._ON_CLOSE_REASON_TAB);break;case i.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),n=!0;break;case i.UP:case i.DOWN:this._wheelGroup.children().first().focus(),n=!0}else switch(e.keyCode){case i.UP:case i.DOWN:var r=this._GetConverter().parse(this._GetDisplayValue());this._SetValue(r,e),this.show(),n=!0}if(n||e.keyCode===i.ENTER)return e.preventDefault(),e.stopPropagation(),!1}},_getTimeTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipTime"+(this.options.disabled?"Disabled":"")))},_WrapElement:function(){this._inputContainer=this._superApply(arguments),this._inputContainer.attr({role:"presentation",tabindex:"-1"}),this.element.attr({role:"combobox","aria-haspopup":"true"})},_onElementFocus:function(){var e=this.options.timePicker.showOn;this._redirectFocusToInputContainer?(this._redirectFocusToInputContainer=!1,y(this)?this._inputContainer.focus():this._wheelGroup.children().first().focus()):"focus"===e?this.show():this._timepickerShowing()&&this._hide(this._ON_CLOSE_REASON_CLOSE)},_OnElementTouchStart:function(e){if(e.preventDefault(),"focus"===this.options.timePicker.showOn)if(this._timepickerShowing())this._ignoreShow=!0,this._hide(this._ON_CLOSE_REASON_CLOSE);else{var t=this.element[0]===document.activeElement;this.show(),this._redirectFocusToInputContainer=!0,y(this)&&t&&this._inputContainer.focus()}},_attachTrigger:function(){var e=this.options.timePicker.showOn,i=document.createElement("span");i.className=this._TRIGGER_CLASS;var n=document.createElement("span");n.setAttribute("title",this._getTimeTitle()),
n.className=this._TRIGGER_TIME_CLASS+" oj-clickable-icon-nocontext oj-component-icon";var r=this;if(this.element.on("focus",t.proxy(this._onElementFocus,this)),this.element.on("touchstart",t.proxy(this._OnElementTouchStart,this)),this._wrapper.on("touchstart",function(){r._isMobile=!0}),"image"===e&&(n.style.display="block",this._IsRTL()?(this.element.css("border-top-left-radius",0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0))),!y(this)){i.appendChild(n),n.addEventListener("click",function(){r._timepickerShowing()?r._hide(r._ON_CLOSE_REASON_CLOSE):(r.show(),r._wheelGroup.children().first().focus())});var o=t(n);this._AddHoverable(o),this._AddActiveable(o),this._triggerIcon=o}this._triggerNode=t(i),this.element[0].parentNode.insertBefore(i,this.element[0].nextElementSibling)},_getValue:function(){return this._isContainedInDateTimePicker()?this._datePickerComp.widget.getValueForInputTime():this.options.value},_onBlurHandler:function(e){this._isIndependentInput()&&this._superApply(arguments)},show:function(){this._timepickerShowing()||this.options.disabled||this.options.readOnly||(this._ignoreShow?this._ignoreShow=!1:y(this)?(this.element.blur(),this._showNativeTimePicker()):this._showWheelPicker())},_showNativeTimePicker:function(){var e={},t=b(this._GetConverter(),{isoStrFormat:"offset"}),i=h(t,this._getIsoDateValue(t));e.date=i,e.mode="time";var n=E(this.options.timePicker.timeIncrement);e.minuteInterval=0===n.hourIncr?n.minuteIncr:1;var r=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options.min:this.options.min,o=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options.max:this.options.max;if(r){var s=h(t,u.IntlConverterUtils._minMaxIsoString(r,this._getIsoDateValue(t)));e.minDate=s.valueOf()}if(o){var a=h(t,u.IntlConverterUtils._minMaxIsoString(o,this._getIsoDateValue(t)));e.maxDate=a.valueOf()}var l=this;this._nativePickerShowing=!0,window.datePicker.show(e,function(e){if(l._nativePickerShowing=!1,e){var t=b(l._GetConverter(),{isoStrFormat:"offset"}),i=u.IntlConverterUtils._dateTime(l._getIsoDateValue(t),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),n=l._GetConverter().format(i);l._SetValue(n,{})}l._onClose(l._ON_CLOSE_REASON_SELECTION)},function(e){l._nativePickerShowing=!1,e.startsWith("cancel")?l._onClose(l._ON_CLOSE_REASON_CANCELLED):p.error("Error: native time picker failed: "+e)})},hide:function(){return this._hide(this._ON_CLOSE_REASON_CLOSE)},_hide:function(e){return!y(this)&&this._timepickerShowing()&&(this._popUpWheelPicker.ojPopup("close"),this._onClose(e)),this},_onClose:function(e){this._isMobile&&"focus"===this.options.timePicker.showOn?(this._isIndependentInput()?this._inputContainer:this._datePickerComp.widget._inputContainer).focus():("focus"===this.options.timePicker.showOn&&(this._isIndependentInput()?this._ignoreShow=!0:this._datePickerComp.widget._ignoreShow=!0),this.element.focus())},refresh:function(){return this._triggerNode&&this._triggerNode.find("."+this._TRIGGER_TIME_CLASS).attr("title",this._getTimeTitle()),this._superApply(arguments)||this},_SetDisplayValue:function(e){this._isIndependentInput()&&this._superApply(arguments),this._timepickerShowing()&&this._createWheelPickerDom(!0)},_SetValue:function(e,i,n){var r=!1;if(this._isContainedInDateTimePicker())try{var o,s=t.oj.ojInputTime.prototype.options.converter,a=this._datePickerComp.widget;o=i&&i.target&&i.target===this.element[0]&&!this._isDatePickerInline()?a._GetConverter():this._GetConverter();var l=new Date,c=u.IntlConverterUtils,d=a.getValueForInputTime()||c.dateToLocalIso(l),p=e;try{c._dateTime(e,{month:l.getMonth(),date:l.getDate(),fullYear:l.getFullYear(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})}catch(t){p=o.parse(e)}var h=c._copyTimeOver(p,d),m=o.parse(h);if(m&&0===s.compareISODates(d,m))return!1;a.timeSelected(m,i),this._isDatePickerInline()&&(r=this._super(e,null,n))}catch(t){r=this._super(e,null,n)}else r=this._superApply(arguments);return r},_DoWrapElement:function(){return this._isIndependentInput()},_isIndependentInput:function(){return!this._isContainedInDateTimePicker()||this._isDatePickerInline()},_GetDefaultStyleClass:function(){return"oj-inputtime"},_GetElementValue:function(){return this.options.value||""},_GetImplicitSyncValidators:function(){var i=this._superApply(arguments);return null==this.options.min&&null==this.options.max||this._isContainedInDateTimePicker()||(this._timePickerDefaultValidators[e.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE]=f(this.options,this._GetConverter(),this._GetDefaultStyleClass())),t.extend(this._timePickerDefaultValidators,i)},_GetConverter:function(){return this.options.converter?this._superApply(arguments):t.oj.ojInputTime.prototype.options.converter},_isContainedInDateTimePicker:function(){return null!==this._datePickerComp},_isDatePickerInline:function(){return this._datePickerComp.inline},_NotifyDetached:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_NotifyHidden:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_generateHeader:function(){var e=this._EscapeXSS(this.getTranslatedString("cancelText")),t="<a role='button' onclick='return false;' href='#' class='oj-enabled oj-default oj-timepicker-cancel-button' aria-label='"+e+"'>"+e+"</a>",i=this._EscapeXSS(this.getTranslatedString("okText")),n="<a role='button' onclick='return false;' href='#' class='oj-enabled oj-default oj-timepicker-ok-button' aria-label='"+i+"'>"+i+"</a>",r="<div class='oj-timepicker-header"+(this.options.disabled?" oj-disabled ":" oj-enabled oj-default ")+"'>";return r+=t,r+=n,r+="</div>"},_generateFooter:function(e,t){var i="",n="<a role='button' onclick='return false;' href='#' class='oj-timepicker-now oj-priority-secondary oj-enabled'>"+this._EscapeXSS(this.getTranslatedString("currentTimeText"))+"</a>";if(e&&e.length>1){var r=0,o=[{index:e.indexOf("now"),content:t?n:""}];for(o.sort(function(e,t){return e.index-t.index});r<o.length&&o[r].index<0;)r+=1;for(;r<o.length;)i+=o[r].content,r+=1;i.length>0&&(i="<div class='oj-timepicker-footer'>"+i+"</div>")}return i},_getIsoDateLimit:function(e,t,i){var n=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options[t]:this.options[t],r=(n=(n=n?u.IntlConverterUtils._minMaxIsoString(n,this._getValue()):n)?e.parse(n):n)?u.IntlConverterUtils._clearTime(n):null;return i&&r&&i.substring(0,i.indexOf("T"))!==r.substring(0,r.indexOf("T"))&&(n=null),n},_getIsoDateValue:function(e){var t=this._getValue();return t||((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t=u.IntlConverterUtils.dateToLocalIso(t)),t=e.parse(t)},_getAmPmStrings:function(){var t=u.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:"a"});return[t.format("2016-01-01T01:00:00Z"),t.format("2016-01-01T13:00:00Z")]},_getWheelPickerContent:function(e){return e?t(e.find(".oj-timepicker-content")[0]):null},_createWheelPickerDom:function(i){var n=t.oj.ojInputTime.prototype.options.converter;if(null!=this._wheelPicker){i||this._detachWheelHandler();var r=this._wheelPicker,o=this._getWheelPickerContent(r);this._destroyHammer(),i?t(".oj-timepicker-wheel-group",o).remove():o.empty();var s=this._GetConverter(),a=s.resolvedOptions(),l=t.extend({},a);"zulu"===l.isoStrFormat&&(l.isoStrFormat="offset",l=(s=u.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(l)).resolvedOptions());var c=u.IntlConverterUtils,d=this._getValue(),h=new Date;d||(d=u.IntlConverterUtils.dateToLocalIso(h));var m=this._validateTime(d,{month:h.getMonth(),date:h.getDate(),fullYear:h.getFullYear(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds()});d=s.parse(m);var f=c._clearTime(d),g=this._getIsoDateLimit(s,"min",f),_=this._getIsoDateLimit(s,"max",f),v=this.options.timePicker.footerLayout,y=new function(e){function t(){try{if(L=!0,e)for(var t=Object.key(e),n=0;n<t.length;n++){var r=t[n];w[r]=e[r]}}finally{L=!1,i()}}function i(){if(!L){if(b=Math.ceil(E/d)*d,(O=Math.ceil((S-1)/d)*d)<b)throw new Error("Invalid min and max settings with current increment: "+E+" "+S+ +d);var e,t;if(y<b&&(y=b),y>O&&(y=O),y=Math.round(y/d)*d,m)switch(D.displayRange=12,"auto"===(e=T)&&((t=c(d,60))===d||60===t?e="hoursMeridiem":(t=c(d,g),e="all")),e){case"all":P.displayMultiplier=1,P.valueMultiplier=1,P.valueRange=1440,P.linked=!0,D.displayMultiplier=60,D.valueMultiplier=1,D.valueRange=1440,D.linked=!0,M.displayMultiplier=1,M.valueMultiplier=720,M.valueRange=2,M.linked=!0;break;case"hoursMeridiem":P.displayMultiplier=1,P.valueMultiplier=1,P.valueRange=60,P.linked=!1,D.displayMultiplier=1,D.valueMultiplier=60,D.valueRange=24,D.linked=!0,M.displayMultiplier=1,M.valueMultiplier=720,M.valueRange=2,M.linked=!0}else switch(D.displayRange=24,"auto"===(e=T)&&(t=c(d,60),e=t===d||60===t?"none":"all"),e){case"none":case"hoursMeridiem":P.displayMultiplier=1,P.valueMultiplier=1,P.valueRange=60,P.linked=!1,D.displayMultiplier=1,D.valueMultiplier=60,D.valueRange=24,D.linked=!1;break;case"all":case"hoursMinutes":P.displayMultiplier=1,P.valueMultiplier=1,P.valueRange=1440,P.linked=!0,D.displayMultiplier=60,D.valueMultiplier=1,D.valueRange=1440,D.linked=!0}for(var i=0;i<N.length;i++)N[i].refresh()}}function n(e){var t=f.exec(e),i=parseInt(t[1],10),n=parseInt(t[2],10);return 60*i+n}function r(e){e=Math.floor(e);var t=Math.floor(e/60);return e%=60,"T"+o(t)+":"+s(e)}function o(e){return(e="0"+e).slice(-2)}function s(e){return(e="0"+e).slice(-2)}function a(e){return e.match(/^\d+$/)?parseInt(e,10):-1}function l(e){if(e.match(/^\d+$/)){var t=parseInt(e,10);return 0===t&&(t=-1),24===t&&(t=0),t}return-1}function u(e){if(e.match(/^\d+$/)){var t=parseInt(e,10);return 0===t&&(t=-1),24===t&&(t=0),t}return-1}function c(e,t){return 0===t?e:c(t,e%t)}var d,h,m,f=/^.*T(\d{2})(?::?(\d{2}).*$)/,g=720,_={h:function(e){return 0===e?"12":""+e},hh:function(e){return 0===e?"12":(e="0"+e).slice(-2)},H:function(e){return""+e},HH:o,k:function(e){return 0===e?"24":""+e},kk:function(e){return 0===e?"24":(e="0"+e).slice(-2)},K:function(e){return""+e},KK:function(e){return(e="0"+e).slice(-2)},mm:s},v={h:l,hh:l,H:a,HH:a,k:u,kk:u,K:a,KK:a,mm:a},y=0,E=0,b=0,S=1440,O=1440,T="auto",I="",A=["AM","PM"],P=new C(this,{valueRange:60,displayRange:60,valueMultiplier:1,displayMultiplier:1}),D=new C(this,{valueMultiplier:60,displayMultiplier:1}),M=new C(this,{valueRange:2,displayRange:2,formatter:function(e){return A[e]},parser:function(e){return"a"===(e=e.toLowerCase().charAt())?0:"p"===e?1:-1},valueMultiplier:g,displayMultiplier:1}),N=[P,D,M],L=!1,w=this;L=!0,Object.defineProperty(w,"increment",{enumerable:!0,get:function(){return d},set:function(e){d=Math.floor(e),i()}}),w.increment=1,Object.defineProperty(w,"grouped",{enumerable:!0,get:function(){return T},set:function(e){switch(e){case"auto":case"all":case"none":case"hoursMinutes":case"hoursMeridiem":T=e;break;default:throw new Error("invalid grouped value: "+e)}i()}}),Object.defineProperty(w,"min",{enumerable:!0,get:function(){return E},set:function(e){E=Math.floor(e),i()}}),Object.defineProperty(w,"isoMin",{enumerable:!0,get:function(){return r(E)},set:function(e){var t=n(e);isNaN(t)?p.error("Invalid ISO min time: %s",e):w.min=t}}),Object.defineProperty(w,"max",{enumerable:!0,get:function(){return S-1},set:function(e){S=Math.floor(e)+1,i()}}),Object.defineProperty(w,"isoMax",{enumerable:!0,get:function(){return r(S)},set:function(e){var t=n(e);isNaN(t)?p.error("Invalid ISO max time: %s",e):w.max=t}}),Object.defineProperty(w,"value",{enumerable:!0,get:function(){return y},set:function(e){y=Math.floor(e),i()}}),Object.defineProperty(w,"isoValue",{enumerable:!0,get:function(){return r(y)},set:function(e){var t=n(e);isNaN(t)?p.error("Invalid ISO value time: %s",e):w.value=t}}),Object.defineProperty(w,"format",{enumerable:!0,get:function(){return h},set:function(e){h=e;var t=e.replace(/'[^']*'/g,"").replace(/[^hHkKma]*/g,""),n=t.match(/([hHkK]+)/),r=n[1];D.formatter=_[r],D.parser=v[r];var o=(n=t.match(/(m+)/))[1];P.formatter=_[o],P.parser=v[o],m=I.indexOf("a")>=0,i()}}),Object.defineProperty(w,"wheelOrder",{enumerable:!0,get:function(){return I},set:function(e){I=e}}),Object.defineProperty(w,"ampmStrings",{enumerable:!0,get:function(){return A},set:function(e){A=e}}),L=!1,w.setProperties=t,t(),w.getWheelModel=function(e){switch(e){case"hour":return D;case"minute":return P;case"ampm":return m?M:null;default:return}}}(null);this._timePickerModel=y;for(var b=["","","",""],O=n._getTimePositioning(a),T=Object.keys(O),I=0;I<T.length;I++){var A=T[I];b[O[A]]=A}y.wheelOrder=b.filter(function(e){return!!e}).join("");var P=l.pattern||l.patternFromOptions;P?y.format=P:(P=(l=n.resolvedOptions()).pattern||l.patternFromOptions,y.format=P),y.ampmStrings=this._getAmPmStrings();var D=this.options.timePicker.timeIncrement;if(D){var M=E(D);y.increment=60*M.hourIncr+M.minuteIncr}try{y.isoValue=this._getIsoDateValue(s)}catch(e){y.isoValue=n.parse(m),p.info("The value of the InputTime element should be an ISOString, please use a valid ISOString")}g&&(y.isoMin=g),_&&(y.isoMax=_),!this._isIndependentInput()||i&&0!==t(".oj-timepicker-header",o).length||o.append(t(this._generateHeader(r))),this._wheelGroup=t(function(e){function i(e){var i=e.target,n=e.keyCode;switch(n){case a:t(i).prev().focus();break;case l:t(i).next().focus()}}function n(e){var t=e.target;if(t.ojLinked())for(var i=0;i<u.length;i++)u[i].ojLinked()&&u[i].classList.add("oj-active");else t.classList.add("oj-active")}function r(){for(var e=0;e<u.length;e++)u[e].classList.remove("oj-active")}function o(){for(var t=s.firstChild;t;)t.ojDestroy(),s.removeChild(t),t=s.firstChild;u=[],function(){var t,i,o=e.wheelOrder,a=S(e.getWheelModel("hour"),!0,"oj-timepicker-hour"),l=S(e.getWheelModel("minute"),!0,"oj-timepicker-minute");o.indexOf("a")>=0&&(t=e.getWheelModel("ampm"),i=S(t,!1,"oj-timepicker-meridian"));var c,d=o.split("");for(c=0;c<d.length;c++)switch(d[c]){case"h":u.push(a);break;case"m":u.push(l);break;case"a":u.push(i);break;default:p.error("Unknown wheelOrder code: %s",d[c])}for(c=0;c<u.length;c++){var h=u[c];h.addEventListener("focus",n,!1),h.addEventListener("blur",r,!1),s.appendChild(h)}}()}var s,a=37,l=39,u=[];return(s=document.createElement("div")).classList.add("oj-timepicker-wheel-group"),s.ojRefresh=o,s.addEventListener("keydown",i,!1),o(),s}(y)),this._isIndependentInput()?this._wheelGroup.insertAfter(t(".oj-timepicker-header",o)):o.append(this._wheelGroup),i&&0!==t(".oj-timepicker-footer",o).length||o.append(t(this._generateFooter(v,h))),o.find(".oj-timepicker-hour").attr("aria-label",this.getTranslatedString("hourWheelLabel")),o.find(".oj-timepicker-minute").attr("aria-label",this.getTranslatedString("minuteWheelLabel")),o.find(".oj-timepicker-meridian").attr("aria-label",this.getTranslatedString("ampmWheelLabel")),i||this._attachWheelHandler()}},_detachWheelHandler:function(){this._wheelPicker.find(".oj-timepicker-now").off("click"),this._isIndependentInput()?(this._wheelPicker.find(".oj-timepicker-cancel-button").off("click"),this._wheelPicker.find(".oj-timepicker-ok-button").off("click"),this._wheelPicker.off("keydown")):this._wheelPicker.find(".oj-timepicker-wheel").off("blur")},_attachWheelHandler:function(){var e=this;return this._wheelPicker.find(".oj-timepicker-now").on("click",function(t){var i,n=new Date,r=e._GetConverter().resolvedOptions();i=void 0!==r.timeZone&&"local"!==r.isoStrFormat?n.toISOString():u.IntlConverterUtils.dateToLocalIso(n),e._timePickerModel.isoValue=i,e._isIndependentInput()||e._SetValue(e._timePickerModel.isoValue,t),t.preventDefault()}),this._isIndependentInput()?(this._wheelPicker.find(".oj-timepicker-cancel-button").on("click",function(t){t.preventDefault(),e._hide(e._ON_CLOSE_REASON_CANCELLED)}),this._wheelPicker.find(".oj-timepicker-ok-button").on("click",function(t){e._hide(e._ON_CLOSE_REASON_SELECTION),e._SetValue(e._timePickerModel.isoValue,t),t.preventDefault()}),this._wheelPicker.on("keydown",function(i){i.keyCode===t.ui.keyCode.ESCAPE&&(i.preventDefault(),e._hide(e._ON_CLOSE_REASON_CANCELLED))}),void 0):(this._wheelPicker.find(".oj-timepicker-wheel").on("blur",function(t){e._SetValue(e._timePickerModel.isoValue,t)}),this._datePickerComp.widget._togglePicker(),void this._wheelGroup.children().first().focus())},_showWheelPicker:function(){this._createWheelPickerDom();var t=this._popUpWheelPicker;if(t)if(L){var i=e.PositionUtils.normalizeHorizontalAlignment({my:"start top",at:"start bottom",of:this.element,collision:"flipfit"},this._IsRTL());t.ojPopup("open",this.element.parent(),i)}else t.ojPopup("open",this.element.parent(),{my:{horizontal:"center",vertical:"bottom"},at:{horizontal:"center",vertical:"bottom"},of:window,collision:"flipfit"}),this._wheelGroup.children().first().focus()},getNodeBySubId:function(e){var i=null,n=e&&e.subId,r=this._wheelPicker,o=this._getWheelPickerContent(r);if(n)switch(n){case"oj-inputdatetime-time-icon":i=t(".oj-inputdatetime-time-icon",this._triggerNode)[0];break;case"oj-inputdatetime-time-input":i=this.element[0];break;case"oj-timepicker-content":i=o?o[0]:null;break;case"oj-timepicker-cancel-button":i=t(".oj-timepicker-cancel-button",r)[0];break;case"oj-timepicker-ok-button":i=t(".oj-timepicker-ok-button",r)[0];break;case"oj-timepicker-hour":i=t(".oj-timepicker-hour",r)[0];break;case"oj-timepicker-minute":i=t(".oj-timepicker-minute",r)[0];break;case"oj-timepicker-meridian":i=t(".oj-timepicker-meridian",r)[0];break;case"oj-timepicker-now":i=t(".oj-timepicker-now",r)[0];break;default:i=null}return i||this._superApply(arguments)},getSubIdByNode:function(e){var i=t(".oj-inputdatetime-time-icon",this._triggerNode),n=null,r=this._wheelPicker,o=this._getWheelPickerContent(r),s=[{selector:".oj-timepicker-cancel-button",ele:r},{selector:".oj-timepicker-ok-button",ele:r},{selector:".oj-timepicker-hour",ele:r},{selector:".oj-timepicker-minute",ele:r},{selector:".oj-timepicker-meridian",ele:r},{selector:".oj-timepicker-now",ele:r}];if(e===i[0])n="oj-inputdatetime-time-icon";else if(e===this.element[0])n="oj-inputdatetime-time-input";else if(o&&e===o[0])n="oj-timepicker-content";else for(var a=0;a<s.length;a++){var l=s[a],u=t(l.selector,l.ele);if(1===u.length&&u[0]===e){n=l.selector.substr(1);break}}return n||this._superApply(arguments)},widget:function(){return this._isIndependentInput()?this._super():this._datePickerComp.widget.widget()}}),o.setDefaultOptions({ojInputTime:{renderMode:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).keyboardEdit}),timePicker:o.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).timePicker})}}),S.counter=0;var R=t.oj.ojInputDate.prototype.options.converter,k=t.oj.ojInputTime.prototype.options.converter;e.__registerWidget("oj.ojInputDateTime",t.oj.ojInputDate,{widgetEventPrefix:"oj",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-time oj-component oj-inputdatetime",_INPUT_HELPER_KEY:"inputHelpBoth",_TRIGGER_CALENDAR_CLASS:"oj-inputdatetime-calendar-clock-icon",options:{converter:u.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}),renderMode:"jet",timePicker:{footerLayout:"",timeIncrement:"00:05:00:00",showOn:"focus"}},_InitBase:function(){this._super(),this._timePickerElement=this.element,this._timePicker=null,this._timeConverter=null,this._previousValue=null,this._switcherDiv=null,this._switcherPrevValue=null,this._switcherPrevDay=null,this._switcherPrevMonth=null,this._switcherPrevYear=null,this._switcherDateValue=null,this._switcherTimeValue=null,this._dateTimeSwitcherActive=null,this._isInLine||!0!==this.options.readOnly&&this._createSwitcherDiv()},_createSwitcherDiv:function(){this._switcherDiv=t(this._generateSwitcher()),this._popUpDpDiv.ojPopup("widget")[0].querySelector(".oj-popup-content").appendChild(this._switcherDiv[0]);var e=this;this._popUpDpDiv.on("ojclose",function(){null===e._switcherDateValue&&null===e._switcherTimeValue||(e._currentDay=e._switcherPrevDay,e._currentMonth=e._switcherPrevMonth,e._drawMonth=e._currentMonth,e._currentYear=e._switcherPrevYear,e._drawYear=e._currentYear,e._SetValue(e._switcherPrevValue),e._switcherTimeValue=null,e._switcherDateValue=null,e._switcherPrevDay=null,e._switcherPrevMonth=null,e._switcherPrevYear=null,e._switcherPrevValue=null)}),this._switcherDiv.find("[data-handler]").map(function(){var i={switchMe:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type)return e._isShowingDatePickerSwitcher()?(e.show(),e._placeFocusOnCalendar()):e._timePicker.ojInputTime("show"),!1},switchDone:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type){var r=e._GetConverter().format(e._getDateIso()),o=e._GetConverter().parse(r);e._switcherDateValue&&(o=e._switcherDateValue),e._switcherTimeValue&&(o=u.IntlConverterUtils._copyTimeOver(e._switcherTimeValue,o)),e._switcherPrevValue&&o&&!e._switcherTimeValue&&(o=u.IntlConverterUtils._copyTimeOver(e._switcherPrevValue,o));var s=e._GetConverter().format(o);return e._SetDisplayValue(s),e._SetValue(s,{}),e._switcherTimeValue=null,e._switcherDateValue=null,e._switcherPrevDay=null,e._switcherPrevMonth=null,e._switcherPrevYear=null,e._switcherPrevValue=null,e._hide(e._ON_CLOSE_REASON_SELECTION),!1}},switchCancel:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type)return e._hide(e._ON_CLOSE_REASON_CANCELLED),!1}};t(this).bind(this.getAttribute("data-event"),i[this.getAttribute("data-handler")])})},_setupSwitcherButtons:function(){var e=this._switcherDiv.find("a");this._AddHoverable(e),this._AddActiveable(e)},_ComponentCreate:function(){var e=this._super();if(this._isInLine){var i=t("<input type='text'>");i.insertAfter(this.element),this._timePickerElement=i,this._createTimePicker()}else!0!==this.options.readOnly&&(this._setupSwitcherButtons(),this._createTimePicker());return e},_createTimePicker:function(){for(var e=["title","placeholder","disabled","required","readOnly","keyboardEdit","pickerAttributes","renderMode"],i={},n=0,r=e.length;n<r;n++)i[e[n]]=this.options[e[n]];var o=this.options.displayOptions.messages,s=this.options.timePicker;this._isInLine||t.extend(s,{footerLayout:"now"});var a=this._GetConverter();if(a instanceof Promise){var l=this,u=a.then(function(e){return l._getTimePickerConverter(e),l._timeConverter});this._timePicker=this._timePickerElement.ojInputTime(t.extend(i,{converter:u,displayOptions:{converterHint:"none",title:"none",messages:o},value:this.options.value,timePicker:s,datePickerComp:{widget:this,inline:this._isInLine}}))}else{var c=this._formatValueWithTimeConverter(this.options.value);this._timePicker=this._timePickerElement.ojInputTime(t.extend(i,{converter:this._timeConverter,displayOptions:{converterHint:"none",title:"none",messages:o},value:c,timePicker:s,datePickerComp:{widget:this,inline:this._isInLine}}))}},_AfterCreate:function(){var e=this._superApply(arguments);return this._dateTimeSwitcherActive=!y(this)&&this._timePicker&&!this._isInLine,e},_AfterCreateConverterCached:function(){var e=this._super(),t=null;try{t=this._getTimePickerConverter(this._GetConverter())}catch(e){}if(null===t)throw new Error("Please use ojInputDate if your converter doesn't specify a time format.");return e},_setOption:function(e,t,i){var n=this._superApply(arguments);if("value"===e){var r=this._formatValueWithTimeConverter(this.options.value);this._previousValue=r}else"readOnly"===e&&(this._isInLine||t||null!=this._switcherDiv||(this._createSwitcherDiv(),this._setupSwitcherButtons(),this._createTimePicker()));return this._timePicker&&(e in{disabled:!0,readOnly:!0,keyboardEdit:!0}?this._timePicker.ojInputTime("option",e,t):"timePicker"===e?this._timePicker.ojInputTime("option","timePicker.timeIncrement",t.timeIncrement):"converter"===e&&(this._timeConverter=null,this._timePicker.ojInputTime("option",e,this._getTimePickerConverter(this._GetConverter())))),n},_destroy:function(){return this._cleanUpDateTimeResources(),this._super()},_cleanUpDateTimeResources:function(){if(this._timePicker&&this._timePicker.ojInputTime("destroy"),this._isInLine)this._timePickerElement.remove();else if(this._switcherDiv){var e=this._switcherDiv.find("a");this._RemoveActiveable(e),this._RemoveHoverable(e),this._switcherDiv.remove()}},_formatValueWithTimeConverter:function(e){var t=e;try{this._getTimePickerConverter(this._GetConverter()).format(e)}catch(e){p.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),t=this._getDefaultIsoDate()}return t},_GetCalendarTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipCalendarTime"+(this.options.disabled?"Disabled":"")))},_generateSwitcher:function(){var e=document.createElement("div");e.className="oj-datetimepicker-switcher";var t=document.createElement("div");t.setAttribute("data-handler","switchMe"),t.setAttribute("data-event","click keydown");var i=document.createElement("div");return i.className="oj-inputdatetime-time-icon oj-clickable-icon-nocontext oj-component-icon oj-enabled oj-default",t.appendChild(i),(i=document.createElement("a")).setAttribute("onclick","return false;"),i.setAttribute("href","#"),i.className="oj-enabled oj-datetimepicker-switcher-text",i.setAttribute("role","button"),t.appendChild(i),e.appendChild(t),(t=document.createElement("div")).className="oj-datetimepicker-switcher-buttons",(i=document.createElement("a")).setAttribute("onclick","return false;"),i.setAttribute("href","#"),i.className="oj-enabled",i.setAttribute("data-handler","switchDone"),i.setAttribute("data-event","click keydown"),i.setAttribute("role","button"),i.textContent=this._EscapeXSS(this.getTranslatedString("done")),t.appendChild(i),(i=document.createElement("a")).setAttribute("onclick","return false;"),i.setAttribute("href","#"),i.className="oj-enabled",i.setAttribute("data-handler","switchCancel"),i.setAttribute("data-event","click keydown"),i.setAttribute("role","button"),i.textContent=this._EscapeXSS(this.getTranslatedString("cancel")),t.appendChild(i),e.appendChild(t),e},_updateSwitcherText:function(){var e="";if(this._isShowingDatePickerSwitcher())try{e=R.format(this._switcherDateValue||this._getDateIso())}catch(t){e=R.format(this._getDefaultIsoDate())}else try{e=this._getTimePickerConverter(this._GetConverter()).format(this._switcherTimeValue||this._getDateIso())}catch(t){e=k.format(this._getDefaultIsoDate())}t(".oj-datetimepicker-switcher-text",this._switcherDiv).text(e)},_isShowingDatePickerSwitcher:function(){return!this._switcherDiv||0===t(".oj-inputdatetime-time-icon",this._switcherDiv).length},_togglePicker:function(){var e,i,n,r,o,s=this._switcherDiv,a=!this._isShowingDatePickerSwitcher();a?(r="oj-inputdatetime-calendar-icon",n="oj-inputdatetime-time-icon",o="Set Date"):(r="oj-inputdatetime-time-icon",n="oj-inputdatetime-calendar-icon",o="Set Time");var l=t(s.children()[0]).children();t(l[0]).removeClass(n).addClass(r),t(l[1]).text(o),(l=t(".oj-popup-content",this._popUpDpDiv.ojPopup("widget")).children())[0].classList.contains("oj-datepicker-popup")?(e=t(l[0]),i=t(l[1])):(e=t(l[1]),i=t(l[0])),a?(e.css("display","none"),i.css("display","block")):(i.css("display","none"),e.css("display","block")),this._updateSwitcherText()},_getTimePickerConverter:function(e){return null!==this._timeConverter?this._timeConverter:(this._timeConverter=b(e),this._timeConverter)},timeSelected:function(e,t){if(this._dateTimeSwitcherActive)this._switcherTimeValue=e;else{var i=this._GetConverter().format(e);this._SetDisplayValue(i),this._SetValue(i,t)}},getValueForInputTime:function(){var e=null;if(this.isValid())e=this.options.value;else if(this._previousValue)try{e=this._GetConverter().parse(this._previousValue)}catch(t){e=this.options.value}else e=null;return this._isDateTimeSwitcher()&&(e=this._switcherDateValue||e,this._switcherTimeValue&&e&&(e=u.IntlConverterUtils._copyTimeOver(this._switcherTimeValue,e))),e},_SetValue:function(e,t,i){var n=this._superApply(arguments);return this._previousValue=e,n},_SetDisplayValue:function(e){if(this._isInLine){var t=!(this._isInLine&&this._timePicker&&this._timePicker[0]===document.activeElement);this._updateDatepicker(t)}else this._superApply(arguments),this._updateSwitcherText();this._switcherTimeValue=null},_onKeyDownHandler:function(e){var i=t.ui.keyCode,n=!1;switch(e.keyCode){case i.UP:case i.DOWN:e.shiftKey&&(this._SetValue(this._GetDisplayValue(),e),this._timePicker.ojInputTime("show"),n=!0)}return n?(e.preventDefault(),e.stopPropagation(),!1):this._superApply(arguments)},show:function(){return this._isShowingDatePickerSwitcher()&&this._togglePicker(),this._super()},_ShowNativeDatePicker:function(e){e.mode="datetime";var t=E(this.options.timePicker.timeIncrement);return e.minuteInterval=0===t.hourIncr?t.minuteIncr:1,this._super(e)},_OnDatePicked:function(e){if(this._nativePickerShowing=!1,e){var t;t=this._validateDatetime(this._getDateIso(),{month:e.getMonth(),date:e.getDate(),fullYear:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()});var i=this._GetConverter().format(t);this._SetValue(i,{})}this._onClose(this._ON_CLOSE_REASON_SELECTION)},_ShowHTMLDatePicker:function(){var e=this._superApply(arguments),t=this._GetConverter();return t instanceof Promise?this._switcherPrevValue=this.options.value?this._getDateIso():"":this._switcherPrevValue=t.parse(this.options.value?this._getDateIso():""),this._switcherPrevDay=this._currentDay,this._switcherPrevMonth=this._currentMonth,this._switcherPrevYear=this._currentYear,this._updateSwitcherText(),e},showTimePicker:function(){this._datepickerShowing()||this.show(),this._isShowingDatePickerSwitcher()||this._timePicker.ojInputTime("show")},hideTimePicker:function(){return this.hide()},refresh:function(){var e=this._superApply(arguments)||this;return this._timePicker&&this._timePicker.ojInputTime("refresh"),this._switcherDiv&&(t("a[data-handler='switchDone']",this._switcherDiv).text(this.getTranslatedString("done")),t("a[data-handler='switchCancel']",this._switcherDiv).text(this.getTranslatedString("cancel"))),e},getNodeBySubId:function(e){var i=e&&e.subId,n=null;return i&&(n="oj-inputdatetime-date-input"===i?this._isInLine?this._timePickerElement[0]:this.element[0]:"oj-inputdatetime-calendar-clock-icon"===i?t(".oj-inputdatetime-calendar-clock-icon",this._triggerNode)[0]:this._timePicker?this._timePicker.ojInputTime("getNodeBySubId",e):null),n||this._superApply(arguments)},getSubIdByNode:function(e){var i=null;return this._isInLine?e===this._timePickerElement[0]&&(i="oj-inputdatetime-date-input"):e===this.element[0]?i="oj-inputdatetime-date-input":e===t(".oj-inputdatetime-calendar-clock-icon",this._triggerNode)[0]&&(i="oj-inputdatetime-calendar-clock-icon"),i||(this._timePicker?this._timePicker.ojInputTime("getSubIdByNode",e):null)||this._superApply(arguments)},_GetConverter:function(){return this.options.converter?this._superApply(arguments):t.oj.ojInputDateTime.prototype.options.converter},_NotifyDetached:function(){this._timePicker&&this.hideTimePicker(),this._superApply(arguments)},_NotifyHidden:function(){this._timePicker&&this.hideTimePicker(),this._superApply(arguments)},_GetMessagingLauncherElement:function(){return this._isInLine?this._timePickerElement:this._super()},_GetDefaultStyleClass:function(){return"oj-inputdatetime"},_SetLoading:function(){this._super(),this._timePicker&&this._timePicker.ojInputTime("option","readOnly",!0)},_ClearLoading:function(){this._super(),
this._timePicker&&this._timePicker.ojInputTime("option","readOnly",this.options.readOnly)},_GetTranslationsSectionName:function(){return"oj-ojInputDate"}}),D.extension._WIDGET_NAME="ojInputTime",D.extension._INNER_ELEM="input",D.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],D.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-input-time",{metadata:D}),function(){A.extension._WIDGET_NAME="ojInputDate",A.extension._INNER_ELEM="input",A.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],A.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-input-date",{metadata:A});var t=e.CollectionUtils.copyInto({},A,void 0,!0);t.extension._INNER_ELEM="div",e.CustomElementBridge.register("oj-date-picker",{metadata:t})}(),function(){P.extension._WIDGET_NAME="ojInputDateTime",P.extension._INNER_ELEM="input",P.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],P.extension._ALIASED_PROPS={readonly:"readOnly"},e.CustomElementBridge.register("oj-input-date-time",{metadata:P});var t=e.CollectionUtils.copyInto({},P,void 0,!0);t.extension._INNER_ELEM="div",e.CustomElementBridge.register("oj-date-time-picker",{metadata:t})}()}),define("ccKoOjExtensions",["knockout","CCi18n","dateTimeUtils","numberFormatHelper","currencyHelper","ojs/ojcore","ojs/ojinputtext","ojs/ojvalidation","ojs/ojinputtext","ojs/ojdatetimepicker"],function(e,t,i,n,r,o){"use strict";!function(){var n,o,s,a,l,u,c,d,p,h,m=!0,f="CC-propertyEditor-";s=function(t,i){var n,r,o,s;if(o=e.utils.unwrapObservable(i.type),i.prefix=i.prefix||t.prefix,i.unit=i.unit||t.unit,!o&&i.values&&(o="radio"),t.rules)for(n=t.rules(),s=0;s<n.length;s+=1)if(r=n[s],"required"!==r.rule||!r.params||r.condition&&!r.condition()||i.required===!1||(i.required=!0),!o)switch(r.rule){case"number":o="number";break;case"date":o="date-ojet";break;case"bool":o="checkbox"}e.utils.unwrapObservable(i.type)||(i.type=o||"shortText"),i.label||(i.label=t.label)},n=function(){var e=!0,t=$("#"+this.idBase+"field").val();""===t?$("#"+this.idBase+"controlGroup .cc-required-message").css("display","inline-block"):$("#"+this.idBase+"controlGroup .cc-required-message").css("display","none"),e=i.validateDate(t),e===!1?$("#"+this.idBase+"controlGroup .cc-invalid-date").css("display","inline-block"):$("#"+this.idBase+"controlGroup .cc-invalid-date").css("display","none")},o=function(){var e=!0,t=$("#"+this.idBase+"field").val();e=i.validateTime(t),e===!1&&($("#"+this.idBase+"field").val("T00:00:00"),this.property("T00:00:00"))},a=function(e,t){var i;i="currencyMap"===this.type?this.property()[e.id]:this.property,void 0==i||i.isModified()||i.isValid()?i&&i.forcedModified&&i()&&(i.forcedModified=!1):(i.isModified(!0),i.forcedModified=!0)},h=function(e){$("#"+e).focus()},l=function(e,t){var i=$("#"+e).get(0),n=$("#"+t.target.id);"text"==i.type?u(i,n,!1):u(i,n,!0)},u=function(e,i,n){n?(e.type="text",i.text(t.t("ns.common:resources.hideText"))):(e.type="password",i.text(t.t("ns.common:resources.revealText")))},c=function(e,t){var i=$(t.target),n=$(t.target).prev("input"),r=1===t.which||32===t.which||13===t.which;if(r)"block"!=i.css("display")&&"inline-block"!=i.css("display")||(i.toggle(!1),$(t.target).prev("input").attr("disabled",!1),n.select(),n.val(""),n.focus());else if(9===t.which)return!0},d=function(e,t){var i=$(t.target),n=i.next("input");0===i.val().length&&(e&&(i.attr("disabled","true"),n.toggle(!0)),this.validate())},m=function(e,t){"currencyMap"===this.type&&e?(this.property()[e.id](null),$("#"+this.property()[e.id].formId).focus()):(this.property(null),$("#"+this.property.formId).focus())},e.bindingHandlers.propertyEditor={init:function(t,i){e.utils.unwrapObservable(i());return{controlsDescendantBindings:!0}},update:function(i,u,g,_,v){var y,E,b,S,O,C,T,I,A,P=e.utils.unwrapObservable(u()),D=e.observable(!0),M=t.t("ns.common:resources.numberValidation");if(P.property&&e.isObservable(P.property)){C=P.property,C.extend({validatable:!0}),I=e.utils.unwrapObservable(P.id),A=e.utils.unwrapObservable(P.type),y=new Date,E=new Date(y.getFullYear(),y.getMonth(),y.getDate()),T=!P.clearValue,C.extend({validatable:!0}),b={writable:e.observable(!0),visible:e.observable(!0),currentDate:y,minDate:E,valueUpdate:"change",numericValidationErrorMessage:M};for(O in P)P.hasOwnProperty(O)&&("writable"!==O||e.isObservable(P[O])?b[O]=P[O]:b.writable(P[O]));var N=function(t,i){var n,r=null,o=t.currentTarget,s=e.contextFor(o);if(n=s.$parent?"currencyMap"===s.$parent.type:"currencyMap"===s.$parents[1].type,r=n?s.$parent.property()[e.dataFor(o).id]:e.dataFor(o),r.numericJetValidation(!0),t&&t.detail&&t.detail.value){var a=$(t.target)[0].getProperty("valid"),l=void 0===a||"valid"===a;l?r.numericJetValidation(!0):r.numericJetValidation(!1)}else r.numericJetValidation(!0)},L=e.pureComputed({read:function(){return C()},write:function(t){var i=b.fractionalDigits,n=!1;if("digit"===e.utils.unwrapObservable(b.type)&&(n=!0),void 0!=t)if(i)C(t.toFixed(i));else{var r=t.toString().split(".");if(r&&2==r.length){if(n)return void C(t.toFixed(0));C(r[1].length>3?t.toFixed(3):t)}else C(t)}else C(t)}});s(C,b),P.writable===!1&&b.writable(!1),b.helpText=e.observable(e.utils.unwrapObservable(P.helpText)),b.isRequiredButMissing=e.computed(function(){return b.required&&e.isObservable(b.property.isModified)&&b.property.isModified()&&null==b.property()},b),b.titleText=e.computed(function(){var e="";return e=b.property.hasOwnProperty("isValid")?b.property.isValid()?b.helpText():b.property.error:b.helpText()},b),S={};var w=e.utils.unwrapObservable(b.type);"currency"!==w&&"currencyMap"!==w&&"digit"!==w||("currency"==w||"currency"===w?b.fractionalDigits=r.currencyObject().fractionalDigits:(b.fractionalDigits=0,b.numericValidationErrorMessage=t.t("ns.common:resources.digitValidation")),"currencyMap"!==w&&(w="number")),"enumerated"===w&&b.propertyValuesValue&&(w="complex-enumerated"),S.name=f+w;var j=$(i).closest("form").attr("id");if(j||(j=$(i).parent().attr("id")),b.idBase=j+"-"+S.name+"-"+(I?I+"-":""),"currencyMap"===w)for(O in C())C().hasOwnProperty(O)&&(C()[O].formId=b.idBase+O+"-field");else C.formId=b.idBase+"field";S.data=b,S.if=e.utils.unwrapObservable(P.if)||"undefined"==typeof e.utils.unwrapObservable(P.if),b.required=e.utils.unwrapObservable(b.required||C.required),"currencyMap"===b.type?$.each(b.property(),function(t){b.property()[t].validate=a,b.property()[t].numericJetValidation=e.observable(!0),b.property()[t].addonFocusInput=h}):(b.validate=a,b.numericJetValidation=D,b.addonFocusInput=h),b.clearValueFunction=m,"revealablePassword"===b.type?(b.togglePasswordVisibility=l,b.clickOrKeydownToUpdatePassword=c,b.blurPasswordField=d,b.keyUpInPasswordField=p):"number"===b.type||"currency"===b.type||"digit"===b.type||e.isObservable(b.type)&&"number"===b.type()?(b.customJetOptionChangeListener=N,b.computedValueWithFractions=L):"currencyMap"===b.type&&$.each(b.property(),function(e){b.property()[e].customJetOptionChangeListener=N,b.property()[e].computedValueWithFractions=L}),"date-ojet"===b.type||"time-ojet"===b.type||"date-time-ojet"===b.type?(b.validateOjetDate=n,b.validateOjetTime=o,b.dateTitleText=t.t("ns.common:resources.datePicker"),b.timeTitleText=t.t("ns.common:resources.timePicker")):!e.isObservable(b.type)||"date-ojet"!==b.type()&&"time-ojet"!==b.type()&&"date-time-ojet"!==b.type||(b.validateOjetDate=n,b.validateOjetTime=o,b.dateTitleText=t.t("ns.common:resources.datePicker"),b.timeTitleText=t.t("ns.common:resources.timePicker")),e.bindingHandlers.template.update(i,function(){return S},g,b,v)}}},e.bindingHandlers.ccDateTime={update:function(t,n,r,o,s){var a=n(),l=e.utils.unwrapObservable(a),u=e.utils.unwrapObservable(l.date),c=e.utils.unwrapObservable(l.format),d=e.utils.unwrapObservable(l.dateFormat),p=e.utils.unwrapObservable(l.timeFormat),h=e.utils.unwrapObservable(l.date);h=i.getFormattedDateTime(u,c,d,p),$(t).text(h)}}}(),function(){var t,i,n,o,s=200,a=300,l=100,u=200;o=function(e){0===$(e.target).closest(".popover").length&&i()},i=function(){t&&(t.data("bs.popover").tip().off("keydown"),t.popover("destroy"),t=null,$(document).off("click",o),$(document).off("focusin",o))},n=function(e,t){var i,n,r,o;return o=$(window),i=t.top-o.scrollTop(),n=t.left-o.scrollLeft(),i<l||i<u&&"top"===e?r="bottom":(i>o.height()-l||i>o.height()-u&&"bottom"===e)&&(r="top"),n<s||n<a&&"left"===e?r="right":(n>o.width()-s||n>o.width()-a&&"right"===e)&&(r="left"),r||e},e.bindingHandlers.popeditor={init:function(s,a,l,u,c){var d,p,h,m=a(),f=e.observable(!0),g=m.type,_=e.bindingHandlers.tabTrap;if(p={html:!0,trigger:m.trigger||"manual",content:"<div class='"+m.class+"'></div>",container:m.container||"body",placement:m.placement||"right"},d=$(s),m.plgProperty=e.observable(null),"currencyMap"===g){var v={};$.each(m.property(),function(t){v[t]=e.observable(e.utils.unwrapObservable(this)).extend(m.validate),v[t].jetValidation=e.observable(!0)}),m.plgProperty(v)}"currencyMap"!==g&&(m.validate.validatable=!0),h=c.extend({id:m.id,title:m.title,focusElement:m.focusElement,property:e.observable(e.utils.unwrapObservable(m.property)).extend(m.validate),plgProperty:e.observable(e.utils.unwrapObservable(m.plgProperty)).extend(m.validate),enumeratedValues:e.observable(e.utils.unwrapObservable(m.enumeratedValues)),jetValidation:e.observable(!0),currencyHelper:r,priceListGroups:m.priceListGroups,type:m.type,save:function(){if("currencyMap"!==h.type&&h.property.isValid()&&f())return m.property()!=h.property()&&m.property(h.property()),i(),d.filter(":focusable").length>0?d.focus():d.find(":focusable").focus(),h.property.isModified()&&m.property.notifySubscribers(m.property(),"valueSubmitted"),!1;if("currencyMap"===h.type){var e=!1,t=!1;if($.each(h.plgProperty(),function(i){this.isModified()&&(e=this.isModified(),t=this.isValid())}),e&&t)m.property(h.plgProperty()),m.property.notifySubscribers(h.$parent,"valueSubmitted"),h.close();else if(e&&!t)return!1}},close:function(){return i(),d.filter(":focusable").length>0?d.focus():d.find(":focusable").focus(),!1},focus:function(e){h.focusElement?$(e).find(h.focusElement).focus():$(e).find(":focusable").focus(),_.constrain($(".popover.in"))},customJetOptionChangeListener:function(t,i){var n=null,r=e.contextFor(t.currentTarget),o="currencyMap"===r.type;if(n=o?r.plgProperty()[e.dataFor(t.currentTarget).id]:r,n.jetValidation(!0),"messagesShown"===i.option){var s=$(t.target).ojInputText("isValid");s?n.jetValidation(!0):n.jetValidation(!1)}else n.jetValidation(!0)},computedValueWithFractions:e.pureComputed({read:function(){return h.property()},write:function(e){void 0!=e?"number"===g?h.property(e.toFixed(0)):"price"===g&&h.property(e.toFixed(r.currencyObject().fractionalDigits)):h.property(e)}})}),d.click(function(r){var s;r.preventDefault();var a=m.edgeDetect||"auto";if("auto"===a?p.placement=n(m.placement,d.offset()):"none"===a&&(p.placement=m.placement),d.popover(p),s=d.data("bs.popover").tip(),s.hasClass("in"))i(),d.filter(":focusable").length>0?d.focus():d.find(":focusable").focus();else{if(i(),"currencyMap"===h.type){var l={};$.each(m.property(),function(t){l[t]=e.observable(e.utils.unwrapObservable(this)).extend(m.validate),l[t].jetValidation=e.observable(!0)}),m.plgProperty(l),h.plgProperty(e.utils.unwrapObservable(m.plgProperty)).extend(m.validate),$.each(h.plgProperty(),function(e){h.plgProperty()[e].extend({validatable:!0}),h.plgProperty()[e].errors=null,h.plgProperty()[e].isModified(!1),h.plgProperty()[e].forcedModified=!1})}else h.property(e.utils.unwrapObservable(m.property)),h.property.errors=null,h.property.isModified(!1),h.property.forcedModified=!1;s.addClass(m.class),s.children(".popover-content").attr("data-bind","template: {name: '"+m.type+"', templateUrl: 'templates/popeditors', afterRender: focus}"),m.wideMode?(s.children(".popover-title").attr("data-bind","template: {name: 'wide-header', templateUrl: 'templates/popeditors'}"),s.addClass("cc-pop-wide")):s.children(".popover-title").attr("data-bind","template: {name: 'header', templateUrl: 'templates/popeditors'}"),s.keydown(function(e){27===e.which&&(i(),d.filter(":focusable").length>0?d.focus():d.find(":focusable").focus())}),window.setTimeout(function(){$(document).click(o),$(document).focusin(o)},1),d.popover("show"),t=d,e.applyBindingsToDescendants(h,s[0])}})}},e.bindingHandlers.popover={init:function(t,r,s,a){var l,u,c,d=r();u={html:!0,trigger:d.trigger||"click",content:"<div class='"+d.class+"'></div>",container:d.container||"body",placement:d.placement||"right"},l=$(t),c={model:d.model||a,save:function(){if(c.property.isValid())return d.property()!=c.property()&&d.property(c.property()),i(),l.filter(":focusable").length>0?l.focus():l.find(":focusable").focus(),d.property.notifySubscribers(d.property(),"valueSubmitted"),!1},close:function(){return i(),l.filter(":focusable").length>0?l.focus():l.find(":focusable").focus(),!1},focus:function(e){$(e).find(":focusable").focus(),tabTrap.constrain($(".popover.in"))}},l.click(function(t){var r;u.placement=n(d.placement,l.offset()),l.popover(u),r=l.data("bs.popover").tip(),i(),r.hasClass("in")||(r.children(".popover-content").attr("data-bind","template: {name: '"+d.name+"', templateUrl: '"+d.templateUrl+"', afterRender: focus}"),r.keydown(function(){27===event.which&&i()}),window.setTimeout(function(){$(document).click(o),$(document).focusin(o)},1),l.popover("show"),e.applyBindingsToDescendants(c,r[0]))})}}}(),e.bindingHandlers.textCheck={update:function(t,i,o,s,a){var l=e.utils.unwrapObservable(i()),u=e.utils.unwrapObservable(l.text),c=e.utils.unwrapObservable(l.type),d=e.utils.unwrapObservable(l.prePend),p=e.utils.unwrapObservable(l.nullReplace),h=e.utils.unwrapObservable(l.prependNull);if(!u&&0!==u||isNaN(parseFloat(u)))u=(d&&h?d:"")+(p?p:"");else if("price"==c||"percent"==c||"number"==c||"digit"==c){var m;m="string"==typeof u?parseFloat(u):u,"number"==typeof u||"string"==typeof u&&u.trim().length>0?"price"==c?u=m<0?"-"+(d||"")+r.handleFractionalDigitsAndLocale(Math.abs(m)):(d||"")+r.handleFractionalDigitsAndLocale(m):"percent"==c?u=(d||"")+n.formatNumber(m,2,"decimal"):"number"==c?u=(d||"")+n.formatNumber(m,2,"decimal"):"digit"==c&&(u=(d||"")+n.formatNumber(m,0,"decimal")):u=(d&&h?d:"")+(p?p:"")}else u=(d||"")+u;e.bindingHandlers.text.update(t,function(){return u})}},function(){var i,n,r,o,s,a=200,l=300,u=100,c=200,d=!0;o=function(e){0!==$(e.target).closest(".popover").length||s(e.target,"datepicker")||s(e.relatedTarget,"oj-datepicker")||n()},s=function(e,t){if(e)do if(1==e.nodeType&&$(e).is("[class*="+t+"]"))return!0;while((e=e.parentElement)&&void 0!==e&&1==e.nodeType);return!1},n=function(){i&&(i.data("bs.popover").tip().off("keydown"),i.popover("destroy"),i=null,$(document).off("click",o),$(document).off("focusin",o))},r=function(e,t){var i,n,r,o;return o=$(window),i=t.top-o.scrollTop(),n=t.left-o.scrollLeft(),i<u||i<c&&"top"===e?r="bottom":(i>o.height()-u||i>o.height()-c&&"bottom"===e)&&(r="top"),n<a||n<l&&"left"===e?r="right":(n>o.width()-a||n>o.width()-l&&"right"===e)&&(r="left"),r||e},e.bindingHandlers.datepopover={init:function(s,a,l,u){var c,p,h,m,f,g=a(),_=e.bindingHandlers.tabTrap,v=!1;p={html:!0,trigger:g.trigger||"click",content:"<div class='"+g.class+"'></div>",container:g.container||"body",placement:g.placement||"right"},c=$(s),h={toDate:e.observable(e.utils.unwrapObservable(g.toDate)),fromDate:e.observable(e.utils.unwrapObservable(g.fromDate)),toDateLabel:t.t("ns.reporting:resources.toText")+" "+t.t("ns.reporting:resources.date")+":"+t.t("ns.reporting:resources.descriptionToAccessCalender"),fromDateLabel:t.t("ns.reporting:resources.fromText")+" "+t.t("ns.reporting:resources.date")+":"+t.t("ns.reporting:resources.descriptionToAccessCalender"),toDateText:t.t("ns.reporting:resources.toText"),fromDateText:t.t("ns.reporting:resources.fromText"),customDateRangeText:t.t("ns.reporting:resources.customDateRangeText"),errorMessage:g.errorMessage,dataCollectionStartDate:g.dataCollectionStartDate,yesterday:g.yesterday,save:function(e,t){var i=$("#cc-fromDate").ojInputDate("option","placeholder");return i&&(i=i.toUpperCase()),"true"===$("#cc-fromDate").attr("aria-invalid")||"true"===$("#cc-toDate").attr("aria-invalid")?(g.toDate(void 0),g.fromDate(void 0)):(null===h.toDate()?g.toDate(null):g.toDate(moment(h.toDate()).toDate()),null===h.fromDate()?g.fromDate(null):g.fromDate(moment(h.fromDate()).toDate())),!!(d=g.validation())&&(n(),c.filter(":focusable").length>0?c.focus():c.find(":focusable").focus(),g.toDate.notifySubscribers(g.toDate(),"valueSubmitted"),g.fromDate.notifySubscribers(g.fromDate(),"valueSubmitted"),v=!0,!1)},close:function(){return n(),c.filter(":focusable").length>0?c.focus():c.find(":focusable").focus(),!1},focus:function(e){if(g.initFromDate()&&g.initToDate()){var t=$("#cc-fromDate").ojInputDate("option","placeholder");t&&(t=t.toUpperCase()),$("#cc-fromDate").val(ccDate.formatDateAndTime(g.initFromDate(),null,t,null)),$("#cc-toDate").val(ccDate.formatDateAndTime(g.initToDate(),null,t,null)),g.fromDate(g.initFromDate()),g.toDate(g.initToDate())}$(e).find("#cc-toDate").focus(),$(e).find("#cc-fromDate").focus(),_.constrain($(".popover.in"))}};var y=$(g.container);y.on("hidden.bs.popover",function(){v&&(f=null,m=null,g.initFromDate(null),g.initToDate(null))}),c.click(function(t){var s;t.preventDefault(),p.placement=r(g.placement,c.offset()),c.popover(p),s=c.data("bs.popover").tip(),s.hasClass("in")?(n(),c.filter(":focusable").length>0?c.focus():c.find(":focusable").focus()):(n(),""===g.errorMessage()||void 0===g.errorMessage()?(null==g.toDate()||void 0==g.toDate()?h.toDate(null):h.toDate(ccDate.formatDateAndTime(g.toDate(),null,CCConstants.OJET_INPUT_SHORT_DATE_FORMAT,null)),void 0==g.fromDate()||null==g.fromDate()?h.fromDate(null):h.fromDate(ccDate.formatDateAndTime(g.fromDate(),null,CCConstants.OJET_INPUT_SHORT_DATE_FORMAT,null)),h.errorMessage=g.errorMessage):(h.toDate(null),h.fromDate(null),f=null,m=null,g.initToDate(null),g.initFromDate(null),g.toDate(null),g.errorMessage(""),g.fromDate(null)),s.css("z-index",g.zIndex),s.css("min-height",g.minHeight),s.css("min-width",g.minWidth),s.children(".popover-title").attr("data-bind","template: {name: 'datepickerHeader', templateUrl: 'templates/reporting'}"),s.children(".popover-content").attr("data-bind","template: {name: '"+g.name+"', templateUrl: '"+g.templateUrl+"', afterRender: focus}"),s.keydown(function(e){27===e.which&&n()}),window.setTimeout(function(){$(document).click(o),$(document).focusin(o)},1),c.popover("show"),i=c,e.cleanNode(s[0]),e.applyBindingsToDescendants(h,s[0]))})}},e.bindingHandlers.popover={init:function(t,i,s,a){var l,u,c,d=i();u={html:!0,trigger:d.trigger||"click",content:"<div class='"+d.class+"'></div>",container:d.container||"body",placement:d.placement||"right"},l=$(t),c={model:d.model||a,save:function(){if(c.property.isValid())return d.property()!=c.property()&&d.property(c.property()),n(),l.filter(":focusable").length>0?l.focus():l.find(":focusable").focus(),d.property.notifySubscribers(d.property(),"valueSubmitted"),!1},close:function(){return n(),l.filter(":focusable").length>0?l.focus():l.find(":focusable").focus(),!1},focus:function(e){$(e).find(":focusable").focus(),tabTrap.constrain($(".popover.in"))}},l.click(function(t){var i;u.placement=r(d.placement,l.offset()),l.popover(u),i=l.data("bs.popover").tip(),n(),i.hasClass("in")||(i.children(".popover-content").attr("data-bind","template: {name: '"+d.name+"', templateUrl: '"+d.templateUrl+"', afterRender: focus}"),i.children(".popover-title").attr("data-bind","template: {name: 'datepickerHeader', templateUrl: 'templates/reporting'}"),i.keydown(function(){27===event.which&&n()}),window.setTimeout(function(){$(document).click(o),$(document).focusin(o)},1),l.popover("show"),e.applyBindingsToDescendants(c,i[0]))})}}}()});
//# sourceMappingURL=cc-ko-oj-extensions.js.map